{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/1212448_4996.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/ITDM2】拠点ごとに！部署ごとに！ 社内ポリシーに合わせて、柔軟に USBメモリの使用を制御する方法\nContent:\n資産管理\n2020.11.30\n【JP1/ITDM2】拠点ごとに！部署ごとに！ 社内ポリシーに合わせて、柔軟に USBメモリの使用を制御する方法\n最近弊社サポートセンターでは、テレワーク急伸に伴い、特定の条件下でのみ社員にUSBメモリの利用を許可したい、というお問い合わせが増えてきました。\nそこで本記事では、拠点や部署単位で、柔軟にUSBメモリの使用を制御する方法をご紹介します。\nJP1/ITDM2によるUSBメモリの使用制御\nJP1/ITDM2では、社員のデータ持ち出しによる情報漏えいを防ぐため、USBメモリの使用を制限できます。V11.5 からは、部署／設置場所／エージェントなどの条件に沿って、USBメモリの使用を制限できるようになりました。\n設定手順\n部署単位でのUSBメモリ使用制御\n下図のように、総務部のUSBメモリを、総務部以外のメンバーのPCでは使用不可にする手順をご紹介します。部署単位で制御を行う場合、管理対象のPCに対して部署情報が設定されていることが前提となります。\n1.JP1/ITDM2の[セキュリティ]画面にて、[セキュリティポリシー一覧]を開き、[追加]を押下します。\n2.必要に応じて、セキュリティポリシー名を任意の名称に変更します。\n3.[禁止操作]メニューを選択後、[有効にする]ボタンを押下し、[有効]にします。\n4.[USBデバイス]にチェックを入れ、下記設定を行い、[OK]を押下します。\n5.作成したセキュリティポリシーが、表示されていることを確認します。\n6.[資産]画面の[ハードウェア資産]-[資産一覧]にて、事前に登録した対象のUSBメモリにチェックを入れ、[状態を変更]を押下します。\n7.[資産状態]を運用中に変更し、[部署]で総務部を選択後、[OK]を押下します。\n8.該当USBメモリの[部署]の値の追加を確認します。\n9.作成したポリシーを機器に割り当てます。[セキュリティ]画面の[機器のセキュリティ状態]-[機器一覧(機器種別)]を開いた後、該当機器にチェックを入れ、[操作メニュー]-[ポリシーを割り当てる]を押下します。\n10.[ポリシーの割り当て]画面にて、先程作成したセキュリティポリシーを選択し、[OK]を押下します。\n11.該当機器に作成したセキュリティポリシーが割り当てられることを確認します。\n以上で設定は完了です。\nまとめ\n今回は、V11.5 から追加されたUSBデバイスの制御機能についてご紹介しました。より柔軟にUSBデバイスの使用制限を行いたい方は、是非ご活用ください。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/IT Desktop Management 2 - Manager (JP1/ITDM2) 11-50以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n引間 康将\n2013年、株式会社アシスト入社。Oracle製品を担当後、2015年よりJP1の顧客サポートを担当。「超サポとは感情に働きかけるサポート」を信念にお客様にご満足いただけるサポートを提供できるよう、奮闘中。\n趣味は、バイクツーリングと筋トレ。\n関連している記事\n資産管理\n2022.09.09\n【JP1/ITDM2】情報漏洩の徹底防止！USBデバイスの制御機能を使いこなそう！\n2022年6月、市民46万人分の個人情報が入ったUSBメモリが、一時所在不明となりニュースになりました。そこで今回は改めて、JP1/ITDM2のデバイス制御機能の概要や利用方法をご紹介します。\n資産管理\n2021.06.28\n【JP1/ITDM2】MacもWindowsもJP1でまとめて資産管理！\nJP1/ITDM2は、Mac版エージェントを利用することでMacOSの資産管理が可能です。本ブログではMac版エージェントを利用するための事前準備や手順を解説します。\n資産管理\n2021.03.22\n【JP1/ITDM2】JP1 V12.5新機能のご案内『資産管理製品編』\n2021年1月21日にリリースされたJP1の新バージョン「Version 12.5」の新機能の中から、資産管理製品の新機能を厳選してご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201705_ajs3_jobnet.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】複雑なジョブネットを見やすくする方法（関連線の強調表示）\nContent:\nジョブ管理\n2017.05.31\n【JP1/AJS3】複雑なジョブネットを見やすくする方法（関連線の強調表示）\nJP1/AJS3の運用続けて業務が増えると、ジョブネットの関連線も複雑になりがちですよね？\n突然の業務変更の時にも、対象のジョブを探すのに苦労した人も多いのではないでしょうか。\n今回は、そんなジョブネットの関連線を強調表示し、ジョブとジョブのつながりをパッとわかりやすくする方法をご紹介します。\n「関連線が多いジョブネット」による運用上の不便\nJP1/AJS3では、運用要件によっては関連線が複雑に張り巡らされたジョブネットが作成されることがあります。\n例えばネストジョブネットのスケジュールをひとつ変更するだけで、実は後続のジョブに大きな影響をもたらす可能性があります。ですが関連線が多いとジョブとジョブの前後の関係がわかりずらく、変更の影響の確認が、JP1/AJS3－Viewの画面から見るだけでは難しいのが現実です。\n【ジョブネットモニタ画面】\n関連線を強調表示させてジョブとジョブの前後関係をはっきりと！\nそこでJP1/AJS3では、特定のユニットの前後関係をはっきりさせる、関連線の強調表示機能があります。\n【設定方法】 対象ジョブを右クリック→[強調表示]\nこのようにジョブ同士の前後関係を強調表示させることで、関連線の多いジョブネットでも、ジョブの流れがひと目でわかるようになります。\n【設定方法】\n対象ジョブを右クリック→[強調表示]\nまとめ\n「ジョブネットが複雑すぎて業務がわかりにくくなってしまった・・・」という方でも、この「関連線表示機能」を使えば、複雑に張り巡らされたジョブネットでも前後関係をひと目で把握することが出来ます。\nスケジュール定義などの前後のジョブ実行に大きな影響を及ぼす変更を行う際には、この強調表示を行い、前後関係を正しく把握した上で作業するようにしましょう。\n製品正式名称／略称表記　および機能対応バージョン\n・JP1/Automatic Job Management System3 ：JP1/AJS3　　Version 8.1 以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n栗山 綾美\n2012年、株式会社アシスト入社。セキュリティ製品を担当後、2013年より\nJP1の顧客サポートを担当。「JP1認定シニアコンサルタント」の資格保有者。\nサポートの経験を活かしたブログを目指します。\n趣味は、夢と魔法の国(と、冒険とイマジネーションの海)に行くこと。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201705_im_action.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/IM】既知のエラーを自動で「対処済み」に変更する\nContent:\n統合管理\n2017.05.31\n【JP1/IM】既知のエラーを自動で「対処済み」に変更する\n「対処不要の既知のエラー」を毎回確認して「対処済み」にするのは大変ですよね。\n今回は、そんな面倒な作業から解放される\n自動的に既知のエラーを「対処済み」に変更する方法\nをご紹介します。\n重要イベントに「既知のエラー」が表示されると紛らわしい\nJP1をご利用の皆様は、JP1/IMコンソールの「重要イベント」タブに表示される「エラー」などのイベントを、必要に応じて「対処済み」に変更しているでしょう。\nランプが点滅すると緊急対応の可能性もあり、原因を調べないといけません。ただし、それが緊急対応不要な\n「既知のエラー」\nだった時は、安心すると同時に確認の手間が惜しい感じることもあることでしょう。\nこのような事態を回避する方法として、JP1/IMコンソールの機能を利用して\n「既知のエラー」\nを自動的に対処済みにする方法をご紹介します。この設定により日々の運用の負荷軽減を図れます。\n自動アクションに、エラーを「対処済み」にする設定を入れる\n自動的に対処済みにする手段として、JP1/IMコンソールの「自動アクション機能」を利用します。\n自動アクション\nJP1/IMコンソールに表示されたJP1イベントを条件として、アクションを自動的に実行する機能\n自動アクションは、JP1/IMコンソールの[オプション]→[自動アクション設定…]から設定します。コンソール上では以下の箇所です。\n自動アクションの設定に「対処済み」に変更するコマンドを組み込み自動化させます。\n対処済みに変更するコマンド\n[Windowsの場合]  jcochstat.exe -k PROCESSED -n $EVSEQNO\n[UNIX系の場合]    /opt/jp1cons/bin/jcochstat -k PROCESSED -n $EVSEQNO\n※PROCESSEDは「対処済み」にすること。$EVSEQNOは「イベントDB内通し番号」のこと。\n実際の例として、リモートデスクトップを利用してWindowsサーバに接続した際に、エラーとしてWindowsのイベントログとして出力されてしまう以下のメッセージが出力された際に、対処済みにする方法をご紹介します。\n自動アクション設定画面の「実行条件」の箇所で「メッセージ」を選択しWindowsイベントログに出力されているメッセージを入れてください。\n自動アクション設定画面の「実行内容」の「アクション」で、対処済みにするコマンドを指定します。\n設定した条件を「OK」ボタンで保存し、アクション設定画面で「適用」することで、出力されて「既知のエラー」を自動的に対処済みにすることができます。\nまとめ\nJP1/IMには「運用コンソール」としてのメイン機能に加え、日々の運用を効率的に且つ快適に行えるような「お役立ち機能」が豊富に揃っています。\n今後も当ブログでそのような機能をご紹介して参りますのでご期待ください。\n製品正式名称／略称表記　および機能対応バージョン\nJP1/Integrated Management-Manager ：JP1/IM　　　Version 7.0 以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n本田 祐次\n2007年アシストに入社し一貫してJP1の顧客サポートを担当。「JP1サポート技術者ブログ」の編集リーダー。「JP1認定シニアコンサルタント」の資格保有者。このブログでは、知って便利な情報を紹介したいと思います。\n休みの日は、家族の食事を毎食作り、子どもの世話をしています。\n関連している記事\n統合管理\n2023.05.16\n【JP1/IM】JP1初心者向け！ログファイル監視の設定方法を解説（後編）\n定期的なサーバ再起動やメンテナンス時に、不要な通報通知を抑止する方法をご紹介します。\n統合管理\n2023.05.09\n【JP1/Base】JP1初心者向け！ログファイル監視の設定方法を解説（前編）\n定期的なサーバ再起動やメンテナンス時に、不要な通報通知を抑止する方法をご紹介します。\n統合管理\n2021.10.28\n【JP1/TELstaff】JP1イベントを素早く確認！JP1/TELstaffで簡単にチャットツールと連携\nJP1/TELstaff は電話やパトランプ、メール通知を柔軟に設定出来るソフトウェアですが、V12より、LINE WORKSおよびSlackへの通知が正式にサポートされました。ここでは具体的な設定手順についてご紹介します\n« 前の記事\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201706_ajs3_plan.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】「保留」にしたジョブを見落とさない方法\nContent:\nジョブ管理\n2017.06.16\n【JP1/AJS3】「保留」にしたジョブを見落とさない方法\nジョブやジョブネットで保留ジョブを見落としてしまった・・・という経験がある方は多いのではないでしょうか。このような事態は、明示的に色を付ける設定をしておけば防止できます。今回の記事では「ジョブに色を付ける方法」をご紹介します。\n保留予定のジョブは見落としやすい\nジョブやジョブネットの実行予定は、保留設定の有無に関わらず、「開始時刻待ち」「先行終了待ち」であり、一見するだけでは保留予定であることがわかりません。保留予定を見落としてしまうと、実行予定日にジョブが実行されず、問題となってしまう可能性があります。\n【デフォルトの画面】\n保留設定を確認するには、対象ジョブを右クリック→[詳細設定]から確認する必要があります。\n保留予定のジョブに色を付けて見落としを防ぐ\nJP1/AJS3では、保留予定のジョブに対して、色を付けるよう設定することができます。この設定により、処理が保留されるユニットをひと目で把握することができます。\n【設定方法】オプション→環境設定→[全般]タブ\n【設定後の画面】\n保留予定を有効にすると、デフォルトで「黄色」が選択されます。やはり、赤や緑、水色のアイコンと並ぶものなので、デフォルトの通り「黄色」のように目立つ色が良いでしょう。\nまとめ\n保留予定を見落としてしまうと、本来実行される予定のジョブが実行されないなどの問題が発生する可能性があります。保留予定のジョブに色を付ける設定により、見落としを防止しましょう。\n製品正式名称／略称表記　および機能対応バージョン\n・JP1/Automatic Job Management System3 ：JP1/AJS3　　Version 7.0 以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n栗山 綾美\n2012年、株式会社アシスト入社。セキュリティ製品を担当後、2013年より\nJP1の顧客サポートを担当。「JP1認定シニアコンサルタント」の資格保有者。\nサポートの経験を活かしたブログを目指します。\n趣味は、夢と魔法の国(と、冒険とイマジネーションの海)に行くこと。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201707_ajs3_alter.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】開始時刻が過ぎてしまったジョブを実行中止にする方法\nContent:\nジョブ管理\n2017.07.05\n【JP1/AJS3】開始時刻が過ぎてしまったジョブを実行中止にする方法\nJP1/AJS3-Managerを停止したり再起動した場合、次にJP1/AJS3のサービスを起動する時点で「開始時刻」が過ぎているジョブネットやジョブは、そのまま実行されてしまいます。\n例えばトラブル対応や急なメンテナンス時に、想定外の時間にジョブがいきなり実行されてしまったという経験もあるのではないでしょうか？\n今回は、そのような場面でも慌てずにすむ\n「サービス起動時のジョブ実行を抑止する方法」\nをご紹介します。\n環境設定パラメーターでジョブ実行を抑止\nトラブル対応が完了しJP1/AJS3-Managerのサービスを起動する前に、環境設定パラメーター\"SUPPRESS\"を設定することで、ジョブネットやジョブの実行開始を一時的に抑止できるようになります。\n例えば、\nトラブルでJP1が19:00まで利用できなかった場合、18:00に実行される予定のジョブネットやジョブは「実行中止」とする機会もなく、サービスを起動した時点で実行されてしまいます。\n環境設定パラメーター\"SUPPRESS\"の設定を行なうことで、実行開始する前に、\n実行するかどうか確認する機会を設けられるようにする\nことができます。\n以下のコマンドを実行して、環境設定パラメーター\"SUPPRESS\"に値\"exec\"を設定をします。\n設定用コマンド（スケジューラーサービス[AJSROOT1]の場合)\n[Windowsの場合]\n> jajs_config -k [JP1_DEFAULT\\JP1AJSMANAGER\\AJSROOT1]\n\"SUPPRESS\"=\"exec\"\n[UNIX系の場合]\n# /opt/jp1ajs2/bin/jajs_config -k \"[JP1_DEFAULT\\JP1AJSMANAGER\\\nAJSROOT1]\" \"SUPPRESS\"=\"exec\"\nジョブのピックアップとスケジュール変更→抑止解除\n設定後は、サービスが起動した時点ですべてのジョブネットやジョブが\n抑止状態\nになります。\n既に開始時刻が過ぎているジョブネットやジョブで実行をさせたくないものは、スケジュールを一時変更して実行中止にする、または登録解除するなどの必要な対応をとったうえで、以下のコマンドを実行して抑止状態を解除します。\n抑止解除コマンド（デフォルトスケジューラーサービスの抑止解除を行う場合)\n[Windowsの場合]\n> ajsalter -F AJSROOT1 -s none\n[UNIX系の場合]\n# /opt/jp1ajs2/bin/ajsalter -F AJSROOT1 -s none\n必要なくなった抑止設定を元に戻すことも忘れずに！\nこのままの設定では、次回通常のメンテナンスなどでサービスを再起動した際も、すべてのジョブネットやジョブの実行が抑止されてしまいます。\nサービス起動時にジョブの実行を抑止する必要がない場合は、以下のコマンドを実行して環境設定パラメーター\"SUPPRESS\"の値を\"none\"に戻してください。\n設定用コマンド（スケジューラーサービス[AJSROOT1]の場合)\n[Windowsの場合]\n> jajs_config -k [JP1_DEFAULT\\JP1AJSMANAGER\\AJSROOT1]\n\"SUPPRESS\"=\"none\"\n[UNIX系の場合]\n# /opt/jp1ajs2/bin/jajs_config -k \"[JP1_DEFAULT\\JP1AJSMANAGER\\\nAJSROOT1]\" \"SUPPRESS\"=\"none\"\nまとめ\n今回ご紹介した「ジョブ実行抑止設定」は、弊社サポートセンターへのお問い合わせがとても多いノウハウです。特にトラブル発生時は、ヒューマンエラーも発生しやすいことから、本設定を行って落ち着いて対応することが重要です。（解除設定を忘れないことも重要です！）\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n製品正式名称／略称表記　および機能対応バージョン\n・JP1/Automatic Job Management System3 ：JP1/AJS3　　Version9以降\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201708_nnm_agentadd.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/NNMi】【JP1/SSO】監視対象（エージェント）追加時に見落としがちな3つのチェックポイント\nContent:\nネットワーク管理\n2017.08.31\n【JP1/NNMi】【JP1/SSO】監視対象（エージェント）追加時に見落としがちな3つのチェックポイント\nJP1/NNMiやJP1/SSOで監視対象を追加した時、SNMP対応機器が「非SNMPノード」として検出されてしまったり、リソース監視やプロセス監視が認識不能になったりしたことはありませんか？\n今回は、\n監視対象を追加する際に見落としがちなポイント\nを、「死活監視」「リソース監視」「プロセス・サービス監視」の3つの視点からご紹介します。\n1.死活監視（JP1/NNMi）のチェックポイント\n死活監視をSNMPノードとして行う場合は、\nコミュニティ名\nを設定する必要があります。\nコミュニティ名を設定しない状態で監視対象として登録すると、SNMP通信ができず、「非SNMPノード」として検出されてしまいます。\n※非SNMPノードであっても死活監視（登録したIPアドレスに対するPingのみの通信）は可能ですが、SNMPノードなら、ノードの構成情報の取得や搭載されたインターフェースごとの死活監視が可能です。\nコミュニティ名の設定は、JP1/NNMiコンソールの[設定]→[通信の設定]から設定します。コンソール上では以下の箇所です。\nGetコミュニティ名(読み取りコミュニティ文字列)は、複数指定できます。運用上の規定や、追加する監視対象に合わせたGetコミュニティ名を指定してください。\n※死活監視の場合、Setコミュニティ名(書き込みコミュニティ文字列)を設定する必要はありません。\n2.リソース監視(JP1/SSO)のチェックポイント\nリソース監視を行う場合は、JP1/NNMiとは別にコミュニティ名を指定する必要があります。\nJP1/SSOのコミュニティ名の設定は、\nSNMP定義ファイル(ssosnmp.conf)\nにて行います。\nなお、監視対象がLinuxホストの場合、監視時に使用するSNMP通信のポート番号がデフォルトの161/udpではなく、22161/udpになります。\nLinux\nホストを監視する場合は、SNMP\n定義ファイル(ssosnmp.conf)の\"\nSpecific Hosts\"への記載が必須\nです。忘れずに記載するようにしましょう。\nファイアウォールを経由して監視をする場合は、22161/udpポートの開放も忘れずに。\nSNMP定義ファイル(ssosnmp.conf)格納場所\nWindowsの場合　JP1/SSOインストール先フォルダ\\conf\\ssosnmp.conf\nUNIXの場合　　　/etc/opt/CM2/SSO/conf/ssosnmp.conf\nSNMP定義ファイル(ssosnmp.conf)記載例\n# 1. Specific Hosts\n#特定ホスト（Linuxホスト等）に対してコミュニティ名(GetおよびSet)「jp1」、ポート番号「22161」を指定した場合の記述\nsso:172.16.24.46:jp1:jp1:::22161:::\n# 2. IP Address Wildcards\n# 3. Default\n#「Specific Hosts」など上記に\n該当しない一般的なホストは、以下の定義で動作する\nsso-ex:*.*.*.*:::20:3:::2:\nsso:*.*.*.*:::20:3::::\nsso-ex:[*:*:*:*:*:*:*:*]:::20:3:::2:\nsso:[*:*:*:*:*:*:*:*]:::20:3::::\n記載内容の詳細は、こちらのマニュアルもご確認ください。\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213A7710/SSO0301.HTM\n3.プロセス・サービス監視(JP1/SSO)のチェックポイント\nプロセス・サービス監視(以下、プロセス監視)におけるコミュニティ名は、\nリソース監視と同様に、SNMP定義ファイル(ssosnmp.conf)を使用します。\nしかし、SNMP定義ファイル(ssosnmp.conf)を設定し、リソース監視ができていても、プロセス監視のみが「認識不能」となってしまう場合があります。\nこれは、プロセス監視ではSetコミュニティ名(書き込みコミュニティ文字列)を利用するためです。\n死活監視やリソース監視は、監視マネージャが定期的に監視対象の状態を監視しますが、プロセス監視は、\nエージェントホスト自身が監視を行い、状態が変化した時にマネージャーに通知を行います。\nこの仕組みにより、監視マネージャが監視対象ホストに監視定義を配置する時に「Set通信」を行うため、Setコミュニティ名が必要になります。\nプロセス監視を行う際は、\nエージェントOS側、JP1/SSO側、それぞれのSetコミュニティ名について確認しましょう。\n※なお確認のポイントは別途記事にまとめる予定です。\nまた、プロセス監視はデフォルトではTCP通信を行います(V9以降の場合)。\nTCP通信に必要なポート番号(デフォルト：20264/tcp)が、ファイアウォールによって遮断されていないかもご確認ください。\nまとめ\n今回は、JP1/NNMiとJP1/SSOの監視対象エージェントを追加する時のチェックポイントについてお伝えしました。「ついうっかり」忘れがちな設定項目なので、いざ監視を開始する際にスムーズに監視業務を開始できるよう、ぜひご活用ください。\n製品正式名称／略称表記　および機能対応バージョン\nJP1/Network Node Manager i ：JP1/NNMi　　　Version 9.0 以降\nJP1/SNMP System Observer ：JP1/SSO　　　Version 9.0 以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n栗山 綾美\n2012年、株式会社アシスト入社。セキュリティ製品を担当後、2013年より\nJP1の顧客サポートを担当。「JP1認定シニアコンサルタント」の資格保有者。\nサポートの経験を活かしたブログを目指します。\n趣味は、夢と魔法の国(と、冒険とイマジネーションの海)に行くこと。\n関連している記事\nネットワーク管理\n2024.02.22\n【JP1/NNMi】入門編！JP1の基本用語を理解しよう！\nJP1/NNMiのヘルプやマニュアルを読む上で理解しておきたい、JP1の基本用語について解説します。\nネットワーク管理\n2023.01.31\n【JP1/SSO】JP1 V12.6新機能 SSOコンソールでユーザリソースを定義するには\nJP1/SNMP System Observer（JP1/SSO） V12.6の新機能で、SSOコンソールに [ユーザリソース定義作成] 画面が追加されました。\nネットワーク管理\n2020.12.22\n【JP1/NNMi】そのアラート重要なの？！JP1/NNMiのヘルスチェック機能が出力する「NNMi稼働状態ステータス」とは\nJP1/NNMiのヘルスチェック機能が出力する「NNMi稼働状態ステータス」メッセージの確認方法をご紹介します。\n« 前の記事\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201708_pfm_cpureport.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/PFM】CPU利用率が高騰！何のプロセスがCPUを使っている?\nContent:\nパフォーマンス管理\n2017.08.02\n【JP1/PFM】CPU利用率が高騰！何のプロセスがCPUを使っている?\n「サーバ監視」を行う中で、監視項目に「CPU利用率を監視するというケースはとても多いのではないでしょうか。ただ、特定の時間にCPU使用率が高騰してアラートを受けても、結局何が\n原因\nでCPU使用率が高くなったのか特定できないといった例も、多くあるのも事実だと思います。\n何らかのプロセスが原因なのだけど、一体何のプロセスが原因なのかわからず、問題解決が出来ないまま一時的な問題として置いておかれてしまったりはしていないでしょうか？\nそこで、サポートセンターにも実は問い合わせが多い、\n「JP1/PFMによる\nプロセス毎のCPU使用率\nレポート方法」\nをご紹介します。さらに、全体の「CPU使用率」のレポートから簡単に\n「CPU高騰の原因となっているプロセスの特定方法」\nも合わせてご説明します。\nプロセス毎のCPU使用率レポート方法\n1.プロセス毎のCPU使用率のデータを「蓄積」する\nプロセス毎のCPU使用率\nを取得するレコードは「PD_PDI」になります。\n「PD_PDI」レコードを定期的なレポートとして表示するには、データを蓄積する必要があります。\n「PD_PDI」のデータを蓄積する設定はデフォルトでは\n無効\nになっているのでご注意ください。まずは、「PD_PDI」レコードのデータを蓄積する設定にする方法を説明します。\nサービス階層の設定画面から「PDI」レコードのログを蓄積するように、下記の画面の値を'Yes'に変更してください（デフォルトは'No'です）。\n「PD_PDI」レコードの詳細\n「PD_PDI」レコードには、プロセス毎のページング、メモリー、および時間の使用状況などについての、ある時点での状態を示すパフォーマンスデータが格納されます。\n詳細は、以下のマニュアルをご確認ください。\nJP1 Version 11　JP1/Performance Management - Agent Option for Platform（Windows(R)用）\n8.　レコード　「Process Detail Interval（PD_PDI）」\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213A5120/PCAT0258.HTM\n2.プロセス毎のCPU使用率を「表示」する\n「CPUを25%以上使用しているプロセス」のレポートを作成します。\nレポート階層にて、新規で以下設定値のレポートを作成してください。\nレポート名：\nCPUを25%以上使用しているプロセス\nフィールド\nレコード\nProcess Detail Interval（PD_PDI）\nフィールド\nCPU%\nProgram\nフィルター\n条件式\n(CPU% > \"25.000\nAND Program <> \"Idle\"\nAND Program <> \"_Total\")\n表示設定(履歴レポート)\n対象期間\nレポートの表示時に指定\nレポート間隔\n分\n表示形式\n表/一覧/グラフ\nすべてにチェック\nグラフのプロパティ\nグラフの種類\n折れ線\nドリルダウン\n-\n-\nCPU高騰の原因となっているプロセスの特定方法\n作成した「CPU使用率」のレポートから使用率の高いデータを確認して、そのデータの中で、\nどのプロセスが25%以上のCPUを利用しているか\n確認できるようにします。\nここでは、\nドリルダウン機能(※)\nを利用して、「CPU使用率」の関連レポートとして、「プロセス毎のCPU使用率」を設定します。\n※ドリルダウン機能とは、レポートに、別のレポートを関連付ける機能のことです。\nこの設定により、例えば「CPU使用率」が90%の値を取得したときに、ドリルダウンで「プロセス毎のCPU使用率」を表示することで、簡単にどのプロセスが原因でCPU使用率が高くなっていたか確認ができます。\nレポート階層にて、新規で以下内容のレポートを作成してください。\nレポート名：\nCPU使用率\nフィールド\nレコード\nSystem Overview（PI）\nフィールド\nCPU%\nフィルター\n条件式\n-\n表示設定(履歴レポート)\n対象期間\nレポートの表示時に指定\nレポート間隔\n分\n表示形式\n表/一覧/グラフ\nすべてにチェック\nグラフのプロパティ\nグラフの種類\n折れ線\nドリルダウン\nフィールドの\nドリルダウン\nCPU%に[\nプロセス毎のCPU使用率\n]の\nレポートをバインド\nエージェント階層から、監視対象のサーバを選択し、作成した上記「CPU使用率」レポートを選択して、CPU使用率が高くなっている時間帯の「開始日時」と「終了日時」を入力し、レポートを表示してください。\n高くなっている箇所を画面下にある「表」にて確認するとCPU使用率が上がっている箇所があります。\nこの表示されている値を選択すると、25%以上のCPUを利用しているプロセスのレポートが表示されます。\n※本環境では4コアのCPUがあるため、プロセスにより99%利用されている3コア分のCPU利用率が表示されています。\nまとめ\nCPU利用率は単に異常値を監視し障害対応に利用するだけでなく、監視データを蓄積することによりプロセス毎のCPU使用率が取得できるようになるため、どのプロセスが原因でCPU使用率が高くなっているか確認できるようになります。もし常に特定の業務アプリケーションのCPU利用率が高い・・・ということを発見すれば、開発部門と課題を連携して、業務改善にもつなげることが出来ます。具体的な設定でお悩みだった皆さま、ぜひご活用ください。\n【補足】JP1/PFMの構成\n製品構成について案内します。「プロセス毎のCPU使用率」を確認したいサーバに、以下の製品がインストールされている必要があります。\n・JP1/PFM-Base\n・JP1/PFM-Agent Option for Platform(Windows)または(UNIX)\n※別途、別のサーバに「JP1/PFM-Manager」がインストールされている必要があります。\n製品正式名称／略称表記　および機能対応バージョン\nJP1/Performance Management - Agent Option for Platform／JP1/PFM-AOP　Version7.0以降\nJP1/Performance Management - Base／JP1/PFM-Base　Version7.0以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n本田 祐次\n2007年アシストに入社し一貫してJP1の顧客サポートを担当。「JP1サポート技術者ブログ」の編集リーダー。「JP1認定シニアコンサルタント」の資格保有者。このブログでは、知って便利な情報を紹介したいと思います。\n休みの日は、家族の食事を毎食作り、子どもの世話をしています。\n関連している記事\nパフォーマンス管理\n2024.04.25\n【JP1/PFM】 エージェントレス管理の落とし穴　よく発生するエラー その原因と解決策5選\nエージェントレス型製品であるJP1/PFM-RMでの発生しがちなエラーとその解決策について、ご紹介します。\nパフォーマンス管理\n2020.09.28\n【JP1/PFM】ツール自体は大丈夫？ 予期せぬ監視停止などのトラブルを防ぐ、「JP1/PFM」のヘルスチェック！\n予期せぬ監視の停止などを防ぐため、JP1自身の健康状態の管理「ヘルスチェック」を行い、JP1自体の不調を素早く検知する方法をご紹介します。\nパフォーマンス管理\n2019.09.30\n【JP1/PFM】パフォーマンス低下をいち早くキャッチ！JP1/IMとの連携で監視を一元管理\nJP1/PFMとJP1/IMを連携させることで、JP1/PFMが検知したパフォーマンス劣化をいち早くキャッチし、詳細レポートをJP1/IMから参照できるようになります。\n« 前の記事\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201712_itdm2_hostreset.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/ITDM2】エージェント導入済みのOSイメージを複製する際の注意点\nContent:\n資産管理\n2017.12.21\n【JP1/ITDM2】エージェント導入済みのOSイメージを複製する際の注意点\nクライアントPCを導入する際、OSやウィルス対策製品などの共通プログラムをインストールした「マスターPC」を作成して、ディスクイメージを別筐体へ複製（クローン）する方法があります。\nJP1/ITDM2を使用してクライアントPCを管理する場合も同様、エージェントプログラムをマスターPCへインストールしますが、その際はクライアントPCを内部的に識別する「ホスト識別子」を予めリセットするようにしましょう。なぜなら、\nホスト識別子を含む状態でOSイメージを複製すると、マネージャ側ではすべてのPCが「単一マシン」として認識され、正しく管理できなくなる\nからです。今回は、\nJP1/ITDM2の環境で「\nホスト識別子」をリセット\nする手順\nを紹介します。\nホスト識別子とは\nJP1/ITDM2の場合、ホスト名やIPアドレスではなく、エージェントプログラムのインストール時に独自で生成される「ホスト識別子」と呼ばれるIDを用いて、クライアントPCを識別します。「ホスト識別子」をキーにすると、ホスト名やIPアドレスが変更されても端末情報が正常に引き継がれます。\nしかし、「ホスト識別子」を含んだ状態でOSイメージを複製した場合は、同一の「ホスト識別子」をもつクライアントPCが大量に作成されるため、マネージャ側からは単一のマシンとして認識されます。それでは正しくPCを管理できないため、マスターPCの「ホスト識別子」を予めリセットする必要があります。\nホスト識別子をリセットする手順\n1．リセットコマンドの実行\nJP1/ITDM2 では、ホスト識別子をリセットするためのコマンド「resetnid.vbs」が用意されています。（JP/ITDM、JP1/ITDM2、JP1/ITDM2-OD 共通の手順です）\n■形式\nresetnid.vbs△/nodeid [△/i]\n■引数\n/nodeid…必須の引数です。省略した場合、コマンドは実行されません。\n/i　　…コマンドの実行有無を選択させるダイアログ、および実行結果のダイアログが表示されます（推奨）\n●\n実行例\n1．コマンドプロンプトより、下記内容を実行します。\n> cd \"C:\\Program Files\\Hitachi\\jp1itdma\\bin\"\n> start /wait Cscript.exe resetnid.vbs /nodeid /i\n> echo %errorlevel%\n2．「/i」を指定した場合、以下の確認画面が表示されます。\n2．OSイメージの取得\nホスト識別子ファイルは「C:\\Windows\\jdnagent.nid」です。ファイルが存在していないことを確認したら、OSイメージを取得してください。\nresetnid.vbs コマンドの実行後、エージェント設定の [上位システムとの通信のタイミング] で設定した下記項目のうち、最も短い間隔で新しいホスト識別子ファイルが作成されます（値はデフォルト）。ホスト識別子ファイルの削除／修正はしないようご注意ください。\n監視間隔（セキュリティ項目）：10分間隔\n監視間隔（セキュリティ項目以外）：60分間隔\nポーリングの設定で指定した間隔：30分間隔\n3．OSイメージの複製\nOSイメージを複製したら、「C:\\Windows\\jdnagent.nid」が複製後のタイムスタンプで作成されることを確認してください。\nまとめ\n複数のクライアントPCで「ホスト識別子」が重複すると、マネージャ側からは単一のマシンとして認識されれてしまい、対象となるクライアントPC を特定することは非常に難しくなります。また、特定できた場合でも、各クライアントPCでホスト識別子のリセットが必要です。\nOSイメージを複製する際は必ず、本手順でご紹介したホスト識別子のリセット手順を実施していただくようお願いします！\n製品正式名称／略称標記 および機能対応バージョン\nJP1/IT Desktop Management：JP1/ITDM　Version 09-50以降\nJP1/IT Desktop Management 2：JP1/ITDM 2　Version 10-50以降\nJP1/IT Desktop Management 2 - Operations Director：JP1/ITDM 2 - OD　Version 11-01以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\nページトップへ戻る\n執筆者情報\n吉岡 篤\n2000年 新卒でアシストに入社。JP1認定コンサルタント。\n海外製クライアントPC管理製品の技術サポートから始まり、現在はJP1/NETM製品、JP1/ITDM製品を担当。\n趣味は、コントラバス演奏、ボディボード、ウェイトトレーニング。\n関連している記事\n資産管理\n2022.09.09\n【JP1/ITDM2】情報漏洩の徹底防止！USBデバイスの制御機能を使いこなそう！\n2022年6月、市民46万人分の個人情報が入ったUSBメモリが、一時所在不明となりニュースになりました。そこで今回は改めて、JP1/ITDM2のデバイス制御機能の概要や利用方法をご紹介します。\n資産管理\n2021.06.28\n【JP1/ITDM2】MacもWindowsもJP1でまとめて資産管理！\nJP1/ITDM2は、Mac版エージェントを利用することでMacOSの資産管理が可能です。本ブログではMac版エージェントを利用するための事前準備や手順を解説します。\n資産管理\n2021.03.22\n【JP1/ITDM2】JP1 V12.5新機能のご案内『資産管理製品編』\n2021年1月21日にリリースされたJP1の新バージョン「Version 12.5」の新機能の中から、資産管理製品の新機能を厳選してご紹介します！\n« 前の記事\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201801_ajs3_desktop.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup][Design]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】JP1からだとバッチが実行できない！？\nContent:\nジョブ管理\n2018.01.17\n【JP1/AJS3】JP1からだとバッチが実行できない！？\nWindowsのGUIから手動で実行できたバッチファイルが、JP1/AJS3からだと実行できなかった経験はありませんか？実は、Windowsにログオンした状態から手動でバッチファイルを実行する場合と、JP1/AJS3から実行する場合では、ジョブのプロセスの生成方法などが異なります。\nそれにより、\nジョブによっては実行環境の違いが原因で実行できないことがあります\n。\n今回は、Windows版JP1/AJS3でバッチファイルを実行する上での、設定上の注意点をご紹介します。\nトラブルシュートセミナーのご紹介\n1.JP1とOSのジョブ実行環境の違い\nJP1/AJS3でジョブを実行する際、手動(OS上）でスクリプトを実行する時と何が異なるのか、\n以下の表にまとめました。\n項番\n項目\nJP1から実行した場合\n1.\n環境変数\nJP1/AJS3のジョブの実行環境には、ユーザー環境変数は設定されません。\nシステム環境変数のみが設定されます。\n2.\nユーザープロファイル\nバージョン10以前のJP1/AJS3のデフォルト設定では、ユーザープロファイル\n(レジストリのHKEY_CURRENT_USER以下の情報）を読み込みません。\nプリンタへの印刷やEXCELのマクロの実行などで、上記レジストリ情報を\n読み込めないと、実行できない事例があります。\n3.\n実行OSユーザー\nJP1/AJS3では実行登録したJP1ユーザーとマッピングしているOSユーザーで\nジョブが実行されます。\n4.\n基本優先度\n(プライオリティ)\nJP1/AJS3のデフォルトの設定では基本優先度は「低」で実行されます。\n5.\nファイルディスクリプタ\n標準出力や標準エラー出力、標準入力が手動で実行した場合と異なります。\nジョブ定義の標準入力ファイルが指定されていない場合、ジョブ実行時に\n標準入力として、NULデバイスを割り当てています。\ntimeoutコマンドなど標準入力に対応していないコマンドは正常に終了しません。\n6.\n実行空間\nJP1/AJS3のジョブはサービス空間で実行されます。\nログオン時に設定される情報（環境変数やネットワーク共有）を使用することが\nできません。また画面表示が必要なジョブや対話型処理が必要なジョブも\n実行することはできません。\n7.\nネットワーク共有\nWindows2003では「ネットワークドライブの割り当て」によって\n割り当てられたドライブ名は、ジョブ実行環境では有効になっていません。\n8.\nカレントディレクトリ\n[ワークパス]を指定しない場合、デフォルトでは以下のフォルダが\nカレントディレクトリとなります。\n[Windows2003の場合]\n<JP1フォルダ>\\JP1AJS2\\tmp\n[Windows2008以降の場合]\nC:\\ProgramData\\Hitachi\\jp1\\jp1_default\\JP1AJS2\\tmp\n9.\nジョブの実行ファイル名\nJP1/AJS3からジョブを実行した場合、実行ファイル名がロングファイル名だと\nショートネーム形式に 変換してからジョブが実行されます。\n実行しているジョブによってはこの動作により正しく動作しなくなる可能性があります。\n10.\nWOW64環境の問題\nWOW64環境で%systemroot%\\system32下の64ビットアプリケーションを\n起動できません。\n11.\nUACの問題\nWindowsのUAC機能を有効にしていると、ビルトインAdministratorを除く、\nすべてのAdministratorsグループのOSユーザーは、Administrators権限が\n無効な状態で動作してしまいます。\n12.\nデスクトップ\nプロセスの問題\nJP1/AJS3サービスのセッションとジョブを実行したユーザーで保持する\nデスクトッププロセスのセッションが異なっており、このためにデスクトップが\n認識できません。Excelのマクロ実行時の動作で認識できない事例があります。\n2.対処方法\n項目ごとの対処方法をご紹介します。\n1. 環境変数\nユーザー環境変数に指定している変数を、\nジョブ内の環境変数に定義してください。\n2. ユーザープロファイル\n以下の手順を実施して、\nユーザープロファイルの設定を有効にしてください。\n(1)JP1/AJS3サービスを停止\n(2)ユーザープロファイルの設定をするコマンドを実行\n> jajs_config -k [JP1_DEFAULT\\JP1NBQAGENT\\Job] \"LoadUserProfile\"=dword:1\n> jajs_config -k [JP1_DEFAULT\\JP1NBQAGENT\\Job] \"IsAccessTokenCache\"=dword:2\n※論理ホストを利用している時は[JP1_DEFAULT]に[論理ホスト名]を入れてください。\n(3)JP1/AJS3サービスを起動\n【参考マニュアル】\nJP1 Version 11　JP1/Automatic Job Management System 3 構築ガイド\n6.2.16　ユーザープロファイルを必要とするジョブを実行するための設定\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213B1510/AJSX0076.HTM\n3. 実行OSユーザー\n手動で実行したOSユーザーと同一のユーザーでジョブを実行\nするようにしてください。\n4. 基本優先度(プライオリティ)\nPCジョブの定義の「実行優先順位」の設定\nにより優先度を変更することが可能です。\nデフォルトは「なし」ですが、「3」にすることで手動環境と同様のプライオリティになります。\n5. ファイルディスクリプタ\nジョブの\n「標準入力ファイル名」「標準出力ファイル名」「標準エラー出力ファイル名」に\n「CON」と指定\nしてください。\n6. 実行空間\nJP1/Scriptと連携することで対応可能\nです。\nまた、この問題かどうかはOSのタスクスケジューラーから\n「デスクトップとの対話をサービスに許可」\nを\n外した状態で実行することによって、JP1のサービス空間で実行できるか、切り分け可能です。\n7.ネットワーク共有\nジョブの中でネットワーク共有を行うか、\nUNC指定を行うことで対応可能\nです。\nなお、UNC指定を行なう場合、\nジョブ実行OSユーザーでアクセスできる ことが前提\nです。\n以下、例のように指定してください。\n例)\n\\\\10.10.10.1\\JP1\\\nファイル名\n8. カレントディレクトリ\nジョブ定義の[ワークパス]\nに、利用したいフォルダ名を記載してください。\n9. ジョブの実行ファイル名\n以下の手順を実施して、ロングファイルを実行する設定を有効にしてください。\n(1)JP1/AJS3サービスを停止\n(2)ロングファイル名での実行を有効化する\n> jajs_config -k [JP1_DEFAULT\\JP1NBQAGENT\\Job] \"IsExecFindExecutable\"=dword:1\n※論理ホストを利用している時は[JP1_DEFAULT]に[論理ホスト名]を入れてください。\n(3)JP1/AJS3サービスを起動\n【参考マニュアル】\nJP1 Version 11　JP1/Automatic Job Management System 3 構築ガイド\n6.2.15　ジョブをロングファイル名で実行するための設定\nhttp://itpfdoc.hitachi.co.jp/manuals/3021/30213B1510/AJSX0075.HTM\n10. WOW64環境の問題\n以下の手順を実施して、WOW64環境を実行する設定を有効にしてください。\n<Windows2008以降の場合>\n%systemroot%\\system32配下の代わりに%systemroot%\\sysnative配下に\nアクセスするようにしてください。\n例) %systemroot%\\sysnative\\cscript\n【参考マニュアル】\nJP1 Version 11　JP1/Automatic Job Management System 3 設計ガイド（システム構築編）\n9.5.1　WOW64環境でx86対応のJP1/AJS3を使用する場合の注意事項\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213B1310/AJSH0171.HTM\n11. UACの問題\n以下の手順を実施して、UAC環境でも実行できるようにする設定を有効にしてください。\n(1)JP1/AJS3サービスを停止\n(2)UAC機能有効時でもadministrators権限でジョブを実行できる設定をする\n1.任意のファイルを作成し、以下を記載する\n例) C:\\JP1\\jajs_add.conf\n---------------------------------------------\n[JP1_DEFAULT\\JP1NBQAGENT\\Job]\n\"UACAdministratorsExec\"=dword:00000001\n---------------------------------------------\n※論理ホストを利用している時は[JP1_DEFAULT]に[論理ホスト名]を入れてください。\n2.以下コマンドを実行して設定を有効化する\n> jbssetcnf C:\\JP1\\jajs_add.conf\n(3)JP1/AJS3サービスを起動\n12. デスクトッププロセスの問題\n以下のフォルダを作成したことにより、正しく動作した事例がございます。\n<64 bit 版 OFFICE 製品の場合>\nC:\\Windows\\System32\\config\\systemprofile\\Desktop\n<32 bit 版 OFFICE 製品の場合>\nC:\\Windows\\SysWOW64\\config\\systemprofile\\Desktop\n※Microsoft Office は、対話型デスクトップおよびユーザープロファイルを\n想定して設計されているため、上記の対処でも、JP1/AJS3のような\n非対話型の製品での実行では動作しない場合があります。\n3.まとめ\nご紹介したように、WindowsのGUIから手動で実行する場合と、JP1/AJS3から実行する場合で\n動作が違うことがあります。\nJP1/AJS3からだとジョブを実行できないという場合には、上記の観点でも確認をしてみてください。\n製品正式名称／略称表記　および機能対応バージョン\nJP1/Automatic Job Management System 3 - Manager／JP1/AJS3-Manager　Version9.0以降\nJP1/Automatic Job Management System 3 - Agent／JP1/AJS3-Agent　Version9.0以降\nJP1/Base／JP1/Base　Version9.0以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n本田 祐次\n2007年アシストに入社し一貫してJP1の顧客サポートを担当。「JP1サポート技術者ブログ」の編集リーダー。「JP1認定シニアコンサルタント」の資格保有者。このブログでは、知って便利な情報を紹介したいと思います。\n休みの日は、家族の食事を毎食作り、子どもの世話をしています。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201802_netm_hostreset.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/NETM/DM】エージェント導入済みのOSイメージを複製する際の注意点\nContent:\n資産管理\n2018.02.28\n【JP1/NETM/DM】エージェント導入済みのOSイメージを複製する際の注意点\nクライアントPCを導入する際、OSやウィルス対策製品などの共通プログラムをインストールした「マスターPC」を作成して、ディスクイメージを別筐体へ複製（クローン）する方法があります。\nJP1/NETM/DMを使用してクライアントPCを管理する場合、エージェントプログラムをマスターPCへインストールしますが、その際はクライアントPCを内部的に識別する「ホスト識別子」を予めリセットするようにしましょう。なぜなら、\nホスト識別子を含む状態でOSイメージを複製すると、マネージャ側ではすべてのPCが「単一マシン」として認識され、正しく管理できなくなる\nからです。\n2017年12月の記事「\n【JP1/ITDM2】エージェント導入済みのOSイメージを複製する際の注意点\n」では、マスターPCへJP1/ITDM2エージェントを導入する手順を紹介しましたが、今回は、\nJP1/NETM/DMの環境で「\nホスト識別子」をリセット\nする手順\nを紹介します。\nホスト識別子とは\nJP1/NETM/DMの場合、ホスト名やIPアドレスではなく、エージェントプログラムのインストール時に独自で生成される「ホスト識別子」と呼ばれるIDを用いて、クライアントPCを識別します。「ホスト識別子」をキーにすると、ホスト名やIPアドレスが変更されても端末情報が正常に引き継がれます。\nしかし、「ホスト識別子」を含んだ状態でOSイメージを複製した場合は、同一の「ホスト識別子」をもつクライアントPCが大量に作成されるため、マネージャ側からは単一のマシンとして認識されます。それでは正しくPCを管理できないため、マスターPCの「ホスト識別子」を予めリセットする必要があります。\nホスト識別子をリセットする手順\n1-1．リセットの実行\nJP1/NETM/DMではセットアップ値（接続先の設定）により、ホスト識別子がリセットされます。\n1．JP1/NETM/DM Clientをインストールします。\n2．「接続先の設定」画面で、「接続先のホスト名またはIPアドレス」として「*」（アスタリスク）を\n指定し、インストール作業を進めます。\n1-2．リセットの実行（JP1/NETM/DM Client複製後の場合）\nもしも、接続先に「*」を指定せずに、マスターPCへJP1/NETM/DM Clientをインストールして複製してしまった場合、下記手順でホスト識別子をリセットできます。\n1．OSのスタートメニューで[セットアップ]を選択し、クライアントセットアップを起動します。\n2．[接続先]パネルより、「接続先のホスト名またはIPアドレス」として「*」（アスタリスク）を\n指定します。\n2．OSイメージの取得\nホスト識別子ファイルは「C:\\Windows\\netmdmp.hid」です。ファイルが存在していないことを確認したらOSイメージを取得してください。\nホスト識別子ファイルの削除／修正などの操作はされないようご注意ください。\n3．OSイメージの複製\n1．OSのスタートメニューで [セットアップ] を選択し、クライアントセットアップを起動します。\n2．[接続先]パネルより[接続先のホスト名またはIPアドレス] を、正しい上位システムの値へ変更し、\n[OK] ボタンをクリックします。\n3．「C:\\Windows\\netmdmp.hid」ファイルが、接続先変更後のタイムスタンプで新たに作成\nされたことをご確認ください。\nまとめ\n複数のクライアントPCで「ホスト識別子」が重複すると、マネージャ側からは単一のマシンとして認識されてしまい、対象となるクライアントPC を特定することは非常に難しくなります。また、特定できた場合でも、各クライアントPCでホスト識別子のリセットが必要です。\nOSイメージを複製する際は必ず、本手順でご紹介したホスト識別子のリセット手順を実施してください。\n製品正式名称／略称標記 および機能対応バージョン\nJP1/NETM/DM Client：Version 09-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\nページトップへ戻る\n執筆者情報\n吉岡 篤\n2000年 新卒でアシストに入社。JP1認定コンサルタント。\n海外製クライアントPC管理製品の技術サポートから始まり、現在はJP1/NETM製品、JP1/ITDM製品を担当。\n趣味は、コントラバス演奏、ボディボード、ウェイトトレーニング。\n関連している記事\n資産管理\n2022.09.09\n【JP1/ITDM2】情報漏洩の徹底防止！USBデバイスの制御機能を使いこなそう！\n2022年6月、市民46万人分の個人情報が入ったUSBメモリが、一時所在不明となりニュースになりました。そこで今回は改めて、JP1/ITDM2のデバイス制御機能の概要や利用方法をご紹介します。\n資産管理\n2021.06.28\n【JP1/ITDM2】MacもWindowsもJP1でまとめて資産管理！\nJP1/ITDM2は、Mac版エージェントを利用することでMacOSの資産管理が可能です。本ブログではMac版エージェントを利用するための事前準備や手順を解説します。\n資産管理\n2021.03.22\n【JP1/ITDM2】JP1 V12.5新機能のご案内『資産管理製品編』\n2021年1月21日にリリースされたJP1の新バージョン「Version 12.5」の新機能の中から、資産管理製品の新機能を厳選してご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201803_nnmi_trap.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/NNMi】SNMPトラップを受信するための4つの条件\nContent:\nネットワーク管理\n2018.03.27\n【JP1/NNMi】SNMPトラップを受信するための4つの条件\nネットワーク機器から正常にSNMPトラップが発信されているにも関わらず、JP1/Network Node Manager i（以下、JP1/NNMi）で、そのトラップが受信できないことがありませんか？SNMPトラップが受信できないと、ネットワーク機器の故障メッセージを把握することができません。\nそこで今回は、\nJP1/NNMiのSNMPトラップを受信するために必要な下記4つの条件と、それぞれが正しく設定されているか確認する手順\nをご紹介します。\n（1）JP1/NNMiに、SNMPトラップを発行するノードが登録されていること。\n（2）JP1/NNMiのサーバに、SNMPトラップが到着していること。\n（3）JP1/NNMiのSNMPトラップフィルタに、登録されていないこと。\n（4）JP1/NNMiに、SNMPトラップ定義が登録されていること。\n【JP1/NNMi】SNMPトラップを受信するための4つの条件\n1. JP1/NNMiにSNMPトラップを発行するノードが登録されている\nノードが正しく登録されていることを確認するには、JP1/NNMiの画面から[トポロジマップ]-[ネットワークの概要]を開いて、対象のノードが登録されていることを確認します。\n対象のノードが登録されていない場合は、[設定]-[検出]-[シード]から登録してください。\n2. JP1/NNMiのサーバにSNMPトラップが到着している\nJP1/NNMiの画面からでは、サーバにSNMPトラップが到着しているか判断できません。そこで、以下のコマンドを実行します。ここでは例として、10.1.10.1 のIPアドレスから、SNMPLinkUpのSNMPトラップが上がっているかを確認する手順を紹介します。\nコマンドを実行した結果、「trapid」の値が正常に表示される場合は、SNMPトラップがJP1/NNMiのサーバへ正常に届いていると判断できます。\n●コマンド実行例\n>　nnmtrapdump.ovpl -nodns -trapid .1.3.6.1.6.3.1.1.5.4.1.3.6.1.4.1.311.1.1.3.1.1 -source 10.1.10.1\n●コマンド実行結果\n10.1.10.1 からの 2017/12/19 14:45:50 JST でのトラップ SNMPLinkUp (.1.3.6.1.6.3.1.1.5.4.1.3.6.1.4.1.311.1.1.3.1.1)\nバージョン: SNMPv1\nエンタープライズOID: .1.3.6.1.4.1.311.1.1.3.1.1\nエージェントアドレス: 10.1.10.1\n汎用トラップ: 3\n特定のトラップ: 0\nTimeticks: 1568\nVarbinds:\nstate=HAS_VALUE type=INTEGER oid=.1.3.6.1.2.1.2.2.1.1.48 value=48\n※\nsource：SNMPトラップ送信元のIPアドレスを指定\n※\ntrapid：SNMPトラップのOIDを指定\n「trapid」の値が正常に表示されない場合は、SNMPトラップを上げる機器側の設定を見直す必要があります。例えば、SNMPトラップ送信先がJP1/NNMiサーバを正しく指定しているかどうか、ファイアウォールの制限で通信できない状態になっていないかなど確認してください。\n3. JP1/NNMiのSNMPトラップフィルタに登録されていない\nJP1/NNMiには、SNMPトラップをフィルタする機能があります。このフィルタに登録されているOIDは、JP1/NNMiの画面に表示されません。そのため、下記フィルタを開いて、受信したいSNMPトラップが登録されていないことを確認します。\n●trapFilter.conf、nnmtrapd.confの記載例\n#10.1.10.1のIPアドレスからのSNMPLinkUPを表示させたくない場合\n#<IPアドレス, OID> の形式で記載\n<10.1.10.1, .1.3.6.1.6.3.1.1.5.4>\nOIDが記載されているフィルタは、以下の場所に保存されています（デフォルト時）。フィルタ定義が不要な場合はOIDを削除してください。\n＜Windows系＞\nC:\\ProgramData\\Hitachi\\Cm2NNMi\\shared\\nnm\\conf\\trapFilter.conf\nC:\\ProgramData\\Hitachi\\Cm2NNMi\\shared\\nnm\\conf\\nnmtrapd.conf\n＜UNIX系＞\n/var/opt/OV/shared/nnm/conf/trapFilter.conf\n/var/opt/OV/shared/nnm/conf/nnmtrapd.conf\n4. JP1/NNMiにSNMPトラップ定義が登録されている\n対象のSNMPトラップ定義がJP1/NNMiに登録されていなければ、SNMPトラップは表示できません。[設定]-[インシデント]-[SNMPトラップの設定]を開いて、SNMPトラップが登録されており、かつ「有効にする」にチェックが入っていることを確認してください。\n定義が登録されていない場合は、SNMPトラップが定義されているMIBファイルを提供ベンダーから取り寄せて、JP1/NNMiにMIBファイルをロードした上で、インシデント定義(SNMPトラップ定義)のロードを行ってください。\nまとめ\nネットワーク機器からは正常にSNMPトラップが発信されているにも関わらず、JP1/NNMiでSNMPトラップが受信できない場合、本ブログで紹介した4つの条件が満たされているか確認してください。\n正常にSNMPトラップが受信できれば、ネットワーク機器が故障した場合のメッセージなどを迅速に把握することができ、問題の早期発見と適切な対処が可能です。\n製品正式名称／略称表記　および機能対応バージョン\nJP1/Network Node Manager i　Version10.0以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n本田 祐次\n2007年アシストに入社し一貫してJP1の顧客サポートを担当。「JP1サポート技術者ブログ」の編集リーダー。「JP1認定シニアコンサルタント」の資格保有者。このブログでは、知って便利な情報を紹介したいと思います。\n休みの日は、家族の食事を毎食作り、子どもの世話をしています\n関連している記事\nネットワーク管理\n2024.02.22\n【JP1/NNMi】入門編！JP1の基本用語を理解しよう！\nJP1/NNMiのヘルプやマニュアルを読む上で理解しておきたい、JP1の基本用語について解説します。\nネットワーク管理\n2023.01.31\n【JP1/SSO】JP1 V12.6新機能 SSOコンソールでユーザリソースを定義するには\nJP1/SNMP System Observer（JP1/SSO） V12.6の新機能で、SSOコンソールに [ユーザリソース定義作成] 画面が追加されました。\nネットワーク管理\n2020.12.22\n【JP1/NNMi】そのアラート重要なの？！JP1/NNMiのヘルスチェック機能が出力する「NNMi稼働状態ステータス」とは\nJP1/NNMiのヘルスチェック機能が出力する「NNMi稼働状態ステータス」メッセージの確認方法をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201804_ajs3_queuing.html\nTags: [JP1/AJS][AWS][Troubleshooting]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】ジョブがキューイングする5つの原因と対処方法\nContent:\nジョブ管理\n2018.04.26\n【JP1/AJS3】ジョブがキューイングする5つの原因と対処方法\n実行登録したはずのジョブが、設定した時間になっても「キューイング状態」となり、正常に開始されなかった経験はありませんか？今回は、JP1/AJS2(V8以前)やJP1/AJS3(V9以降)の\nジョブがキューイング状態となる、以下5つのケースと対処方法をご紹介します\n。\nトラブルシュートセミナーのご紹介\nマネージャーホストとエージェントホスト間で名前解決が出来ていない\n実行先ホストのJP1/AJS3およびJP1/AJS2サービスが起動していない\nファイアウォールがJP1で使用するポートを遮断している\nジョブ実行多重度を超えている\nキューの受付口や取出口が開いていない（V8以前）\nジョブがキューイングする5つの原因と対処方法\nJP1/AJS3(JP1/AJS2)のジョブがキューイング状態になった場合は、以下5つのケースに該当しないか確認してください。\n1.マネージャーホストとエージェントホスト間で名前解決が出来ていない\n●\n原因\nJP1/AJS3(JP1/AJS2)は、ホスト名からIPアドレスで名前解決できる環境で動作します。特にマネージャーホストとエージェントホスト間の通信においては、それぞれのマシンの「ホスト名」を使用するため、互いのホスト名が正しく名前解決されていないとジョブがキューイング状態となります。\n●\n対処方法\nDNS運用をしている場合は、ホスト名のIPアドレスがFQDN形式で正しく名前解決されるよう設定してください。\n※\n論理ホスト名には、FQDN形式のホスト名が使用できません。\n2.実行先ホストのJP1/AJS3およびJP1/AJS2サービスが起動していない\n●\n原因\nJP1/AJS3(JP1/AJS2)は、エージェントホスト上の処理をマネージャーホストから実行できます。エージェントホストへジョブを配信する場合、配信先のJP1/AJS3(JP1/AJS2)サービスが正常起動している必要がありますが、サービスが停止していると、マネージャーホストはジョブを受信できずにキューイング状態となります。\n●\n対処方法\nジョブの実行先となるエージェントホストのJP1/AJS3(JP1/AJS2)サービスを起動してください。\nWindowsの場合\n1．[コントロールパネル]-[サービス]を選択。もしくは、[管理ツール]-[サービス]を選択します。\n2．[JP1/AJS3]または[JP1/AJS2]サービスを選択して、[開始]をクリックします。\nUNIXの場合\n1．下記コマンドを実行して、サービス稼働状況を確認します。\n# /opt/jp1ajs2/bin/jajs_spmd_status\nKNAD3662-I プロセスは全て停止しています\n2．サービスが停止している場合、下記コマンドを実行してサービスを起動します。\n# /opt/jp1ajs2/bin/jajs_spmd\n※クラスタ環境の場合はコマンドオプションに -h 論理ホスト名 を付与してください。\n3.ファイアウォールがJP1で使用するポートを遮断している\n●\n原因\nJP1/AJS3(JP1/AJS2)は、ファイアウォールを挟んでJP1/AJS3 - Manager(JP1/AJS2 - Manager)と、JP1/AJS3 - Agent(JP1/AJS2 - Agent)またはJP1/AJS3 - View(JP1/AJS2 -View)を接続するシステム構成に対応しています。ただし、JP1サーバ間にてファイアウォールを透過し、通信可能であることが前提となります。そのため、JP1で使用するポートがファイアフォール側で遮断されていると、マネージャーホストとエージェントホスト間の通信が遮断されてジョブがキューイング状態となります。\n●\n対処方法\nファイアウォールを経由するネットワーク環境下でJP1を運用する場合、パケット・フィルタリングやNATへJP1/AJS3(JP1/AJS2)が使用するIPアドレスとポート番号を定義する必要があります。開放するポート番号や通信方向は以下の通りです。ジョブがキューイングする場合、まずは★印のポートをご確認ください。\n設定が必要なプログラム名\nサービス名\nポート番号\nファイアウォールの透過方向\n※1 JP1/AJS3 - Manager\nJP1/AJS3 - Agent\njp1ajs2qman\n★20241/tcp\nエージェント → マネージャー\nマネージャー ←→ マネージャー\n※1 JP1/AJS3 - Manager\nJP1/AJS3 - Agent\njp1ajs2qagt\n★20242/tcp\nマネージャー → エージェント\n※1 JP1/AJS3 - Manager\nJP1/AJS3 - Agent\njp1ajs2qnfy\n★20243/tcp\nエージェント → マネージャー\n※1 JP1/AJS3 - Manager\nJP1/AJS3 - View\nJP1/AJS3 - Definition Assistant\njp1ajs2monitor\n20244/tcp\nJP1/AJS3 - View → マネージャー\nマネージャー ←→ マネージャー\nJP1/AJS3 - Definition Assistant → マネージャー\n※1 JP1/AJS3 - Manager\njp1ajs2report\n20245/tcp\nマネージャー ←→ マネージャー\n※1 JP1/AJS3 - Manager\nJP1/AJS3 - Agent\njp1ajs2qlagt\n20300/tcp\nマネージャー → エージェント\n※1 JP1/AJS3 - Manager\nJP1/AJS3 - Agent\njp1ajs2qlftp\n20301/tcp\nエージェント → マネージャー\n※1 JP1/AJS3 - Manager\nJP1/AJS3 - Agent\njp1ajs2chkagt\n23139/tcp\nマネージャー → エージェント\n※2 JP1/AJS3 - Manager\njp1ajs2gw\n23160/tcp\nジョブネットコネクタ実行ホスト ←→\n接続先のジョブネット実行ホスト\n※2 JP1/AJS3 - Manager\nJP1/AJS3 - Agent\njp1ajs2eamgr\n20246/tcp\nエージェント → マネージャー\n※2 JP1/AJS3 - Manager\nJP1/AJS3 - Agent\njp1ajs2eaagt\n20247/tcp\nマネージャー → エージェント\n※2 JP1/AJS3 - Manager\n1jp1ajs2ca\n22276/tcp\nマネージャー → マネージャー\n※2 JP1/AJS3 - Manager\nJP1/AJS3 - View\njp1ajs2cm\n22275/tcp\nJP1/AJS3 - View → マネージャー\n※2 JP1/AJS3 - View\njp1ajs2cfm\n20450/tcp\nJP1/AJS3 - View → JP1/AJS2 - Configuration Manager\n※2 JP1/AJS3 - Manager\nJP1/AJS3 - Software Development Kit\njp1ajs3cdinetd\n22250/tcp\nJP1/AJS3 - Software Development Kit → マネージャー\n※1\nJP1/AJS3とJP1/AJS2でともに使用するポート番号です。\n※2\nJP1/AJS3のみで使用するポート番号です。\n4.ジョブ実行多重度を超えている\n●\n原因\nJP1/AJS3(JP1/AJS2)では実行エージェントに同時実行ジョブ数（ジョブ実行多重度）を制限できます。そのため、指定したジョブ実行多重度を「0」で指定している場合や、設定値を超えてしまうと、ジョブはエージェントホストへ配信されずにキューイング状態となります。\n●\n対処方法\n下記コマンドを実行して、ジョブ実行多重度を確認してください。\nWindowsの場合(V8以前)\n> jpqagtshow –a\nUNIXの場合(V8以前)\n# /opt/jp1ajs2/bin/ jpqagtshow –a\njpqagtshowコマンド実行結果\n※\n出力内容\nAGENT：エージェントホスト名を示します。\nCUREXECHGNUM：現在のジョブ実行多重度を示します。\nEXECUTING：現在実行中のジョブ数を示します。\nWindowsの場合(V9以降)\n> ajsagtshow –l\nUNIXの場合(V9以降)\n# /opt/jp1ajs2/bin/ajsagtshow –l\n※クラスタ環境の場合はコマンドオプションに -h 論理ホスト名 を付与してください。\najsagtshowコマンド実行結果\n※\n出力内容\nAGENT：実行エージェント名を示します。\nSTATUS：実行エージェントの受付配信制限の状態を示します。\nHOST：実行ホスト名を示します。\nCON-EXE：ジョブ実行多重度を示します。\nQUE：キューイング中のジョブの数を示します。\nJOB：実行中ジョブの数を示します。\nEVENT：実行中のイベントジョブ数を示します。\nDESCRIPTION：追加・変更時に設定した実行エージェントに対するコメントを示します。\n必要に応じて、jpqagtalt(V8以前)やajsagtalt(V9以降)コマンドからジョブ実行多重度を変更してください。\n5.キューの受付口や取出口が開いていない（V8以前）\n●\n原因\nV8以前のJP1/AJS2は、JP1/AJS3とは「キュー」の概念が異なります。キューの受付口が閉じている場合、実行先ホストへジョブは配信されません。また、キューの取出口が閉じている場合も、マネージャーにジョブ実行結果を返すことができず、ジョブはキューイング状態となります。\n●\n対処方法\nコマンド「Jpqqueshow」を実行して、受付口および取出口が開いているか確認してください。閉じている場合は「jpqqueopen」を実行して、受付口および取出口を開いてください。\nWindowsの場合\n> jpqqueshow –mh マネージャーホスト名 -ah エージェントホスト名\nUNIXの場合\n# /opt/jp1ajs2/bin/jpqqueshow\njpqqueshow実行結果例\nKAVU0838-I デフォルトキュー情報(エージェント名)の表示を開始します\nQUEUE : a : エージェント名\nMAXQUEUE : 100\nWARNQUEUE : 80\nENTRYSTATUS : CLOSE　←★ジョブの受付口の状態\nEXITSTATUS : CLOSE　　←★ジョブの取出口の状態\nQUEUING : 0\nEXECUTING : 0\nLINKAGENT : エージェント名:1\nKAVU0842-I キュー情報の表示処理が正常終了しました\nENTRYSTATUSやEXITSTATUSが「CLOSE」と表示された場合は、ジョブの受付口および取出口が閉じているため、下記コマンドを実行します。\nWindowsの場合\n> jpqqueopen -ah エージェント名 -en\nUNIXの場合\n# /opt/jp1ajs2/bin/jpqqueopen -ah エージェント名 -en\njpqqueopenコマンド実行結果例\nKAVU0835-I キュー(エージェント名)のジョブ受付口をオープンしました\nなお、コマンドでエージェントを追加した直後はキューの受付口は閉じます。そのため、ジョブの登録を行う際はjpqqueopenコマンドを使用して、キューの受付口を開いてください。\nまとめ\nJP1/AJS3(JP1/AJS2)のジョブがキューイング状態となる事例をご紹介しました。ジョブがキューイングする原因が分からない場合は、本ブログでご紹介した5つの事象に該当しないかご確認をお願いします。\n製品正式名称／略称標記 および機能対象バージョン\nJP1/Automatic Job Management System 3 - Manager／JP1/AJS3-Manager\nJP1/Automatic Job Management System 2 - Manager／JP1/AJS2-Manager\nJP1/Automatic Job Management System 3 - Agent／JP1/AJS3-Agent\nJP1/Automatic Job Management System 2 - Agent／JP1/AJS2-Agent\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\nページトップへ戻る\n執筆者情報\n木原 桜子\nアシスト北海道新卒2期目。札幌でJP1サポート業務に従事して4年目となる。後輩も増え、札幌JP1チームの中堅として奮闘中。\n休日はできるだけ着物で外出したいため、着付けの練習中です。"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201805_base_monitoringerror.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/Base】ログファイル監視に失敗しない3つのコツ！\nContent:\n統合管理\n2018.05.24\n【JP1/Base】ログファイル監視に失敗しない3つのコツ！\nJP1/Baseのログファイル監視機能をご利用中のお客様から、「監視が開始されない…」「監視中にエラーになる…」といった、お悩みの声が多く寄せられます。この場合、以下いずれかの設定が誤っている可能性があります。そこで今回は、\nJP1/Baseでログファイルを正しく監視するための3つの確認手順\nをご紹介します。\n1．ログファイル監視の前提条件を確認する\n2．監視するログファイルの形式（ファイルタイプ）を確認する\n3．監視対象の文字列を選定する\nなお、本記事はJP1/IMの「IM構成管理」からログファイル監視を行う場合にも適用されます。IM構成管理をご利用中の方も、ぜひご活用ください。\n1.ログファイル監視の前提条件を確認する\nJP1/Baseでログファイル監視を行う際、まず以下2つの前提がクリアできているか確認します。\n(1)下記ファイル、およびコマンド実行時の文字コードが統一されていること\n・監視対象となるログファイル\n・ログファイルトラップ動作定義ファイル(監視条件を指定する任意のファイル)\n・jevlogstartコマンド(ログファイル監視開始コマンド)\nWindows環境の場合はSJISで動作しますが、Unicode形式のファイルを監視することが可能です。\n※jevlogstartコマンド実行時に、-gオプションを指定してください。\n(2)イベントサービス、およびログファイルトラップ管理サービスが起動していること\nサービス起動状態の確認方法は、以下の通りです。\nWindowsの場合\n1. [コントロールパネル]-[サービス]を選択。もしくは、[管理ツール]-[サービス]を選択します。\n2. 以下のサービスが実行中になっているかを確認します。\n・JP1/Base Event\n・JP1/Base LogTrap\nUNIXの場合\n以下のコマンドにて、各プロセスがすべて起動しているかを確認します。\n# /opt/jp1base/bin/jevstat\nKAJP1771-I hostA の状態通知処理を開始します\n稼働中のプロセスを表示します\nプロセス名称 プロセスID\njevservice 1568\nKAJP1772-I プロセスは全て起動しています\n# /opt/jp1base/bin/jevlogdstat\nKAVA3414-I ログファイルトラップ管理デーモンは起動しています\n2.監視するログファイルの形式(ファイルタイプ)を確認する\nログファイル監視の前提条件を確認したら、次に「\nファイルタイプ\n」を確認します。\nファイルタイプとは、監視対象ログファイルのローテーション形式のことです。この確認を怠ると、ログファイルがローテーションするタイミングでエラーになり、正常な監視ができなくなる恐れがあります。\n例えば、「ファイルが上限サイズに達すると、ゼロクリアして新たに書き込む」という形式のログファイルに対して「ファイルが単調増加し続ける」という形式を指定します。すると、ログファイルがローテーションしてゼロクリアされたタイミングで、JP1/Baseが「単調増加するファイルのサイズが小さくなった」と判断し、その結果エラーとなってしまいます。\nJP1/Baseで監視できるログファイルの形式、および監視できない形式については下記マニュアルをご参照ください。\n【マニュアル】\n『JP1 Version 11　JP1/Base 運用ガイド』\n○2.4.4　監視できるログファイル\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213A0120/BASE0026.HTM\n○2.4.5　監視できないログファイル\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213A0120/BASE0027.HTM\n監視対象となるログファイルの形式がどのファイルタイプに当てはまるか判断に迷う場合は、下記マニュアルよりチャート形式でご確認いただけます。\n【マニュアル】\n『JP1 Version 11　JP1/Base 運用ガイド』\n○11.1.1　アプリケーションプログラムのログファイルの形式を確認する\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213A0120/BASE0261.HTM\n3.監視対象の文字列を選定する\n前提条件とファイルタイプを確認したら、最後に監視対象の文字列を選定します。\n特定の文字列だけを監視するなど要件が固まっている場合を除いて、ログファイル監視では、最初は条件を広く設定して、徐々に絞り込んでいく方法が一般的です。例えば、最初はエラーメッセージをすべてトラップするように設定し、確認・検討してから対処が不要となるメッセージを徐々に除外。これにより、予期していなかった重要なメッセージの見逃しが防げます。\nまとめ\n今回は、JP1/Baseでログファイル監視を行う場合の確認事項についてご紹介しました。\n監視が実行されない、エラーになるなどのトラブルが発生した際には、こちらの内容をご参考ください。また、こちらの内容は、JP1/IMのIM構成管理でログファイル監視する場合にも適用されますので、ぜひご活用ください。\n製品正式名称／略称標記 および機能対象バージョン\nJP1/Base　全バージョン\nJP1/Integrated Management - Manager　Version9.0以降\n※Windows環境でUnicode形式のファイルを監視する場合は、JP1/Baseのバージョンが10.1以降である必要があります。\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n栗山 綾美\n2012年、株式会社アシスト入社。セキュリティ製品を担当後、2013年より\nJP1の顧客サポートを担当。「JP1認定シニアコンサルタント」の資格保有者。\nサポートの経験を活かしたブログを目指します。\n趣味は、夢と魔法の国(と、冒険とイマジネーションの海)に行くこと。\n関連している記事\n統合管理\n2023.05.16\n【JP1/IM】JP1初心者向け！ログファイル監視の設定方法を解説（後編）\n定期的なサーバ再起動やメンテナンス時に、不要な通報通知を抑止する方法をご紹介します。\n統合管理\n2023.05.09\n【JP1/Base】JP1初心者向け！ログファイル監視の設定方法を解説（前編）\n定期的なサーバ再起動やメンテナンス時に、不要な通報通知を抑止する方法をご紹介します。\n統合管理\n2021.10.28\n【JP1/TELstaff】JP1イベントを素早く確認！JP1/TELstaffで簡単にチャットツールと連携\nJP1/TELstaff は電話やパトランプ、メール通知を柔軟に設定出来るソフトウェアですが、V12より、LINE WORKSおよびSlackへの通知が正式にサポートされました。ここでは具体的な設定手順についてご紹介します\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201806_ajs3_invalidarea.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup][Design]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】組み込みDBの無効領域を解消してジョブ遅延を予防しよう\nContent:\nジョブ管理\n2018.06.22\n【JP1/AJS3】組み込みDBの無効領域を解消してジョブ遅延を予防しよう\nJP1/AJS3-Managerをご利用中、組み込みDBに「\n無効領域\n」が発生することをご存知でしょうか？\nJP1/AJS3は、組み込みDBと呼ばれるデータベースを使用しています。JP1/AJS3を運用していると、内部でデータの追加や削除などの更新がなされていますが、更新が繰り返されると組み込みDB内に断片化した空き領域（無効領域）が発生します。この無効領域を放置すると、データベースのアクセス性能が悪化しジョブが遅延したり、必要以上にデータベースの領域を使用し、結果としてジョブが異常終了するという問題を引き起こす恐れがあります。\nそこで今回は、\n無効領域の増加によって発生し得る3つの問題と、無効領域のメンテナンス方法\nをご紹介します。\nトラブルシュートセミナーのご紹介\n無効領域の増加によって発生する3つの問題\n1. ジョブ遅延\nJP1/AJS3-Managerは、ジョブの定義情報や実行結果・実行状態などの情報を組み込みDB内に格納します。\n組み込みDB内に無効領域が発生している場合、この情報がデータベース内に効率的に格納されず、ジョブが実行中になるまでに時間がかかったり、ジョブ終了時などの状態遷移に時間がかかってしまいます。また、本事象はジョブの状態遷移に時間がかかるだけで、異常終了はしません。そのため、\nジョブが遅延していることに気づくのが遅れ、終了予定時刻になってもジョブが終わっていない、などの問題が発生\nする可能性があります。\n無効領域が増えるとデータベースのアクセス性能が低下し、ジョブが遅延することがあります。\n※図は、無効領域を表すためのイメージになります。\nなお、無効領域は急に増えることはなく、徐々に増えます。そのため、ジョブが実行するまでに、はじめは数ミリ秒程度の遅延から、数秒、数十秒という遅延に繋がります。\n2. 組み込みDB領域不足によるジョブの異常終了\nJP1/AJS3-Managerの組み込みDBには、データベースがFULLになった際に、自動で領域を増やす機能「自動増分機能\n※\n」があります。この\n「自動増分機能」を利用しない\n設定としている場合、データベース容量がFULLになった際にデータを格納することができず、その結果ジョブが異常終了します。また、組み込みDB内の無効領域が増加し続けると、無駄にデータベースの領域を利用するため、設計時の見積もりよりも多くの領域を使用し、想定外にデータベース容量がFULLになることがあります。\n※「自動増分機能」は、JP1/AJS3-Managerのインストール時に設定します。デフォルトは「自動増分機能」が【有効】となっています。本機能の設定確認方法は、「\n【無効領域のメンテナンス方法】その1. 組み込みDB自動増分機能の確認\n」をご参照ください。\n※図は、無効領域を表すためのイメージになります。\nデータベース領域が80%、90%、100%になると、以下のメッセージがWindowsのイベントログや、UNIXのsyslogに出力されます。\nKFPH00211-I\nRDAREA usage aaa%, RDAREA = \"bb....bb\"cc....cc (L)\naaa：次のうち，どれかが出力されます。\nRDエリアの最終ファイルの使用セグメント相対位置\nRDエリア全体のセグメント使用率\nRDエリア全体の使用セグメント相対位置\nbb....bb：該当するRDエリア名称\ncc....cc：セグメント使用率追加情報, dd....dd segments unused\nこのメッセージは、組み込みDB内の無効領域が増えている可能性を表します。ジョブの異常終了などのトラブルを未然に防ぐためには、\n80%のメッセージが出力された時点\nで、無効領域を解消する必要があります。（90%を超えたタイミングでは、作業に必要な空き領域を確保できずに、無効領域を解消するコマンドが実行できなかった事例があります。）\n無効領域の解消方法は、「\n【無効領域のメンテナンス方法】その3. 無効領域を解消する\n」をご参照ください。\n3. ディスク領域不足によるジョブの異常終了\nJP1/AJS3-Manager組み込みDBの\n「自動増分機能」を利用する\n設定としている場合、ディスク容量がなくなるまでデータベース領域が自動的に拡張されます。組み込みDB内の無効領域が増加するなどして\n自動的にデータベース領域が拡張され続けた結果、ディスクがFULLとなり、ジョブの異常終了\nを引き起こします。\n※図は、無効領域を表すためのイメージになります。\nなお、データベースが拡張するたびに、以下のメッセージがWindowsのイベントログや、UNIXのsyslogに出力されます。このメッセージが出力され続けた場合、無効領域が原因でデータベースが拡張されている可能性があります。\nKFPH22024-W\nExtension completed in RDAREA \"aa....aa\",FILE \"bb....bb\",ccccc(dd....dd) segments created (L)\naa....aa：データベース領域名\nbb....bb：ファイル名（ファイル名が113文字以上の場合は，後ろから112文字だけを出力します）\nccccc：増分したセグメント数\ndd....dd：総セグメント数\n無効領域のメンテナンス方法\n1. 組み込みDB自動増分機能の確認\nJP1/AJS3-Managerの組み込みDBは、インストール時に自動増分の設定ができます。デフォルトでは、インストーラーにて「自動増分機能」を【有効】としています。デフォルト設定で構築した後に【無効】へと変更するには、データベースの再構築が必要です。\n自動増分機能の設定状況は、以下ログファイルから確認します。\n■WIndowsの場合\nC:\\ProgramData\\Hitachi\\jp1\\jp1_default\\JP1AJS2\\log\\embdb\\ajsembdbbuild_JFxx.log\n■UNIX系の場合\n/var/opt/jp1ajs2/log/embdb/ajsembdbbuild_JFxx.log\n※xxには、構築時に指定したデータベース指示子が表示されます。\n出力例は以下です。\n[EmbedDB SETUP START] -s -d “C:\\Program Files (x86)\\HITACHI\\JP1AJS2・・・・・・ -ext_db -ext_log\n上記出力例のように、「ajsembdbbuild」コマンド実行時のオプションに「-ext_db」が含まれていた場合は、自動増分機能が有効です。\n2. 無効領域の確認\n無効領域の発生を確認するには、「ajsembdbstatus」コマンドを実行します。コマンド結果の「空きセグメント数\n（Unused Segment）\n」が\n少なく\n、「空きページ数\n（Collect Prearranged Page）\n」が\n多い\n場合、無効領域が多く発生していることを表します。\nコマンドの実行例と実行結果は、下記を参照してください。\n●コマンド実行例\n[Windowsの場合]\n> \"C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\tools\\ajsembdbstatus\" -db -d -id _JF0\n[UNIX系の場合]\n# /opt/jp1ajs2/tools/ajsembdbstatus -db -d -id _JF0\n実行結果より、空きセグメント数の確認する方法\n＜前略＞\nRD Area Name : AJS2DATA\nServer : ajs2\nTotal Segment : 301 Segment Size : 10 Pages\nUnused Segment:\n0\nPage Size : 30720 Bytes\nHistory1 Hold Status : Hold Code : 0 Hold Time :\nHistory2 Hold Status : Hold Code : 0 Hold Time :\n------------------------------------------------------------------\n＜中略＞\nRD Area Name : AJS2INDX\nServer : ajs2\nTotal Segment : 904 Segment Size : 10 Pages\nUnused Segment:\n5\nPage Size : 4096 Bytes\nHistory1 Hold Status : Hold Code : 0 Hold Time :\nHistory2 Hold Status : Hold Code : 0 Hold Time :\n------------------------------------------------------------------\n＜後略＞\n上記のように「Unused Segment」の値が1桁台など極端に小さい場合は、空きセグメントが少ないと判断します。\n【実行結果より、空きページ数の確認する\n】\n＜前略＞\nTable Name : AJS1BODY\nAuth Id : root\nStatus :\nReference Pending Status :\nCheck Pending Status :\nSegment Reuse : 18 segments\n<Base row segment>\nSearch Mode : INS\nReuse Search Failure : 222/ 223\nUsed(Full) Used( Full) Sum\nSegment 0%( 0%) 241( 218) 241\nPage 0%( 0%) 2409( 2202) 2410\nCollect On Segment : 0\nCollect Prearranged Page :\n254\n＜後略＞\n上記のように、「Collect Prearranged Page」の値が3桁に達しているなど大きい場合は、空きページ数が多いと判断します。\n3. 無効領域を解消する\n増えてしまった無効領域を解消するためには、組み込みDBのメンテナンスコマンド「ajsembdbreclaim\n※\n」を実行します。なお、このコマンドは1日1回、ジョブ実行が少ない時間帯での実行を推奨しています。\n※「ajsembdbreclaim」コマンドは、JP1/AJS3-Managerサービス起動中に実行できます(サービス停止は不要)。日々実行するジョブに組み込んで実行することもできます。\n●コマンド実行例\n[Windowsの場合]\n> \"C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\tools\\ajsembdbreclaim\" -m manager\n[UNIX系の場合]\n# /opt/jp1ajs2/tools/ajsembdbreclaim -m manager\n「ajsembdbreclaim」コマンドの実行により、無効領域が解消され、ジョブの遅延等のトラブルを未然に防ぐことが可能になります。\n4. まとめ\n今回はJP1/AJS3-Managerの無効領域発生についてご紹介しました。データベースに無効領域が発生していることはコマンドを実行しないと確認できず、ジョブ遅延などの問題が発生して初めて気がつくケースがほとんどです。トラブルを未然に防ぐためにも、毎日1回、「ajsembdbreclaim」コマンドを実行するようにして無効領域を解消するようにしましょう。\n製品正式名称／略称標記 および機能対象バージョン\nJP1/Automatic Job Management System 3 - Manager／JP1/AJS3-Manager\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n本田 祐次\n2007年アシストに入社し一貫してJP1の顧客サポートを担当。「JP1サポート技術者ブログ」の編集リーダー。「JP1認定シニアコンサルタント」の資格保有者。このブログでは、知って便利な情報を紹介したいと思います。\n休みの日は、家族の食事を毎食作り、子どもの世話をしています。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201807_itdm2_disposalpc.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/ITDM2】管理PCの廃棄時に忘れてはいけない「不稼働機器」のメンテナンス\nContent:\n資産管理\n2018.07.27\n【JP1/ITDM2】管理PCの廃棄時に忘れてはいけない「不稼働機器」のメンテナンス\nJP1/ITDM2では、管理対象機器の台数によってライセンスが消費される事をご存知でしょうか？たとえば、PCの老朽化などで入れ替えを行ったまま、廃棄済みPCを管理対象の状態にしておくと、不要なライセンスが消費されてしまいます。\nそこで今回は、\n廃棄PCなどの「不稼働機器」を検出する3つの方法と、正しいメンテナンス（不稼働機器の削除方法）をご紹介します。\n尚、本記事でご紹介するメンテナンス作業は、機器の棚卸時などで定期的に実施されることをお勧めします。\n不稼働機器を検出する3つの方法\n1.接続状況からの検出方法\nJP1/ITDM2上で管理対象となっている機器の中から、長期に渡って、管理用サーバへ接続されていないものを検索します。\nそのために、JP1/ITDM2の「設定」画面から、[機器の探索]-[管理対象機器]を選択して、表示される機器一覧の「最終接続確認日時」を確認します。エージェント（管理対象機器）は定期的に管理サーバに対してポーリングを行っており、「最終接続確認日時」には管理用サーバへの接続が、最後に確認できた日時が表示されます。したがって、この\n日時が古い機器を「不稼働機器」としてリストアップ\nして、実際の稼働状況を確認しましょう。\n※「設定」画面から、[機器の探索]-[管理対象機器]を選択した場合\n2.自動メンテナンス機能を使用する検出方法\nJP1/ITDM2では、一定期間情報が更新されていないエージェント（管理対象機器）を自動で検出する「機器の自動メンテナンス機能」があります。したがって、以下の手順で不稼働機器を検出しましょう。\n（1）「設定」画面の左メニューから、[機器]-[機器メンテナンスの設定と検出結果確認]をクリックします。\n（2）\n画面右側に表示される「機器メンテナンスの設定と検出結果確認」の、\n「不稼働機器の検出条件を追加」をクリックします。\n（3）表示される「不稼働機器の検出条件の追加」画面にて、\n検出条件を設定します。\n※30日間更新が無いエージェントを検出する場合\n注意点\n上記画面の「自動削除の設定」をONにした場合、不稼働機器として検出された機器を自動的に管理対象から削除します。そのため、出張などで長期間社内ネットワークに繋がっていないPCや、利用者が不在で長期間保管されているPCなど、管理対象から自動的に削除すべきでない機器が存在する場合は、この設定をONにしないようご注意ください。\n（4）登録した検出条件は一覧表示され、\n画面右上の「検出を開始」をクリックすると、即時で不稼働機器の検出が開始されます。\n（5）画面下側の「削除候補の機器一覧」に、対象のエージェントが表示されます。\n3.重複機器の検出方法\nJP1/ITDM2では、クライアントPCのOSやJP1/ITDM2-Agentを再インストールした際、管理画面上で別の機器として重複して表示される場合があります。\nしたがって、【2.「機器の自動メンテナンス機能」を使用した検出方法】の手順2に表示される「重複機器の検出条件を追加」ボタンから条件を指定して、下記条件で重複している機器を検出する事も可能です。\nIPアドレス\nホスト名\nMACアドレス\nBIOSのシリアルナンバー\n※BIOSのシリアルナンバーが重複しているエージェントを検出する場合\n不稼働機器を正しく削除する方法\n上述した方法で検出した機器は、実際に機器が稼働していない（廃棄対象の機器、廃棄済の機器など）ことを確認したうえで、JP1/ITDM2の管理対象から削除しましょう。削除手順は、以下の通りです。\n（1）管理対象からの削除\nJP1/ITDM2の「設定」画面から、[機器の探索]-[管理対象機器]を選択します。対象となる機器をチェックした状態で、「除外対象にする」をクリックししてください。\n（2）除外対象機器の確認\n同様に「設定」画面から、[機器の探索]-[除外対象機器]を選択します。上記手順で除外対象とした機器が、表示されている事をご確認ください。\nまとめ\nPCの新規導入にあたっては、各種ソフトウェアをインストールする必要があるため、管理システムへ自動登録されているケースが多いです。ですがそれとは逆のPC廃棄時の場合は、書類上の手続きが優先されて、管理システム上での削除が後回しになるケースが多く見受けられます。\n不稼働機器を放置すると、JP1ライセンスの無駄な消費へと繋がるため、機器の棚卸などのタイミングで正しくメンテナンス作業を実施されることをお勧めします。\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n製品正式名称／略称標記 および機能対応バージョン\nJP1/IT Desktop Management 2（JP1/ITDM2）Version 11-01以降\n執筆者情報\n吉岡 篤\n2000年 新卒でアシストに入社。JP1認定コンサルタント。\n海外製クライアントPC管理製品の技術サポートから始まり、現在はJP1/NETM製品、JP1/ITDM製品を担当。\n趣味は、コントラバス演奏、ボディボード、ウェイトトレーニング。\n関連している記事\n資産管理\n2022.09.09\n【JP1/ITDM2】情報漏洩の徹底防止！USBデバイスの制御機能を使いこなそう！\n2022年6月、市民46万人分の個人情報が入ったUSBメモリが、一時所在不明となりニュースになりました。そこで今回は改めて、JP1/ITDM2のデバイス制御機能の概要や利用方法をご紹介します。\n資産管理\n2021.06.28\n【JP1/ITDM2】MacもWindowsもJP1でまとめて資産管理！\nJP1/ITDM2は、Mac版エージェントを利用することでMacOSの資産管理が可能です。本ブログではMac版エージェントを利用するための事前準備や手順を解説します。\n資産管理\n2021.03.22\n【JP1/ITDM2】JP1 V12.5新機能のご案内『資産管理製品編』\n2021年1月21日にリリースされたJP1の新バージョン「Version 12.5」の新機能の中から、資産管理製品の新機能を厳選してご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201808_ajs3_migration.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】本番リリースに向けた、ジョブ定義移行方法\nContent:\nジョブ管理\n2018.08.29\n【JP1/AJS3】本番リリースに向けた、ジョブ定義移行方法\n失敗の許されない、ジョブ管理システムの本番リリース作業。トラブル無く運用を開始するには、①開発環境でジョブ定義を作成・検証する、②ジョブ定義を本番環境へ移行する、③新しいジョブ定義に切り替えて本番運用を開始する、という3つのステップを正しい方法および手順で行っていきます。\nこの記事では、②の「ジョブ定義を本番環境へ移行する」際に利用するコマンドをご紹介します。JP1/AJS3 を利用したジョブ管理システムの本番稼働を予定している方、必読です。\n「ユニット定義」をエクスポート／インポートする手順\nJP1/AJS3のジョブグループ、ジョブネット、ジョブなどの構成情報を「ユニット定義」と呼びます。\nこのユニット定義を、「\najsprint\n」コマンドでエクスポートして、「\najsdefine\n」コマンドでインポートします。「ajsprint」を実行すると、ユニットの定義情報が開発環境に任意のファイル名でエクスポートされ、「ajsdefine」を実行すると、ファイルの内容に基づいて本番環境にユニットが定義されます。\n以下のユニット構成を例に、コマンド実行例をご紹介します。\nスケジューラーサービス\nAJSROOT1\n配下にルートジョブグループ\nJobGrp_A\nがあります。\nJobGrp_A\nには\nJobNet_A1\nと\nJobNet_A2\nが同じ階層にあります。\n●\nユニット定義のエクスポート方法（ajsprintコマンド）\nスケジューラーサービス配下全てをエクスポートする場合\nワイルドカード「\n*\n」を指定することにより、スケジューラーサービス配下全てのユニット定義をエクスポートできます。\nWindowsの場合\n> ajsprint -F スケジューラーサービス名 -a /* > 任意の出力ファイル名\nUNIXの場合\n# /opt/jp1ajs2/bin/ajsprint -F スケジューラーサービス名 -a \"/*\" > 任意の出力ファイル名\n※スケジューラーサービス名は、上記画像の「AJSROOT1」の事になります。\nジョブグループ単位・ジョブネット単位でエクスポートする場合\nコマンドオプション「\n-a\n」に、エクスポートしたいジョブグループ名、ジョブネット名を指定します。\nJobGrp_A配下全てをエクスポートする場合、\n-a /JobGrp_A\nと指定します。\nJobNet_A１配下のみエクスポートしたい場合は、\n-a /JobGrp_A/JobNet_A１\nと指定します。\nWindowsの場合\n> ajsprint -F スケジューラーサービス名 -a /JobGrp_A > 任意の出力ファイル名\nUNIXの場合\n# /opt/jp1ajs2/bin/ajsprint -F スケジューラーサービス名 -a \"/JobGrp_A\" > 任意の出力ファイル名\n●\nユニット定義のインポート方法（ajsdefineコマンド）\nコマンドオプション「-d」に定義先ユニット名を指定します。\nスケジューラーサービス配下にインポートする場合、\n-d /\nと指定します。\nJobGrp_A配下にインポートする場合、\n-d /JobGrp_A\nと指定します。\nWindowsの場合\n> ajsdefine -F AJSROOT1 -d 定義先ユニット名 出力したファイル名\nUNIXの場合\n# /opt/jp1ajs2/bin/ajsdefine -F AJSROOT1 -d 定義先ユニット名 出力したファイル名\n【マニュアル】\n『JP1 Version 11　JP1/Automatic Job Management System 3 コマンドリファレンス』\n○3.　通常の運用で使用するコマンド\najsprint\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213B1920/AJSO0122.HTM\najsdefine\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213B1920/AJSO0097.HTM\nまとめ\nジョブネットの本番リリースなど、ジョブ定義を移行する際に、ajsprint、ajsdefineは汎用的に使える便利なコマンドなので、是非ご活用ください。\n製品正式名称／略称標記 および機能対象バージョン\nJP1/Automatic Job Management System 3 - Manager／JP1/AJS3-Manager\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n木原 桜子\nアシスト北海道新卒2期生。札幌でJP1サポート業務に従事して4年目。後輩も増え、札幌JP1チームの中堅として日々奮闘中。\nページトップへ戻る\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201809_ajs3_schedule.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】ジョブネットの「開始前」に実行予定を確認する方法とは？\nContent:\nジョブ管理\n2018.09.26\n【JP1/AJS3】ジョブネットの「開始前」に実行予定を確認する方法とは？\nJP1/AJS3のジョブネットを新規で作成する際、『実行登録の前にスケジュール設定を確認したい！』と感じた経験はございませんか？\n誤ったスケジュール設定で実行登録してしまうと、想定外のタイミングでジョブネットが開始されます。それを防ぐには、スケジュール設定の事前確認が必要ですが、デフォルト設定のままでは、実行登録がされていない状態のジョブネットを確認することができません。\nそこで本記事では、\nまだ登録していない状態のジョブネットの実行予定を、マンスリースケジュール画面で確認する方法をご紹介\nします！\nジョブネットの実行予定を表示する方法\nデフォルト設定の場合は下図の通り、JP1/AJS3-Viewのマンスリースケジュール画面には、実行登録していないジョブネットの予定(アイコン)は表示されません。\nそこで、マンスリースケジュール画面の[表示]→[未登録の実行スケジュール]を設定すれば、△(三角)マークでアイコンが表示されるようになります。この設定は一度登録すれば、他のジョブグループを開いても同様にアイコンが表示されます。\n尚、[ajsshow]コマンドでは、実行登録をしなければ予定が確認できません。マンスリースケジュール画面の表示設定を有効活用しましょう。\nまとめ\nジョブネットのスケジュール設定を誤ると、想定外のタイミングでジョブネットが実行されてしまいます。そうならないためにも、本ブログでご紹介したスケジュール設定方法を試してみてください。\n製品正式名称／略称標記 および機能対象バージョン\nJP1/Automatic Job Management System 3 - Manager　Version10.1以降\nJP1/Automatic Job Management System 3 - View　Version10.1以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n栗山 綾美\n2012年、株式会社アシスト入社。セキュリティ製品を担当後、2013年より\nJP1の顧客サポートを担当。「JP1認定シニアコンサルタント」の資格保有者。\nサポートの経験を活かしたブログを目指します。\n趣味は、夢と魔法の国(と、冒険とイマジネーションの海)に行くこと。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201810_ajs3_ajsagtadd.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup][Design]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】ajsagtaddコマンド実行時のエラーを回避する2つの条件\nContent:\nジョブ管理\n2018.10.30\n【JP1/AJS3】ajsagtaddコマンド実行時のエラーを回避する2つの条件\nJP1/AJS3-Managerのエージェント追加時に使用するコマンド「ajsagtadd」は、初期設定のまま実行すると「KNAC1123-E」エラーが出力されてしまいます。\nエージェントからジョブを実行する前段階でのエラーは、極力避けたいですよね。そこで本記事では、\n「KNAC1123-E」エラーが出力される原因と、それを回避するための2つの条件\nをご紹介します。これでエージェント追加時も安心です！\nKNAC1123-Eのエラーが出力される原因\nJP1/AJS3のエージェントサーバ登録時、たとえ、administratorユーザーや　rootユーザーでajsagtaddコマンドを実行したとしても、以下のような「KNAC1123-E」エラーが出力されるケースがあります。\n※以下は、「ashisuto」という名前のエージェントサーバを追加した場合の例です。\n■Windowsの場合\n> ajsagtadd -a ashisuto\nKNAC1123-E コマンドを実行する権限がありません\n■UNIX系の場合\n#/opt/jp1ajs2/bin/ajsagtadd -a ashisuto\nKNAC1123-E コマンドを実行する権限がありません\nこのエラーは、ajsagtaddコマンドを実行するOSユーザーが、以下2つの条件を満たすことで回避できます。\n（1） OSユーザーがJP1ユーザーとして登録されていること。\n（2） (1)のJP1ユーザーに「JP1_JPQ_Admin」の権限が付与されていること。\n権限の詳細は以下マニュアルをご参照ください。\n【マニュアル】\n『JP1 Version 11　JP1/Automatic Job Management System 3 設計ガイド（業務設計編）』\n○6.4.1　アクセス権限についての検討項目\nhttps://itpfdoc.hitachi.co.jp/%E2%80%8Bmanuals/3021/30213B1420/AJSG0072.HTM\nKNAC1123-Eのエラーを回避する2つの条件\najsagtaddコマンド実行時に出力される「KNAC1123-E」エラーの回避方法をご紹介します。ここでは、administratorユーザー(Windows)とrootユーザー(UNIX系)それぞれでの実行手順を記載しますので、他のユーザーで実施する場合は、ユーザー名を読み替えてください。\n条件1．OSユーザーをJP1ユーザーとして登録する\n以下のコマンドを実行して、OSユーザをJP1ユーザとして登録します。\n■Windowsの場合\n> jbsadduser -p 任意パスワード administrator\nUser Name = administrator\n正常終了しました\n■UNIX系の場合\n# /opt/jp1base/bin/jbsadduser -p 任意パスワード root\nUser Name = root\n正常終了しました\n条件2．JP1ユーザーに「JP1_JPQ_Admin」の権限を付与する\n以下のファイルに、ユーザー権限を付与するための行を追記します。\n■Windowsの場合\nファイル：＜JP1フォルダ＞\\JP1Base\\conf\\user_acl\\JP1_UserLevel\n権限付与：administrator:*=JP1_JPQ_Admin\n■Linuxの場合\nファイル：/etc/opt/jp1base/conf/user_acl/JP1_UserLevel\n権限付与：root:*=JP1_JPQ_Admin\n上述した2つの設定が完了したら、以下のコマンドを実行して設定を反映します。\n■Windowsの場合\n> jbsaclreload\n正常終了しました\n■UNIX系の場合\n# /opt/jp1base/bin/jbsaclreload\n正常終了しました\n（番外編）JP1ユーザー登録ができない場合の回避方法\nJP1ユーザーの登録が難しい場合は、環境変数に「JP1_JPQ_Admin」権限を持つJP1ユーザーを毎回定義すれば、ajsagtaddコマンド実行時のエラーが回避できます。以下は、デフォルトで作成されるJP1ユーザーであるjp1adminを利用した場合の例です。\n■Windowsの場合\nset JP1_USERNAME=jp1admin\n■UNIX系の場合\nJP1_USERNAME=jp1admin\nexport JP1_USERNAME\nまとめ\n本記事では、JP1/AJS3-Managerでエージェントを追加する際のエラー回避方法についてご紹介しました。冒頭でご紹介した2つの回避方法は、ひとたび設定すれば「ajsagtadd」コマンド実行時のエラーが出力されなくなります。\n番外編でご紹介した回避方法は、毎回、環境変数をsetコマンドから実行する必要があるため、やや面倒です。JP1ユーザーの登録が難しい場合にのみ試していただくことをお勧めします。\nまた、「ajsagtadd」コマンド以外でも、「KNAC1123-E」のエラーが出力されるJP1コマンドもあります。本エラーが出力された場合は、本記事の回避方法をお試しください。\n製品正式名称／略称標記 および機能対象バージョン\nJP1/Automatic Job Management System 3 - Manager／JP1/AJS3-Manager\nバージョン9以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n本田 祐次\n2007年アシストに入社し一貫してJP1の顧客サポートを担当。「JP1サポート技術者ブログ」の編集リーダー。「JP1認定シニアコンサルタント」の資格保有者。このブログでは、知って便利な情報を紹介したいと思います。\n休みの日は、家族の食事を毎食作り、子どもの世話をしています。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201811_itdm2_regadd.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/ITDM2】JP1でクライアントPCのレジストリが管理できる！\nContent:\n資産管理\n2018.11.22\n【JP1/ITDM2】JP1でクライアントPCのレジストリが管理できる！\n最近、アシストのお客様から『JP1/ITDM2を使用してクライアントPCのレジストリを管理するにはどうしたら良い？』といったお問い合わせが多く寄せられます。\nJP1/ITDM2の製品本体には、レジストリを変更する機能は実装されていませんが、配布機能を利用すれば、簡単に管理（レジストリ設定値の把握／変更）できます。この機能を使うと、クライアントPCから取得したレジストリ情報を、資産情報の一項目として一元管理してCSV出力できるため、とても便利です。\nそこで本記事では、\nレジストリを変更するためのWindowsの「REG」コマンドを、JP1/ITDM2の配布機能を利用してクライアントPC側で実行させる手順\nをご紹介します。\nWindowsの「REG」コマンドとは\nREGコマンドは、Windowsに実装されているレジストリを操作するためのコマンドです。レジストリを追加するための機能として「REG ADD」「REG IMPORT」がありますが、今回は「REG IMPORT」を使用します。\n事前にレジストリファイル（拡張子 .reg）を用意して、コマンドを実行してインポートしましょう。\nREG IMPORT ファイル名 [/reg:32 | /reg:64]\nファイル名 (ローカル コンピューターのみに) インポートされるディスク ファイル名。\n/reg:32 32ビットレジストリ ビューを使用してキーにアクセスする必要があることを指定します。\n/reg:64 64ビットレジストリ ビューを使用してキーにアクセスする必要があることを指定します。\nWindows 10のデュアルスキャン機能\nここでは、Windows 10におけるWSUSの設定変更を例に紹介します。\nWindows 10 1607から、WindowsUpdateデュアルスキャン（DualScan）機能が組み込まれています。本機能は、社内のWSUSサーバとインターネット上の公式WindowsUpdateサイト、両方に対して更新確認を行います。そのため、「WSUSの構築＝WindowsUpdateサイト」とはならず、インターネットからの更新が発生します。もし、社内のWSUSサーバからのみ更新を行いたい場合は、本機能を無効化することをお勧めします。\n参考URL\nMicrosoft TechNet\nWindows 10 の WSUS クライアントが Windows Update から更新プログラムを取得するようになってしまう事象について\nhttps://blogs.technet.microsoft.com/jpwsus/2016/11/15/windows-10-1607-wufb\n本機能は、OSのグループポリシーで設定しますが、レジストリでの設定も可能です。\n【キー】HKEY_LOCAL_MACHINE¥SOFTWARE¥Policies¥Microsoft¥Windows¥WindowsUpdate\n【名前】DisableDualScan\n【種類】REG_DWORD\n【 値 】0 (デュアルスキャン有効)\n1 (デュアルスキャン無効)\nJP1/ITDM2でレジストリ値を変更する方法\nJP1/ITDM2の配布機能を使用して、クライアントPCから取得したレジストリ情報を管理するには、以下3つの手順を実施します。\n1.\nインポートするレジストリファイル（.reg）を作成\n2.\nJP1/ITDM2パッケージを作成（コピー、コマンド実行を指定）\n3.\n作成したパッケージを配布\n※\nJP1/ITDM2でのコマンド実行は、クライアントPCのLocal System権限で行なわれます。そのため、Local System権限で変更できないHKEY_CURRENT_USER配下の変更はできません。\nインポート用のレジストリファイル（.reg）を作成\n(1)下記内容の、レジストリファイルを作成し（WSUS.reg）、zip形式で圧縮します（WSUS.zip）。\nWindows Registry Editor Version 5.00\n[HKEY_LOCAL_MACHINE¥SOFTWARE¥Policies¥Microsoft¥Windows¥WindowsUpdate]\n\"DisableDualScan\"=dword:00000001\nパッケージを作成\n(2)「配布（ITDM互換）」のメニューより、[パッケージ]-[パッケージ一覧]を選択した後、「＋追加」をクリックします。\n(3)「パッケージの追加」画面で、パッケージング対象のファイルを指定し、「OK」をクリックします。\n【パッケージ種別】ソフトウェアインストール\n【登録するファイル】WSUS.zip（手順1.で圧縮したファイル\n(4)「ソフトウェアインストールパッケージの追加」画面で、コマンドなどを指定し、「OK」をクリックします。\n(5)「パッケージ一覧」の画面に戻り、パッケージが作成されている事を確認します。\nパッケージを配布\n(6)「配布（ITDM互換）」のメニューより、[タスク]-タスク一覧]を選択した後、「＋パッケージ配布のタスクを追加」をクリックします。\n(7)「パッケージ配布タスクの追加」画面で、「配布するパッケージ」および「対象のコンピュータ」を指定し、「OK」をクリックします。\n(8)クライアントPCに対しレジストリファイルが配布され、コマンドが実行されます。\n配布結果は、「タスク一覧」より確認可能です。レジストリの設定値を一覧で確認したい場合は、冒頭に記載した手順で収集可能です。\n2.レジストリ情報の取得\nつづいて、変更対象となったレジストリ値を取得する手順を紹介します。\n(1)[設定]画面のメニューより、[資産管理]-[資産管理項目の設定]を選択します。\n(2)画面をスクロールし、「ハードウェア資産情報の追加管理項目」内にある「項目を追加」をクリックします。\n(3)「管理項目を追加」画面で各種項目を指定し、OKより画面を閉じます。\n【項目名】DisableDualScan（管理画面での項目名として使用されます）\n【入力方法】レジストリから取得（選択）\n【データ型】テキスト型（固定値）\n【レジストリパス】\nルートキー HKEY_LOCAL_MACHINE（選択）\nパス ¥SOFTWARE¥Policies¥Microsoft¥Windows¥WindowsUpdate（キーを入力）\nレジストリ名 DisableDualScan（入力）\n(4)[資産]画面を開き、画面左側のメニューより[資産一覧]を選択します。\n画面右側で対象の「資産」を選択したあと、画面下部の「資産情報」タブに、手順3.で「項目名」として設定した名称（DisableDualScan）および、取得されたレジストリ情報が表示される事を確認します。\nまとめ\n本記事でご紹介した、クライアントPCのレジストリを管理する方法はActive Directoryのグループポリシーからも設定可能です。Active Directoryを未導入の場合や、設定値をJP1/ITDM2の管理画面からも確認されたい場合は本手順をご利用ください。\n製品正式名称／略称標記 および機能対応バージョン\nJP1/IT Desktop Management 2（JP1/ITDM2）Version 10-50以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n吉岡 篤\n2000年 新卒でアシストに入社。JP1認定コンサルタント。\n海外製クライアントPC管理製品の技術サポートから始まり、現在はJP1/NETM製品、JP1/ITDM製品を担当。\n趣味は、コントラバス演奏、ボディボード、ウェイトトレーニング。\n関連している記事\n資産管理\n2022.09.09\n【JP1/ITDM2】情報漏洩の徹底防止！USBデバイスの制御機能を使いこなそう！\n2022年6月、市民46万人分の個人情報が入ったUSBメモリが、一時所在不明となりニュースになりました。そこで今回は改めて、JP1/ITDM2のデバイス制御機能の概要や利用方法をご紹介します。\n資産管理\n2021.06.28\n【JP1/ITDM2】MacもWindowsもJP1でまとめて資産管理！\nJP1/ITDM2は、Mac版エージェントを利用することでMacOSの資産管理が可能です。本ブログではMac版エージェントを利用するための事前準備や手順を解説します。\n資産管理\n2021.03.22\n【JP1/ITDM2】JP1 V12.5新機能のご案内『資産管理製品編』\n2021年1月21日にリリースされたJP1の新バージョン「Version 12.5」の新機能の中から、資産管理製品の新機能を厳選してご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201812_nnmi_incident.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/NNMi】【JP1/IM】重要なインシデントを見逃さないためには？\nContent:\n統合管理\nネットワーク管理\n2018.12.27\n【JP1/NNMi】【JP1/IM】重要なインシデントを見逃さないためには？\nJP1/NNMiまたはJP1/Cm2/NNMiが管理するネットワーク機器で、障害が発生したときに発行されるNNMiインシデントは、システムにとって重要なメッセージです。このインシデントをJP1イベントへ変換して統合監視できれば、重要なインシデントの見落としが防げます。\nそこで今回は、\n重要なインシデントの見落としを防ぐために、JP1/IM - Event Gateway for Network Node Manager ｉを用いた、JP1/NNMi（JP1/Cm2/NNMi）とJP1/IMとの連携方法\nをご紹介します。\n※\n本記事では、JP1/NNMiまたはJP1/Cm2/NNMiは「NNMi」、JP1/IM - Event Gateway for Network Node Managerは「JP1/IM - EG for NNMi」と略します。\nJP1/IM連携のしくみ\nJP1/NNMiまたはJP1/Cm2/NNMiが管理するネットワーク機器で障害が発生した際は、NNMiインシデントが発行されます。このインシデントはNNMiコンソールから確認可能ですが、重要なインシデントを見逃さないためには、JP1/IMで一元管理されることをお勧めします。\nNNMiインシデントをJP1イベントへ変換し、JP1/IMで管理・監視する流れ\nネットワーク機器で障害が発生した場合、NNMiがインシデントを発行。JP1/IM - EG for NNMiがこのインシデントを取得して、JP1イベントへと変換します。\n下図は、JP1/IM - EG for NNMiを使用してNNMiインシデントをJP1イベントへ変換し、JP1/IMで管理・監視する流れを示しています。\nJP1/IM - EG for NNMiを使用して変換したJP1イベントは、JP1/BaseのイベントDBに登録されたあと、マネージャーホストへ転送されます。転送されたJP1イベントは、マネージャーホストのJP1/BaseのイベントDBに登録されたあと、JP1/IM - Managerで一元的に管理されます。これにより、JP1/IM - View からインシデント内容を確認できます。\n下図は、JP1/IM - Viewの表示例です。\nNNMiとJP1/IMの連携設定\nNNMiインシデントをJP1イベントへ変換するには、JP1/IM – EG for NNMi の「NNMiインシデント転送フィルター定義ファイル」 の作成が必要です。定義ファイルを作成しないと、NNMiインシデントはJP1イベントへ変換されません。以下に定義例を示します。\nNNMiインシデント転送フィルター定義ファイルの作成例\nNNMiインシデント転送フィルター定義ファイルは，インストール時には存在しません。そのため、以下のサンプルファイルをコピーしてリネームしたあと，定義内容を編集して作成してください。\n●ファイル名\nimevtgw_nnmi_forward_filter.conf\nimevtgw_nnmi_forward_filter.conf.sample（サンプルファイル）\n●格納先\n＜Windowsの場合＞\n物理ホスト：EG for NNMiパス\\conf\n論理ホスト：共有フォルダ\\JP1EG4NNMI\\conf\n＜UNIXの場合＞\n物理ホスト：/etc/opt/jp1eg4nnmi/conf\n論理ホスト：共有ディレクトリ/jp1eg4nnmi/conf\n定義ファイル作成例\nサンプルファイルの記述を例に、NNMiインシデント転送フィルター定義ファイルの定義例を説明します。（説明のため行番号を追加しています）\nフィルター条件ブロック（2〜5行目）\n重大度（SEVERITY_UK）が「MINOR」から「CRITICAL」の範囲の場合に、\nJP1イベントに変換するように定義します。\nマッピングブロック（6〜13行目）\n・メッセージのマッピング（7行目）\nNNMiインシデントのメッセージが、そのままJP1イベントのメッセージに\nマッピングされるように定義します。\n・重大度のマッピング（8〜12行目）\nNNMiインシデントとJP1イベントの重大度のマッピングを定義します。\nまとめ\nNNMiインシデントを、JP1/IM – EG for NNMiを用いて一元管理する方法をご案内しました。重大なインシデントを見逃さないためには、NNMiインシデント転送フィルター定義の見直しを行うことを推奨します。\n製品正式名称／略称標記 および機能対象バージョン\nJP1/NNMi または JP1/Cm2/NNMi\nJP1/IM - Manager\nJP1/IM – EG for NNMi\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n木原 桜子\nアシスト北海道新卒2期生。札幌でJP1サポート業務に従事して4年目。後輩も増え、札幌JP1チームの中堅として日々奮闘中。\nページトップへ戻る\n関連している記事\nネットワーク管理\n2024.02.22\n【JP1/NNMi】入門編！JP1の基本用語を理解しよう！\nJP1/NNMiのヘルプやマニュアルを読む上で理解しておきたい、JP1の基本用語について解説します。\n統合管理\n2023.05.16\n【JP1/IM】JP1初心者向け！ログファイル監視の設定方法を解説（後編）\n定期的なサーバ再起動やメンテナンス時に、不要な通報通知を抑止する方法をご紹介します。\n統合管理\n2023.05.09\n【JP1/Base】JP1初心者向け！ログファイル監視の設定方法を解説（前編）\n定期的なサーバ再起動やメンテナンス時に、不要な通報通知を抑止する方法をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201901_ajs3_history.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】ジョブの実行中止・保留解除などの「履歴」を確認するには？\nContent:\nジョブ管理\n2019.01.30\n【JP1/AJS3】ジョブの実行中止・保留解除などの「履歴」を確認するには？\nジョブやジョブネットの実行予定を「実行中止」にしたり、保留中のジョブを「保留解除」したことはありますか？これらの操作を、誰がいつ行ったのかはデフォルトではログを見なければ分かりません。\nしかし、実はこれらの操作履歴はJP1/AJS3 - Viewの画面から参照できるようにすることが可能です。\nそこで今回は、\nジョブの計画一時変更や保留属性変更などの操作履歴をJP1/AJS3 - Viewから確認する方法をご紹介\nします。\nJP1/AJS3 - Viewで表示できる項目／表示イメージ\nジョブの計画一時変更／保留解除などの操作履歴は、JP1/AJS3の「一時変更の操作管理機能」から確認できます。この画面では、以下9つの項目が表示できます。\n計画一時変更（日時変更／即時実行／実行中止／変更解除）\n保留属性変更（保留属性設定／保留属性解除）\n遅延監視変更（開始遅延監視／終了遅延監視／ジョブネット監視）\n優先順位変更\n実行順序制御方式の一時変更（同期／非同期）\n起動条件の無効化、成立待ち時間の変更、成立待ち回数の変更\n待ち合わせ条件の一時変更（待ち合わせ無効化／有効化）\n実行予定の追加\n世代指定による登録解除\n一覧の画面を表示するためには、JP1/AJS3 - View画面から表示対象ユニットを選択して、[表示]-[一時変更情報の一覧]を選択します。\nなお、操作履歴は「\n一時変更の操作管理機能\n」を有効にしたあとから参照できます。有効にする設定手順は、下記をご確認ください。\n※これは、V9.5以降のJP1/AJS3で利用できる機能です。\n1．表示箇所\n2．表示イメージ\n「操作管理機能」を有効にする設定手順\n本設定はスケジューラーサービス\n（※）\n単位で行いますので、対象のスケジューラーサービスごとに以下の手順を実施してください。\n※\nJP1/AJS3-View画面上から見て最上位階層のものを指します。デフォルトではAJSROOT1が存在します。\n1.JP1/AJS3-ManagerホストのJP1/AJS3サービスを停止します。\n※論理ホストの場合は論理ホストのJP1/AJS3サービスを停止してください。\n2.JP1/AJS3-Managerホストにて以下のコマンドを実行し、「一時変更の操作管理機能」を有効化します。\n設定用コマンド（スケジューラーサービス[AJSROOT1]の場合)\n[Windowsの場合]\n> jajs_config -k [JP1_DEFAULT\\JP1AJSMANAGER\\AJSROOT1] \"SAVEPLANINFO\"=\"yes\"\n[UNIXの場合]\n# /opt/jp1ajs2/bin/jajs_config -k [JP1_DEFAULT\\JP1AJSMANAGER\\AJSROOT1] \"SAVEPLANINFO\"=\"yes\"\n論理ホストの場合は「JP1_DEFAULT」の部分を「論理ホスト名」に変更してください。\n設定用コマンド（スケジューラーサービス[AJSROOT1]の場合)\n[Windowsの場合]\n> jajs_config -k [論理ホスト名\\JP1AJSMANAGER\\AJSROOT1] \"SAVEPLANINFO\"=\"yes\"\n[UNIXの場合]\n# /opt/jp1ajs2/bin/jajs_config -k [論理ホスト名\\JP1AJSMANAGER\\AJSROOT1] \"SAVEPLANINFO\"=\"yes\"\n3.JP1/AJS3-ManagerホストのJP1/AJS3サービスを起動します。\n※論理ホストの場合は論理ホストのJP1/AJS3サービスを起動してください。\nまとめ\n今年最初の記事では、計画一時変更などの操作履歴表示をご紹介しました。頻繁にスケジュールの変更や保留解除を行う方にはおすすめの機能ですので、ぜひご活用ください。\nさて、JP1製品は2019年1月22日、新バージョンV12をリリースいたしました。\n次回以降のブログではV12の新機能に関する情報をお伝えしますので、ぜひご覧いただければと思います。\n2019年も、JP1サポート技術者ブログをよろしくお願いいたします。\n製品正式名称／略称標記 および機能対象バージョン\nJP1/Automatic Job Management System 3 - Manager　Version9.5以降\nJP1/Automatic Job Management System 3 - View　Version9.5以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n栗山 綾美\n2012年、株式会社アシスト入社。セキュリティ製品を担当後、2013年より\nJP1の顧客サポートを担当。「JP1認定シニアコンサルタント」の資格保有者。\nサポートの経験を活かしたブログを目指します。\n趣味は、夢と魔法の国(と、冒険とイマジネーションの海)に行くこと。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201901_jp1_v12function.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1】Version 12の新機能一覧\nContent:\nジョブ管理\n統合管理\nパフォーマンス管理\nネットワーク管理\n資産管理\n2019.02.07\n【JP1】Version 12の新機能一覧\nJP1の最新バージョン「Version 12」が2019年1月22日にリリースされました。そこで\n本記事では、Version12の新機能一覧をご紹介\nします。新機能の中でのお勧めの機能がありましたら、別記事でご紹介していきます。\n「統合管理製品」の新機能一覧\n●\nJP1/IM2\n・統合監視DBに存在する全体の情報で、システムのステータスを判断／表示可能\n・JP1イベントをブラウザで表示可能\n・複数のJP1/AJS3-Managerで構成されているジョブネット同士の接続性を把握可能\n・プラグインI/Fを提供し、管理対象から情報収集可能\n・収集したデータをナレッジとして定義し、ナレッジに沿った関連付けが可能\n・異なるインターフェースで管理されたデータを、統一されたインターフェースでアクセスするREST APIを提供可能\n●\nJP1/Base\n・AIX、HP-UXのログファイルトラップにおいて、ログ出力を検知してからJP1イベントに変換するまでの性能が2倍に向上\n以下は、JP1/IM2のWeb 画面になります（GUIが大幅に変わったため、画像を載せています）。\n「ジョブ管理製品」の新機能一覧\n●\nJP1/AJS3-Manager\n・ジョブ実行の稼働実績データを出力するコマンド(ajsreport)を追加し、ジョブ実行の要求量や処理量を定量的に把握可能\n・AWS上のDBaaSを利用し自動バックアップ・リストアが可能\n・実行登録状態のバックアップ(ajsregexport)とリカバリ(ajsregimport)で利用する登録予定情報のインポート機能の操作性向上\n●\nJP1/AJS3-WebConsole\n・Web 画面をスマートデバイス(iPhone、iPad)からも利用可能（FireFoxでの利用になります)\n・利用者の権限に応じて、操作ボタンの表示可能\n・Web 画面で入力する接続先マネージャホストの固定化により、ホスト名をドロップダウンリストより選択可能\n●\nJP1/AJS3-EAP\n・SAP NW RFCライブラリの新しいバージョンである7.5に対応\n・SAP側のジョブテンプレートをコピーしSAPジョブを実行可能\n・SAP以外の先行ジョブから得られる任意の情報を、SAPジョブのバ リアントの値に指定してジョブを実行可能\n「ネットワーク管理製品」の新機能一覧\n●\nJP1/NNMi\n・Cisco Application Centric Infrastructure (ACI)ファブリックをノードグループとして認識し、ノードグループマップで構成を確認可能\n・インシデントの登録数が上限(デフォルト10万件)を超えた場合にインシデントを通知可能\n・Cisco社製機器で構成された無線LAN環境におけるCisco WAPの構成の監視が強化。無線LANコントローラ、WAP、無線カードの関係の把握が容易になる\n●\nJP1/SSO\n・リソース収集にて、定期的な収集が想定した収集間隔通りに行えているか確認可能\n・コンソールをご利用いただく際に、Oracle Javaのインストールが不要\n●\nJP1/ESA\n・LifeKeeperの共有ディスクに関するファイルシステムのMIBを取得可能\n「パフォーマンス管理製品」の新機能一覧\n●\nJP1/PFM-Manager\n・JP1/PFMエージェント製品の性能監視データを収集し、JP1/IM2のREST API にて性能監視データを共有可能\n・RHEL7のsystemdによるLinux 自動起動・停止へ対応\n●\nJP1/PFM-Platform(エージェント、リモート)\n・RHEL7で標準化されたメモリ所要量取得方法に対応\n●\nJP1/PFM-RM VM\n・仮想化環境としてWindowsのDockerのリモート監視をサポート。各Dockerコンテナ環境の稼働性能情報（CPU、 メモリ、 ディスク、 ネットワークの各リソース)を監視可能\n・ユーザー固有のニーズに基づき、VMware ESXiが持つパフォーマンスカウン タをRM-VMのレコードにマッピング可能\n・監視対象のVMwareのデータストアにおいて更新契機が分かるように最終更新日時を項目として追加\n●\nJP1/PFM-EAP\n・クラウド環境のSAPシステムの稼働性能をオンプレミスからリモートで監視可能\n・SAP NW RFCライブラリの新しいバージョンである7.5に対応\n●\nJP1/PFM-Oracle(エージェント、リモート)\n・Oracleの推奨構成となったCDB構成(シングルテナントおよびマルチテナント) の監視に対応\n「資産管理製品」の新機能一覧\n●\nJP1/ITDM2\n・インターネット環境に持ち出したPCを社内PCと同様に管理可能\n・日立サポートサイトで、累積型の更新プログラム情報を 公開するまでの期間を1週間に短縮\n・累積型の更新プログラムのセキュリティ判定の運用がタイムリーに実施可能\n・上位システムの障害時に、別の上位システムに自動的に接続先を切り替えて配布運用を継続可能\n・JP1サブスクリプションのライセンス形態に対応\n・Windows Server 2019をサポート\n・情報取得するウイルス対策製品を追加サポート\n[日本語版]\n- Symantec Endpoint Protection 14.2\n- McAfee Endpoint Security 10.6\n- ビジネスセキュリティ 10.0\n[英語版]\n- Symantec Endpoint Protection 14.2\n- Worry-Free Business Security - Standard 10.0\n- Worry-Free Business Security - Advanced 10.0\n- Kaspersky Endpoint Security 11 for Windows\n最後に\nJP1の開発元である株式会社日立製作所様とも連携しながら、弊社にてVersion12の動作検証を行っております。Version12の目玉は、JP1/IM2でインテリジェント統合管理基盤が提供されたことです。プラグイン(REST API)を利用する事で、インテリジェント統合管理基盤と他のツールが連携できるようになり、システム内のデータを集約・統合、関係性や状況を可視化できるようになりました。\n今後のブログで、本ブログで紹介したVersion12の各製品の新機能の中から、いくつかピックアップして紹介していきます。是非、ご確認ください。\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n本田 祐次\n2007年アシストに入社し一貫してJP1の顧客サポートを担当。「JP1サポート技術者ブログ」の編集リーダー。「JP1認定シニアコンサルタント」の資格保有者。このブログでは、知って便利な情報を紹介したいと思います。\n休みの日は、家族の食事を毎食作り、子どもの世話をしています。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201903_jp1_ajs3_statusreport.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】JP1 Version 12新機能 -稼働状況レポートの出力-\nContent:\nジョブ管理\n2019.03.25\n【JP1/AJS3】JP1 Version 12新機能 -稼働状況レポートの出力-\nJP1 Version 12（以下、JP1 V12）から、ジョブ実績レポートを出力するコマンドが追加されました。\n稼働実績データを可視化して、スケジューラーサービスの処理量やジョブ実行状況を把握することにより、安定稼働やトラブル未然防止の効果が期待できます。\nそこで今回は、V12新機能の中でも注目の\najsreport\nコマンドをご紹介します。\n稼働状況レポート出力機能とは\n稼働状況レポートの出力機能とは、スケジューラーサービスの処理量やジョブの実行状況をCSV形式で出力する機能です。\n稼働状況レポートは、ジョブやルートジョブネットの開始数やキューイング状態のジョブ件数といった、スケジューラーサービスの稼働状況を時間帯ごとに集計して出力します。そのため、ピークの時間帯や時間経過による推移が把握できます。\n●\n稼働状況レポートに出力される情報の一覧\n出力される情報\n説明\nスケジューラーサービスの処理量\n・ジョブネットやジョブの開始数\n・ジョブネットやジョブの終了数\nジョブの実行状況\n・処理待ちジョブの件数\n・処理中のジョブの情報\nCSV形式で出力された情報をExcelやOSSなどでグラフ化して集計・分析することにより、JP1/AJS3の稼働状況がより把握しやすくなります。\n稼働状況レポートを出力するためには、出力機能を有効にする必要があります。機能を有効にすると稼働状況ログファイル（バイナリー形式）の出力が開始されます。マネージャーホストでajsreportコマンドを実行すると、稼働状況ログファイルの内容をCSV形式で出力します。\najsreportコマンドは、保存されている稼働状況ログファイルに対して、対象のスケジューラーサービスや出力するデータの集計期間や間隔を任意に設定できます。これらの設定はajsreportコマンドの実行時にオプションで指定します。\n定期的に稼働状況をCSVファイルに出力することで、ジョブ増減傾向や処理性能の把握ができたり、過去の稼働状況との比較が可能となり、システムの安定稼働やトラブルの未然防止が期待できます。\n稼働状況レポート出力機能の設定手順\n稼働状況レポートの出力機能は、JP1 V12インストール時にデフォルトで有効です。しかし、旧バージョンからJP1 V12へ上書きインストールを実施した場合には無効になっています。\nそこでここでは、稼働状況レポートの出力に関する設定を変更する手順を記載します。設定変更には環境設定パラメーターを設定するため、\njajs_config\nコマンドを使用します。\n(1)定義手順\n※定義キー、環境設定パラメーターについては後述します。\n●Windowsの場合\n1)Windowsの［コントロールパネル］-［管理ツール］-［サービス］を選択し、次に示すサービスを停止する。\nJP1/AJS3サービス\n2)次のコマンドを実行して、後述の「環境設定パラメーター一覧」の環境設定パラメーターを設定する。\nコマンド実行例\n> jajs_config -k 定義キー名 \"環境設定パラメーター名\"=定義内容\n3)JP1/AJS3を再起動する。\n設定した内容が反映されます。\n●UNIXの場合\n1)JP1/AJS3のサービスを停止する。\n次のコマンドを実行して，プロセスがすべて停止していることを確認します。\nコマンド実行例\n# /etc/opt/jp1ajs2/jajs_stop※\n# /opt/jp1ajs2/bin/jajs_spmd_status\n注※\n自動停止の設定がされていることを確認してください。\n2)次のコマンドを実行して、後述の「環境設定パラメーター一覧」の環境設定パラメーターを設定する。\nコマンド実行例\n# /opt/jp1ajs2/bin/jajs_config -k \"定義キー名\" \"環境設定パラメーター名\"=定義内容\n3)JP1/AJS3を再起動する。\n設定した内容が反映されます。\n(2)定義キー、環境設定パラメーター一覧\n稼働状況レポートの出力機能を設定するための環境設定パラメーターは、以下の通りです。\n定義キー\n[{JP1_DEFAULT|論理ホスト名}\\JP1AJSMANAGER\\スケジューラーサービス名]\n{JP1_DEFAULT|論理ホスト名}の部分は、物理ホストの場合は「JP1_DEFAULT」を、論理ホストの場合は「論理ホスト名」を指定します。\n環境設定パラメーター\n定義内容\n\"AJSREPORTUSE\"=\n稼働状況レポートの出力機能の有効/無効\n\"AJSREPORTDIR\"=\n稼働状況ログファイルの出力先ディレクトリ\n\"AJSREPORTSTOREDAYPERIOD\"=\n稼働状況ログファイルを保存しておく最低日数\nAJSREPORTUSE\n形式\n\"AJSREPORTUSE\"=\"{yes|no}\"\n指定できる値\nyes\n稼働状況レポートの出力機能を有効にします。\nno\n稼働状況レポートの出力機能を無効にします。\nAJSREPORTDIR\n形式\n\"AJSREPORTDIR\"=\"稼働状況ログファイルを格納するディレクトリのパス\"\n指定できる値\nWindowsの場合\n180バイト以内の文字列\nUNIXの場合\n191バイト以内の文字列\nAJSREPORTSTOREDAYPERIOD\n形式\n\"AJSREPORTSTOREDAYPERIOD\"=dword:稼働状況ログファイルを保存しておく最低日数\n指定できる値\n16進数で1〜15（10進数で1〜21）（単位：日）\n※最長で21日間保存可能\nデフォルト値\n7日間\n稼働状況の出力例\najsreportコマンドの実行例をいくつか紹介します。UNIX環境の場合は、ajsreport を /opt/jp1ajs2/bin/ajsreport と読み替えてください。なお、CSVファイルに出力するためには、\nリダイレクト\nが必要です。\n※\najsreportコマンドでは、スケジューラーサービスの処理量やジョブの 実行状況に関する約60項目の値を出力します。以下の実行例では、スペースの関係上一部省略しています。\n●\n実行例1：当日（2019/03/14）の稼働状況を出力します\n> ajsreport > 任意の出力ファイル名.csv\nCSVファイル出力例\n#exectime: 2019/03/14 19:00:13\n#command: ajsreport\n#DATE,RJ_EXEC_START_NUM,CONDRJ_MONITOR_START_NUM,CONDRJ_EV_DETECTED_NUM,...\n2019/03/14 00:00,0,0,0,...\n2019/03/14 00:01,0,0,0,...\n: 　 ,:,:,:,...\n2019/03/14 23:59,0,0,0,...\n●\n実行例2：当日（2019/03/14）のコマンド実行日時（15:10）の稼働状況を出力します\n> ajsreport -n > 任意の出力ファイル名.csv\nCSVファイル出力例\n#exectime: 2019/03/14 15:10:34\n#command: ajsreport -n\n#DATE,RJ_EXEC_START_NUM,CONDRJ_MONITOR_START_NUM,CONDRJ_EV_DETECTED_NUM,...\n2019/03/14 15:09,0,0,0,...\nコマンドオプション\n-n：\nコマンドを実行した日時の直近の稼働状況を出力します。\n●\n実行例3：前日(2019/03/13)の稼働状況を出力します\n> ajsreport -b 2019/03/13 -H > 任意の出力ファイル名.csv\nCSVファイル出力例\n2019/03/13 00:00,0,0,0,...\n2019/03/13 00:01,0,0,0,...\n: ,:,:,:,...\n2018/01/01 23:59,0,0,0,..\nコマンドオプション\n-b 年/月/日\n稼働状況を出力する期間の開始日を指定します。\n省略した場合，コマンドを実行した日を開始日とします。\n-H\nヘッダーを表示しません。\nCSVファイルの活用例\nCSV形式で出力された稼働状況レポートをExcelやOSSなどでグラフ化することで、ジョブ運用実績の可視化に活用できます。\n例として、当日の業務を開始する前に、上述の\nコマンド実行例3\nを実施して前日の稼働状況レポートを取得し、時間別の運用実績をグラフ化します。\nブログ執筆者からひとこと\nこんにちは。アシストサポートセンターの木原です。\n今回はJP1 V12 新機能のajsreportコマンドをご紹介しました。JP1 V11まではジョブ運用実績を可視化するには、統合トレースログやスケジューラーログ、ajsshowコマンドを実行することで得られる情報を収集し解析する必要がありました。ajsreportコマンドによってジョブの実行数などスケジューラーサービスの処理量を簡単に取得できるようになります。ジョブ運用実績の可視化にお役立てください。\n私事となりますが、アシスト北海道は社員数が増え、増床のためオフィスが移転しました。社員がアイデアを出し合って心地よい空間になるよう作ったオフィスです。引き続き札幌から皆さまにお役に立てるようなブログを作成していきます！\n次回はJP1/IM2の新機能について掲載予定です。お楽しみに。\n製品正式名称／略称標記 および機能対象バージョン\nJP1/Automatic Job Management System 3 - Manager  Version12\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n木原 桜子\nアシスト北海道新卒2期生。札幌でJP1サポート業務に従事して4年目。新人育成を経験し、札幌JP1チームの中堅として日々奮闘中。\n趣味はアニメ鑑賞です。WRY。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201904_jp1_im2_connection.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/IM2】【JP1/AJS3】別環境のジョブネット同士の接続性を表示\nContent:\n統合管理\nジョブ管理\n2019.04.19\n【JP1/IM2】【JP1/AJS3】別環境のジョブネット同士の接続性を表示\nこれまでに、例えば人事システムが、複数のJP1/AJS3-Manager間やスケジューラーサービス間で連携している場合に、連携先のシステム障害に気づけずジョブが停止し、夜間バッチの処理終了時間が遅延した経験はありませんか？時間内に処理が完了されずにサービスが開始できなければ、ビジネスに多大な影響が生じます。\n2019年1月にリリースされた「JP1 Version 12」のJP1/IM2では、別環境のジョブネット同士の接続性(関連性)を表示できるようになりました。この機能を使えば、ジョブネット間の関連が一目で把握でき、問題発生時にすぐに対処できます。そこで今回は、\nJP1 Version 12のJP1/IM2の新機能である、別環境のジョブネット同士の接続性を表示する方法をご紹介\nします。\nジョブネットの接続性を表示するための前提条件\n（1）JP1 Version 12のJP1/IM2を利用している事\n（2）JP1 Version 12のJP1/AJS3-Managerを利用している事\n（3）JP1/IM2で「インテリジェント統合管理基盤」\n※1\nを構築している事\n（4）JP1/AJS3とJP1/IM2が同じサーバか、構成定義により関連付けされている事\n※1「インテリジェント統合管理基盤」の構築方法は以下マニュアルをご確認ください。\n『JP1 Version 12　JP1/Integrated Management 2 - Manager 構築ガイド』\n〇4.2　システム構成情報を設定する\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D5200/IMKT0161.HTM\nジョブネットの接続性を表示するための事前設定\n接続性を表示するために、JP1/AJS3-Managerサーバにプラグインを設定します。\n以下のファイルをコピーします。\nコピー元\n<JP1フォルダ>\\JP1AJS2\\tools\\IMDDAdapter\\conf\\Adapter_HITACHI_JP1_AJS3_CONFINFO.conf.model\nコピー先\n<JP1フォルダ>\\JP1Base\\plugin\\conf\\Adapter_HITACHI_JP1_AJS3_CONFINFO.conf\n※「Adapter_HITACHI_JP1_AJS3_CONFINFO.conf.model」の.modelを外してコピー先に配置してください。\nジョブネットの接続性を表示するための方法\nジョブネットの接続性を表示する方法は、以下の2通りあります。\n（1）イベント送信ジョブ、イベント受信ジョブの接続性を表示\n（2）イベント送信ジョブ、イベント受信ジョブ「以外」の接続性を表示\n1. イベント送信ジョブ、イベント受信ジョブの接続性を表示\nイベント送信ジョブとイベント受信ジョブの接続性を表示する場合は、以下のコマンドを実行します。\n●\n実行手順\n(1)管理する製品からシステム構成情報を取得する\n>\"<JP1フォルダ>\\JP1IMM\\bin\\imdd\\jddcreatetree.exe\" -o 任意のフォルダ名※\n(2)jddcreatetreeで取得した情報をインテリジェント統合基盤へ反映する\n>\"<JP1フォルダ>\\JP1IMM\\bin\\imdd\\jddupdatetree.exe\" -i 任意のフォルダ名※\n※任意のフォルダ名は同じ名称を指定してください。\n●\n反映イメージ\n2. イベント送信ジョブ、イベント受信ジョブ「以外」の接続性を表示\nイベント送信ジョブとイベント受信ジョブ「以外」の接続性を表示する場合は、以下のファイルで接続性を定義します。\n<JP1フォルダ>\\JP1IMM\\conf\\imdd\\imdd_nodeLink_def.conf\n※このファイルに使用できる文字は半角英数字と記号になります。\n日本語でユニット名を定義している場合は、URLエンコードを利用して半角英数字に変換後、設定してください。\nJSON形式で接続するルートジョブネットを以下の形式で記載します。\n※JP1/AJS3-Managerのサーバ名が「JP1IM2」の場合の例を提示しています。\n記載する情報\n記載方法\n記載例\nJP1/AJS3-Managerサーバ名情報\n_JP1AJS-M_マネージャホスト名\n_JP1AJS-M_JP1IM2\nJP1/AJS3-Managerサーバ名情報\n_HOST_マネージャホスト名\n_HOST_JP1IM2\nスケジューラーサービス情報\n_JP1SCHE_スケジューラーサービス名\n_JP1SCHE_AJSROOT1\nジョブグループ情報\n_JP1JOBG_ジョブグループ名\n_JP1JOBG_JOBGROUP1\nルートジョブネット情報\n_JP1ROOTJOBNET_ルートジョブネット名\n_JP1ROOTJOBNET_JOBNET1\n下記ルートジョブネットの接続性を付ける場合、以下定義の記載します。\n・JP1IM2サーバ AJSROOT1:/JOBGROUP1/JOBNET1\n・JP1IM2サーバ AJSROOT2:/JOBGROUP2/JOBNET2\n{\n\"meta\":{\n\"version\":\"1\"\n},\n\"links\":[\n{\n\"from\":\"_JP1AJS-M_JP1IM2/_HOST_JP1IM2/_JP1SCHE_AJSROOT1/_JP1JOBG_JOBGROUP1/_JP1ROOTJOBNET_JOBNET1\",\n\"to\":\"_JP1AJS-M_JP1IM2/_HOST_JP1/IM2/_JP1SCHE_AJSROOT2/_JP1JOBG_JOBGROUP2/_JP1ROOTJOBNET_JOBNET2\",\n\"type\":\"rootJobnetExecutionOrder\"\n}\n]\n}\n以下コマンドにてインテリジェント統合基盤へ反映する\n>\"<JP1フォルダ>\\JP1IMM\\bin\\imdd\\jddupdatetree.exe\" -i 任意のフォルダ名\n以下の接続線が表示されるようになります。\nユニット名に日本語を利用した場合\n以下、日本語のルートジョブネットの接続性を付ける場合\n・JP1IM2サーバ AJSROOT1:/人事データ処理/人事ファイル_ファイル転送\n・JP1IM2サーバ AJSROOT2:/人事データ更新処理/ファイル受信_人事データ更新\n以下のように記載します。\n{\n\"meta\":{\n\"version\":\"1\"\n},\n\"links\":[\n{\n\"from\":\"_JP1AJS-M_JP1IM2/_HOST_JP1IM2/_JP1SCHE_AJSROOT1/_JP1JOBG_%E4%BA%BA%E4%BA%8B%E3%83%87%E3%83%BC%E3%82%BF%E5%87%A6%E7%90%86/_JP1ROOTJOBNET_%E4%BA%BA%E4%BA%8B%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%5F%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E8%BB%A2%E9%80%81\",\n\"to\":\"_JP1AJS-M_JP1IM2/_HOST_JP1IM2/_JP1SCHE_AJSROOT2/_JP1JOBG_%E4%BA%BA%E4%BA%8B%E3%83%87%E3%83%BC%E3%82%BF%E6%9B%B4%E6%96%B0%E5%87%A6%E7%90%86/_JP1ROOTJOBNET_%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%8F%97%E4%BF%A1%5F%E4%BA%BA%E4%BA%8B%E3%83%87%E3%83%BC%E3%82%BF%E6%9B%B4%E6%96%B0\",\n\"type\":\"rootJobnetExecutionOrder\"\n}\n]\n}\n※URLエンコードを利用して、日本語を半角英数字に変換する必要があります。\n以下コマンドにてインテリジェント統合基盤へ反映する\n>\"<JP1フォルダ>\\JP1IMM\\bin\\imdd\\jddupdatetree.exe\" -i 任意のフォルダ名\n以下の接続線が表示されるようになります。\nブログ執筆者からひとこと\nこんにちは。アシストサポートセンターの本田です。\n今回はJP1 Version 12 新機能であるジョブネット同士の接続性を表示する方法をご紹介しました。この設定をしておくだけで、いつでも接続性が確認できるようになり、安心してシステム運用ができるようになると思います。\nさて、私事ですが、JP1 Version 12からはJP1/IM2でもREST APIを利用するようになったので、使い方の勉強と取得したデータの活用方法について考えています。REST APIで取得したデータはAIに読み込ませ、エラーパターンを覚えさせて、障害対処を自動化させるんだろうなぁと思いながら、障害対応の未来を考えたりしています。\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n本田 祐次\n2007年7月アシストに中途入社し一貫してJP1の顧客サポートを担当。「JP1サポート技術者ブログ」の編集リーダー。「JP1認定シニアコンサルタント」の資格保有者。このブログでは、知って便利な情報を紹介したいと思います。\n休みの日は、家族の食事を毎食作り、子どもと一緒に遊んでいます。\n最近はホットヨガにはまってます。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201905_jp1_im_filter.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/IM2】フィルターや自動アクションを設定する時の便利機能\nContent:\n統合管理\n2019.05.29\n【JP1/IM2】フィルターや自動アクションを設定する時の便利機能\nJP1/IM2 - ViewでJP1イベントを参照する際、「このイベントはフィルタリングしたい」と思ったり、「このイベントを自動アクションの対象にしたい」と思ったりすることがありますよね。\nそんな時、対象のJP1イベントの条件を自動で入力できる機能をご存知でしょうか？\nこの機能を使えば、「設定する条件のメッセージが間違っていた！」などのミスも防げますし、条件をコピー＆ペーストする手間も省けます。\n設定方法(共通除外条件の場合)\nこの機能は、どの設定を行う場合でも、対象のJP1イベントを選択した状態で作業を行います。\n共通除外条件の場合の設定方法をご説明します。\n1.除外対象のJP1イベントを選択した状態で、共通除外条件の設定画面を開きます。\n2.[選択イベント条件入力]を押下します。\n3.選択したJP1イベントの条件がすべて入力されました。\n4.\n不要な条件のチェックを外し、必要に応じて条件も編集\nしてください。\n5.[OK]にて設定を反映させてください。\nその他の設定箇所\n共通除外条件以外でも、上記機能は利用可能です。\nそれぞれ設定箇所は以下のとおりです。\n自動アクション\nイベント取得フィルター\nユーザーフィルター\n表示フィルター\n重要イベント定義\n繰り返しイベント条件\n重大度変更定義\n表示メッセージ変更定義\n自動アクションの場合\n※クリックして拡大\nイベント取得フィルターの場合\n※クリックして拡大\nユーザーフィルターの場合\n※クリックして拡大\n表示フィルターの場合\n※クリックして拡大\n重要イベント定義の場合\n※クリックして拡大\n繰り返しイベント条件の場合\n※クリックして拡大\n重大度変更定義の場合\n※クリックして拡大\n表示メッセージ変更定義の場合\n※クリックして拡大\n注意事項\n本機能では、選択したJP1イベントの\nすべての条件\nが自動入力されます。\nそのため、指定する条件として\nふさわしくないもの\nが含まれている場合があります。\n例えば、ログファイル監視のメッセージ内容に日時が含まれている場合、日時を含んだ条件を指定しまうと、条件に合致するものがなくなってしまいます。\nまた、メッセージの文字列だけで条件を指定したいのに、発生元ホスト名も条件に指定してしまうと、選択したJP1イベントが発生したホストしか条件に合致しません。\n設定する条件はよく吟味した上でご利用ください。\nブログ執筆者からひとこと\n令和になり、平成6年生まれのJP1も元号を跨ぎました。\nIT業界に勤めていると普段はあまり意識しない元号ですが、今回はおめでたい日として5月1日を迎えた方も多いのではないでしょうか。\nJP1と同じく平成生まれの私はというと、いつもと変わらぬ5月1日を迎えましたが、やはりはじめての元号改正がこのようなおめでたいこととして迎えられたことを嬉しく思っておりました。\n令和も、JP1とJP1技術者ブログをよろしくお願いいたします。\n製品正式名称／略称標記 および機能対象バージョン\nJP1/Integrated Management-Manager ：JP1/IM\nJP1/Integrated Management-Manager2 ：JP1/IM2\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n栗山 綾美\n2012年、株式会社アシスト入社。セキュリティ製品を担当後、2013年より\nJP1の顧客サポートを担当。「JP1認定シニアコンサルタント」の資格保有者。\nサポートの経験を活かしたブログを目指します。\n趣味は、夢と魔法の国(と、冒険とイマジネーションの海)に行くこと。\n関連している記事\n統合管理\n2023.05.16\n【JP1/IM】JP1初心者向け！ログファイル監視の設定方法を解説（後編）\n定期的なサーバ再起動やメンテナンス時に、不要な通報通知を抑止する方法をご紹介します。\n統合管理\n2023.05.09\n【JP1/Base】JP1初心者向け！ログファイル監視の設定方法を解説（前編）\n定期的なサーバ再起動やメンテナンス時に、不要な通報通知を抑止する方法をご紹介します。\n統合管理\n2021.10.28\n【JP1/TELstaff】JP1イベントを素早く確認！JP1/TELstaffで簡単にチャットツールと連携\nJP1/TELstaff は電話やパトランプ、メール通知を柔軟に設定出来るソフトウェアですが、V12より、LINE WORKSおよびSlackへの通知が正式にサポートされました。ここでは具体的な設定手順についてご紹介します\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201906_jp1_itdm_patch.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/ITDM2】Version 12新機能 -更新プログラムの管理に関する2つの追加機能-\nContent:\n資産管理\n2019.06.27\n【JP1/ITDM2】Version 12新機能 -更新プログラムの管理に関する2つの追加機能-\nWindows Server Update Services（WSUS）などを用いて管理することが多い Windows の更新プログラムですが、JP1/ITDM2でも更新プログラムの適用状況の管理や、エージェントPCへの配布・適用が可能です。\nJP1 Version 11 以前では、公開直後の更新プログラムをJP1が正常に判断できず、新しい更新プログラムを適用したエージェントPCを「危険」と判定していました。\nJP1 Version 12 では、そのような更新プログラムを「最新の更新プログラム」と認識することで、正しくセキュリティレベルを判定できるようになりました。また、更新プログラム適用に猶予期間を設けることで、企業ポリシーに準じた柔軟なセキュリティ判定が可能になりました。\n更新プログラムの管理に関する2つの追加機能が実装された背景\nJP1がエージェントPCのセキュリティ判定を「危険」とした場合、PCに何かしらの問題がある可能性が高いため、管理者は状況を確認しなければなりません。JP1 では、「危険」判定となったPCをネットワークから排除する機能も実装されているため、状況によっては業務に影響が出てしまう恐れもあります。最新の更新プログラムが適用されているにも関わらず「危険」と判定されてしまうのは、JP1側の判定基準である「更新プログラム一覧情報」に、最新の更新プログラムが含まれるまで、約1週間のタイムラグがあるためです。\nこういった影響があるため、最新の累積更新プログラムを適用したくてもできない状況でした。JP1 Version 12 では、最新の累積更新プログラムを即時適用しても、業務影響を出さずに、セキュリティレベルを高められます。そこで今回は、JP1 Version 12 で追加された「未知の更新プログラムのセキュリティ判定」機能と「猶予期間を考慮した更新プログラムのセキュリティ判定」機能をご紹介します。\n未知の更新プログラムのセキュリティ判定機能とは\nJP1が判定できない未知の更新プログラムを、最新の更新プログラムとして認識する機能です。\n未知の累積更新プログラムが管理対象のエージェントPCに適用されている場合、最新の累積更新プログラムであると判断し、JP1/ITDM2が保持している「更新プログラム一覧情報」が更新されるまでの間、「安全」と判定します。\n猶予期間を考慮した更新プログラムのセキュリティ判定機能とは\nMicrosoft社が更新プログラムを公開してから、エージェントPCに適用するまでに猶予期間を設ける機能です。これにより、企業のポリシーに応じた柔軟なセキュリティ管理を行うことができます。更新プログラムを管理する際の課題の1つとして、ユーザーが自分のPCに更新プログラムを適用するまでに時間がかかり、セキュリティ判定に引っかかってしまう点があります。本機能を用いて適用までの猶予期間を設けることで、Microsoft社の更新プログラム公開後、猶予期間中はエージェントPCに更新プログラムが適用されていなくても、ネットワークから排除されるといった業務影響を出さずに、PCを利用することができます。\n例：45日間の猶予期間を設けた場合、更新プログラムが公開されてから1ヶ月以上経過し、前月に公開されたロールアップ更新プログラムのみが適用された状態でも、安全判定とすることができます。\n※Microsoft社から毎月第２水曜日に累積更新プログラムが公開されます。\n設定手順\n未知の更新プログラムのセキュリティ判定機能\n1. [設定]-[設定 - メニュー]-[セキュリティ管理]-[更新プログラムのセキュリティ判定の設定]を選択\n2. [未対応のマンスリー品質ロールアップと累積更新プログラムもセキュリティ判定の対象とする]にチェック\n3. [適用]ボタンをクリック\n上記設定を行うことで、未知のロールアップ更新プログラムがエージェントPCに適用されていた場合、次回セキュリティ判定のタイミングで、最新の累積更新プログラムであると判定します。\nクリックして拡大\n猶予期間を考慮した更新プログラムのセキュリティ判定機能\n1. [更新プログラムのセキュリティ状態の判定の猶予期間を設定する]にチェック\n2. [適用]ボタンをクリック\n上記設定を行うことで、猶予期間の設定が可能です。\nクリックして拡大\nブログ執筆者からひとこと\nこんにちは。アシストサポートセンターの引間です。\nJP1 Version 12 新機能の「未知の更新プログラムのセキュリティ判定機能」と「猶予期間を考慮した更新プログラムのセキュリティ判定機能」をご紹介しました。JP1 Version 11までは、リリースされたばかりの更新プログラムを適用しますと、危険判定となるため管理者様のご負担になっていましたが、今回の機能で最新の更新プログラムとして認識されます。簡単に設定いただけますので是非ご活用ください。\nアシストサポートセンターでは先日、「レジェンド」と呼ばれるサポートエンジニアが、「お客様を感動させるためのこだわり」 をぶつけ合うプレゼン大会を開催しました。出場者に共通して言えたのは「お客様視点」です。いかにお客様に寄り添えるかが重要なポイントとなっておりました。私も現役でサポート対応をしておりますが、レジェント達のこだわりは、非常に勉強になります。\n私もいつかレジェンドの一人になりたいです。\n製品正式名称／略称標記 および機能対象バージョン\nJP1/IT Desktop Management 2 - Manager ：JP1/ITDM2　Version 12\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n引間 康将\n2013年、株式会社アシスト入社。Oracle製品を担当後、2015年よりJP1の顧客サポートを担当。「超サポとは感情に働きかけるサポート」を信念にお客様にご満足いただけるサポートを提供できるよう、奮闘中。\n趣味は、バイクツーリングと筋トレ。\n関連している記事\n資産管理\n2022.09.09\n【JP1/ITDM2】情報漏洩の徹底防止！USBデバイスの制御機能を使いこなそう！\n2022年6月、市民46万人分の個人情報が入ったUSBメモリが、一時所在不明となりニュースになりました。そこで今回は改めて、JP1/ITDM2のデバイス制御機能の概要や利用方法をご紹介します。\n資産管理\n2021.06.28\n【JP1/ITDM2】MacもWindowsもJP1でまとめて資産管理！\nJP1/ITDM2は、Mac版エージェントを利用することでMacOSの資産管理が可能です。本ブログではMac版エージェントを利用するための事前準備や手順を解説します。\n資産管理\n2021.03.22\n【JP1/ITDM2】JP1 V12.5新機能のご案内『資産管理製品編』\n2021年1月21日にリリースされたJP1の新バージョン「Version 12.5」の新機能の中から、資産管理製品の新機能を厳選してご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201907_jp1_ajs3_stay.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup][Design]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】起動条件付きジョブネットの滞留を解消する3つの方法\nContent:\nジョブ管理\n2019.07.29\n【JP1/AJS3】起動条件付きジョブネットの滞留を解消する3つの方法\nJP1/AJS3には、ある条件が成立した場合に処理を実行させるため、ジョブネットに「起動条件」を設定する機能があります。起動条件の機能は便利ですが、条件の成立回数や時間を見極めて指定しないと、条件が大量に成立して実行しきれなくなったり、成立せずに条件待ちのまま滞留してしまいます。その場合、ジョブの実行遅延が発生してしまう恐れがあります。\n本記事では、起動条件付きジョブネットの滞留を解消する方法をご案内します。\nトラブルシュートセミナーのご紹介\n起動条件付きジョブネットが滞留する仕組み\nまず、仕組みについて説明します。起動条件付きジョブネットの滞留は、以下の図のようにルートジョブネットの「スケジュールルール」で「起動条件の有効範囲」を「無制限」にしていたり、処理時間より短いサイクルで起動条件が成立されるように設定すると発生します。「起動条件の有効範囲」を「無制限」にするといつまでも起動条件が終了せずに滞留してしまうため、不必要に設定しないようにしてください。\n起動条件付きジョブネットが滞留するパターンは、以下の2つです。\n1. 「\n起動条件待ち\n」のステータスが大量に発生する\n※起動条件により動作するジョブが、起動条件成立より時間がかかる\n2. 「\n監視中\n」のステータスが毎日発生する\n※ 起動条件が成立せず、毎日滞留する\n滞留すると以下の図のように、未実行のジョブネットが大量に残ってしまいます。\n起動条件を滞留させない設定\nそもそも、起動条件を滞留させない設定もあります。以下の画面の様に、起動条件のプロパティ画面にて「起動条件成立した実行世代の滞留」の設定を「繰り越して滞留させない」にしてください。\nこの設定により、\nジョブが実行されている間に成立した起動条件を「繰り越し未実行」にする\n事ができます。ただ、「繰り越し未実行」になるため、\n条件が成立してもジョブは実行されません\n。\nなお、繰り越し未実行になった場合、JP1/IMと連携している場合、以下のメッセージが出力されます。\nKAVS0279-E ジョブネット(AJSROOT1:/ルートジョブネット名)が繰り越し未実行になりました\n起動条件付きジョブネットの滞留を解消する方法\n以下3つのいずれかの方法で、起動条件付きジョブネットの滞留は解消できます。ただ、作業工数や他のジョブネットへの影響を考慮し、「2」の方法をお勧めします。\n1. 手動で、ジョブネットを実行中止または強制終了する\n2. コマンドで、ジョブネットを実行中止または強制終了する\n3. JP1/AJS3 - Managerをコールドスタートで開始させる\n1. 手動でジョブネットを実行中止または強制終了する\nJP1/AJS3 - Viewより該当ジョブネットのマンスリースケジュールを開き、「起動条件待ち」の場合は「実行中止」、「監視中」の場合は「強制終了」してください。\nクリックして拡大\nクリックして拡大\n2. コマンドでジョブネットを実行中止または強制終了する\n大量の「起動条件待ち」ステータスのジョブネットをコマンドで「実行中止」する方法\n「ajsplan -p -B 実行登録番号」で実行中止ができます。実行登録番号はコマンドで確認できます。滞留している起動条件付きジョブネットの実行登録番号を確認し、for文で実行中止をする方法を紹介します。\n●\n実行手順\n(1)以下のコマンドを実行し、ジョブネットの実行登録番号を出力する\n●Windowsの場合\n> ajsshow -F AJSROOT1 -g a -f \"%J,%C,%D,%l\" -RET /ルートジョブネット名 |findstr \"起動条件待ち\"\n●UNIX系の場合\n# /opt/jp1ajs2/bin/ajsshow -F AJSROOT1 -g a -f \"%J,%C,%D,%l\" -RET /ルートジョブネット名 |grep \"起動条件待ち\"\n●出力結果\n以下は「/ルートジョブネット名」に「/起動条件成立_滞留」を入れた場合の結果です。\n/起動条件成立_滞留,起動条件待ち,2019/06/07 9:00,\n20190607003\n/起動条件成立_滞留,起動条件待ち,2019/06/07 9:00,\n20190607002\n/起動条件成立_滞留,起動条件待ち,2019/06/06 9:00,\n20190606004\n/起動条件成立_滞留,起動条件待ち,2019/06/06 9:00,\n20190606003\n※\n赤色\nの箇所が「実行登録番号」です。csvファイルとして出力してExcelで開くと簡単に編集できます。\n(2)実行登録番号のリストを作る\n※「C:\\temp\\kanshi_list.txt」(任意ファイル)に記載します。\n(UNIX系の場合は「/tmp/kanshi_list.txt」とします。)\n20190607003\n20190607002\n20190606004\n20190606003\n※\n青色\nで記載した、一番新しい実行登録番号をajsplanで指定し「実行中止」する場合、ジョブネットが実行中のため、コマンドが失敗した旨の以下メッセージが出力されます。エラーを出したくない場合は、最初の実行登録番号は削除してください。\nKAVS0110-E ジョブネット(/起動条件成立_滞留)は実行中です\n(3)以下のコマンドを実行して「起動条件待ち」のジョブネットを「実行中止」にする\n●Windowsの場合\n> for /F \"tokens=*\" %i in (C:\\temp\\kanshi_list.txt) do ajsplan -p -B %i /ルートジョブネット名 & ping -n 2 localhost\n●UNIX系の場合\n# cat /tmp/kanshi_list.txt | while read line; do /opt/jp1ajs2/bin/ajsplan -p -B $line /ルートジョブネット名 & sleep 2; done\n※ajsplanコマンドは、連続実行すると運用に影響が出る可能性があるため、「ping -n 2 localhost」や「sleep 2」などを加えて2秒程度の間隔をあけることを推奨しています。\n大量に「監視中」になっているジョブネットをコマンドで「強制終了」させる方法\n「ajskill -B 実行登録番号」で強制終了ができます。前述の実行登録番号の確認コマンドで、出力条件を「起動条件待ち」から「監視中」に変更します。\n●\n実行手順\n(1)以下のコマンドを実行し、ジョブネットの実行登録番号を出力する\n●Windowsの場合\n> ajsshow -F AJSROOT1 -g a -f \"%J,%C,%D,%l\" -RET /ルートジョブネット名 |findstr \"監視中\"\n●UNIX系の場合\n# /opt/jp1ajs2/bin/ajsshow -F AJSROOT1 -g a -f \"%J,%C,%D,%l\" -RET /ルートジョブネット名 |grep \"監視中\"\n●出力結果\n以下は「/ルートジョブネット名」に「/起動条件成立しない_滞留」入れた場合の結果です。\n/起動条件成立しない_滞留,監視中,2019/06/07 9:00,\n20190607001\n/起動条件成立しない_滞留,監視中,2019/06/06 9:00,\n20190606001\n/起動条件成立しない_滞留,監視中,2019/06/05 9:00,\n20190605001\n/起動条件成立しない_滞留,監視中,2019/06/04 9:00,\n20190604001\n※\n赤色\nの箇所が「実行登録番号」です。csvファイルとして出力しExcelにて開くと簡単に編集できます。\n(2)実行登録番号のリストを作る\n※「C:\\temp\\kanshi_list.txt」(任意ファイル)に記載します。\n(UNIX系の場合は「/tmp/kanshi_list.txt」とします。)\n20190607001\n20190606001\n20190605001\n20190604001\n(3)以下のコマンドを実行して「監視中」のジョブネットを「強制終了」する\n●Windowsの場合\n> for /F \"tokens=*\" %i in (C:\\temp\\kanshi_list.txt) do ajskill -B %i /ルートジョブネット名 & ping -n 2 localhost\n●UNIX系の場合\n# cat /tmp/kanshi_list.txt | while read line; do /opt/jp1ajs2/bin/ajskill -B $line /ルートジョブネット名 & sleep 2; done\nJP1/IMと連携している場合、「監視中」のジョブネットを「強制終了」すると、Informationレベルで出力されます。\nKAVS0241-I ジョブネット(AJSROOT1:/起動条件成立しない_滞留:@XXXXX)の起動条件監視が終了しました(status: c)\n(4)「実行中」になっているジョブネットは、判断の上、手動で強制終了\n【マニュアル】\n『JP1 Version 11　JP1/Automatic Job Management System 3 設計ガイド（システム構築編）』\n1.3.1　JP1/AJS3を運用する上で見積もりや設定が必要な項目\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213B1320/AJSH0009.HTM\n3. JP1/AJS3 - Managerをコールドスタートで開始させる\n以下手順でJP1/AJS3サービスをコールドスタートしてください。\n※コールドスタートをすると、すべてのルートジョブネットで実行登録が解除された状態で起動してきます。\nご注意ください。\n●\n実行手順\n●Windowsの場合\n1. JP1/AJS3のサービスを停止\n2. JP1/AJS3のサービス画面を開く\n3. 開始パラメーターに「-cold」を入れる\n4. 開始ボタンを選択\n以下画面を参考に実施してください。\n●UNIX系の場合\n以下のコマンドを実行してください。\n# /opt/jp1ajs2/bin/jajs_spmd -cold\n※論理ホストの場合、「-h 論理ホスト名」を追加して実行してください。\nブログ執筆者からひとこと\nこんにちは。アシストサポートセンターの本田です。\n今回は、起動条件の滞留について紹介させて頂きました。起動条件を「無制限」にして実行させる場合は、起動条件が滞留しないように設計した上で実行して頂ければ幸いです。\nまた、対処方法として、コールドスタートがありますが、他のルートジョブネットにも影響してしまいます。かといって、一つずつ手動で「実行中止」や「強制終了」するのもかなり大変です。そこで、コマンドを利用して簡単にできないか考えて、今回のブログを作成するに至りました。\n2～3秒空けて連続実行すると運用に影響がでるコマンドを利用するため、pingで2秒待たせる処理を入れたりして工夫しました。JP1で大量に起動条件が滞留する事象が発生しましたら、是非、使ってみてください。\n製品正式名称／略称標記 および機能対象バージョン\nJP1/Automatic Job Management System 3 - Manager ／ JP1/AJS3 - Manager Version 9.0 以降\nJP1/Automatic Job Management System 3 - View ／ JP1/AJS3 - View Version 9.0 以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n本田 祐次\n2007年7月アシストに中途入社し一貫してJP1の顧客サポートを担当。「JP1サポート技術者ブログ」の編集リーダー。「JP1認定シニアコンサルタント」の資格保有者。このブログでは、知って便利な情報を紹介したいと思います。\n休みの日は、家族の食事を毎食作り、子どもと一緒に遊んでいます。\n最近はホットヨガにはまってます。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201908_jp1_ao_user.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AO】一時利用OSユーザーを、利用期間終了後にJP1/AOで自動削除する方法\nContent:\nIT運用自動化\n2019.08.30\n【JP1/AO】一時利用OSユーザーを、利用期間終了後にJP1/AOで自動削除する方法\n【JP1/AO】一時利用OSユーザーを、利用期間終了後にJP1/AOで自動削除する方法\nJP1を利用するにあたり、一時的にOSユーザーやJP1ユーザーを作成し、担当者に割り当てるケースがあります。その際に、一定期間利用した後に削除する社内ルールがあったとしても、日々の業務に追われて失念し、恒久的に利用できる状態のまま放置されてしまうという話をよく耳にします。管理されていないユーザーの放置は、セキュリティリスクになり得ます。\nそこで今回は、「JP1/Automatic Operation(以下JP1/AO)」を利用して、OSユーザーを一定期間経過後に自動で削除する手順をご紹介します。\nJP1/AOとは\nJP1/AOは、「運用オペレーション」の自動化を補助する製品です。日々の運用オペレーションの自動化は、運用手順の標準化や運用品質の確保に繋がります。また、利用期限が切れたユーザーの放置などによる、セキュリティリスクも軽減します。\nまた、JP1/AOには、OSユーザーやJP1ユーザーの作成・削除、仮想サーバの作成・削除、JP1/AJS3のジョブネット実行などを行うための部品が予め用意されていますので、比較的頻度の高い運用オペレーションを容易に自動化することができます。\nなお、JP1/AOでは、一連の自動化の運用手順の流れを「フロー」、ユーザー追加、ユーザー削除といった処理の最小単位を「部品」、「部品」ごとに実際の設定値を入力した「フロー」を「サービス」と呼んでいます。\nOSユーザーを作成し、一定期間経過後に自動削除する方法\n処理のフローを作成する\n「OSユーザーを作成し、30日後に自動で削除する」処理のフローをご説明します。処理のフローの組み方は複数考えられますが、今回は設定値の入力や実行などの手間が一番少ない、アシスト推奨の方法をご紹介します。\n利用する部品と役割は下記の通りです。\n・「日時取得」→現在の日時を取得\n・「日時計算」→日時取得で取得した日から30日後の値を計算\n・「OSユーザーの追加」→OSユーザーを追加\n・「汎用コマンド実行部品」→submittaskコマンド※を使用し、日時計算で算出した日時にOSユーザーを削除するサービスを実行\n※後ほど詳細をご説明します\nそれぞれの部品に必要な値を入力し、JP1/AJS3のように関連線で接続しサービス化します。\nsubmittask コマンドによるサービス実行\nsubmittaskコマンドの引数の設定により、指定した日時に、指定したサービスを実行することができます。\n前述の「汎用コマンド実行部品」にてsubmittask コマンドを使用し、指定した日時にOSユーザーを削除するサービスを実行します。\n■submittask コマンドの引数について\n＜必須引数＞\n・/servicename　サービス名\n・/user ユーザ名\n・/password パスワード\n＜プロパティに対する引数＞\n・/property プロパティキー　プロパティ値\n＜実行日時を指定する引数＞\n・ /scheduledate YYYY-MM-DD\n・ /scheduletime hh:mm\n上記引数を指定することでサービスを実行する日時を指定します。\nこれらは両方指定する必要があります。\n■\n日時計算で算出した値を基に、OSユーザーを削除する場合の指定例\n◎コマンドライン\n\"C:\\Program Files\\Hitachi\\JP1AO\\bin\\submittask.exe\"\n◎パラメータ\n/servicename\nOSユーザの削除\n/user system /password manager\n/property inUser\n{ユーザ名} /property inHost {ホスト名}\n/scheduledate\n{日時計算：計算結果}\n/schduletime 23:59\n※ {ユーザ名}、{ホスト名}：\n「OSユーザー作成」「OSユーザーの作成」サービスに定義した入力プロパティを指定しています。\n{日時計算：計算結果}：\n「日時計算」部品の計算結果がマッピングされています。\n[補足]\nsubmittaskコマンドで引数「/property」を指定する際の注意事項\nサービス実行時にプロパティの値を指定する場合は、プロパティの可視性の設定が\n「サービス作成とサービス実行」に指定されている必要があります。\nフローを作成する際、[Service Builder Edit]画面の[プロパティ]タブにて、\n対象プロパティの「サービス作成とサービス実行」に可視性の設定をしてください。\nまとめ\n上記のように、一時利用ユーザーの削除といった運用オペレーションを自動化することで、より安全な運用環境を保つことができます。\n今回、分かり易くご説明するためにシンプルなフローを例にしていますが、「繰り返し実行部品」「CSV・Excel の列データ取得」「CSV・Excel の行データ取得」部品を使用することで、複数のOSユーザーを一度に作成し、それを削除することが可能です。\nまた、上述のとおり、「汎用コマンド実行部品」でsubmittaskコマンドを使用し別のサービスを呼び出すことで、例えば処理結果をメールで通知するといった汎用的な運用手順をサブフロー化することもできます。複数のサービスから汎用的な処理を実行させたい場合は、この方法の活用をご検討ください。\n製品正式名称／略称表記　および機能対応バージョン\nJP1/Automatic Operation／JP1/AO　Version10.0以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n井上 勉孝\n1991年、株式会社アシスト入社。メインフレームのパフォーマンス管理製品から始まり、主に運用系製品を担当し、2017年からJP1の顧客サポートを担当。自動化製品の便利な利用方法を紹介できればと思っています。\n趣味は、ソフトバレーボールとストレッチ。\n関連している記事\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201909_jp1_pfm_report.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/PFM】パフォーマンス低下をいち早くキャッチ！JP1/IMとの連携で監視を一元管理\nContent:\nパフォーマンス管理\n2019.09.30\n【JP1/PFM】パフォーマンス低下をいち早くキャッチ！JP1/IMとの連携で監視を一元管理\nJP1/PFMでは、アラーム機能を利用して、監視中のパフォーマンスデータがしきい値に達したときに、管理者に問題が発生したことを知らせることができます。通知手段の一つとして、JP1イベントの発行があります。発行されたJP1イベントをJP1/IMに通知することで、JP1/PFMにログインせずに、パフォーマンスデータの詳細レポートを確認することができます。また、JP1/PFMが検知した事象をJP1/IMで管理するため、監視環境の一元管理が実現できます。\nそこで本記事では、JP1イベントの発行を利用したJP1/IMとの連携方法をご紹介します。\nJP1/IMと連携したJP1/PFMによる稼働監視の例\nJP1/PFMでは、監視対象のパフォーマンスデータがしきい値に達したときの動作を「アラーム」に定義します。また、パフォーマンスデータがしきい値に達した場合、「アラームイベント」を発行して通知します。\nアラームイベントの発行を契機にJP1/PFM - Managerが実行する動作を「アクション」と呼びます。この「アクション」にJP1イベントを発行する設定をすることで、JP1/IM - Viewからアラームイベントの内容ならびにレポートを確認できます。\n[モニター起動]を押下することで下図のようにJP1/PFMのレポートをWebブラウザから参照できます。\n【参考】JP1/PFMのCPU使用状況グラフ\nアラームによる稼働監視\nWebブラウザ上のアラーム階層画面より、GUIにて簡単にアラーム条件やアクションを設定できます。\nJP1イベントを発行する仕組み\nJP1イベントを発行するコマンドといえば、JP1/Baseの「jevsend」コマンドを思い出される方もいらっしゃるかと思いますが、JP1/PFMの場合は「jpcimevt」コマンドを内部で実行することでJP1イベントを発行します。\nJP1イベントの発行は、設定変更などの必要がないため、お客様の運用に合わせてJP1イベントをGUIで簡単にカスタマイズできます。\n※アラームのアクションとしてJP1イベントを発行するホストにJP1/Baseがインストールされ、JP1/Base Event（イベントサービス）を起動しておく必要があります。\nアラーム階層画面でのアラームの設定\nここでは、JP1/PFMにデフォルトで用意されているアラームテーブル「PFM Windows Template Alarms [CPU] 」のうち、アラーム「CPU Usage」（CPU使用率）を利用します。下記の条件でJP1イベントを発行する設定手順をご案内します。\n・監視するパフォーマンスデータ・・CPU使用率\n・異常しきい値・・90％\n・警告しきい値・・80%\n・アクション・・JP1イベント発行\n・イベントID・・100\n・メッセージ・・「CPU使用率がしきい値を超えています。CPU使用率：〇％」\n・イベントを発行するホスト・・”ホスト名”\n・JP1/IMから表示するレポート名・・CPU Usage - Top 10 Processes\nなお、アラームテンプレートは直接編集できないため、アラームテーブルごとコピーして使用します。コピーしたアラームテーブルは「User Alarms」配下に表示されます。\n●\nコピー手順\n「Template Alarms 」＞ 「Windows」＞「PFM Windows Template Alarms [CPU] 9.0」を選択し、メソッドフレームの[コピー]を押下します。\n●\nアラームの編集\n「User Alarms」のアラームテーブルからアラーム「CPU Usage」を展開し、メソッドフレーム[編集]を押下します。\n​​●全般\nアラームメッセージテキスト：CPU使用率がしきい値を超えています。CPU使用率：%CVS%\n※ここで指定した内容がJP1/IMのメッセージに通知されます。\n●高度な設定\n・アラームを有効にする(チェック)\n・すべてのデータを評価する(チェック)\n監視時刻範囲：任意の開始・終了時刻を設定して下さい。\n発生頻度：任意の発生頻度を指定して下さい。\n(例：1回しきい値超過／1インターバル中)\n●アラーム条件式\nレコード　：System Overview (PI)\nフィールド：CPU %\n異常値：90\n警告値：80\n※小数を指定可能です。\n●アクション\n・実行するアクション\nコマンド(チェック)\n※このときコマンドにチェックを入れないと、次の画面にてコマンドの定義ができません。\n忘れずチェックを入れてください。\n・表示するレポート\nCPU Usage - Top 10 Processes\n※ここで指定するレポートが、JP1/IM - View から参照できるようになります。\n●コマンドの定義\n[JP1イベント設定]を押下し、イベントID(任意)を設定後OKを押下します。\n・イベントID：100\n・コマンド名：../../tools/jpcimevt\n・アクションハンドラ:”ホスト名”<Action Handler>\n指定できるホストは(実行ホスト名＋”<Action Handler>”，”LOCAL”(アラーム監視ホストで実行)，または”Manager”(PFM - Managerホストで実行)) の3種類です。\n※コマンド引数には以下のような設定が行われます。\nコマンド引数:\n-i 100 -m \"%MTS\" -s %SCS -e PRODUCT_NAME=/PFM/ALARM_EVENT\n-e OBJECT_TYPE=ALARM\n-e \"OBJECT_NAME=%AIS\" -e ROOT_OBJECT_TYPE=ALARM_TABLE\n-e \"ROOT_OBJECT_NAME=%ATS\"\n-e \"OBJECT_ID=%ANS\" -e OCCURRENCE=NOTICE -e \"JPC_AGENT=%HNS\"\n-e \"JPC_TIME=%SCT\"\n-e \"JPC_MGR=ホスト名\" -e \"JPC_REPORTID=\"\n補足）\n%CVS[n]は、アラーム通知の対象となった（条件式を満たした）測定値をJP1イベントのメッセージに表示させることが可能な変数です。\n[n]は、［新規アラーム > アラーム条件式］または［編集 > アラーム条件式］画面で、条件式を複数指定した場合のフィールドの位置を、1以上の数値で指定します。\n(例：先頭フィールドは1を指定します。)\n【マニュアル】\n『JP1 Version 12　JP1/Performance Management 運用ガイド』\n6.アラームによる稼働監視\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D7700/PCOP0156.HTM\nブログ執筆者からひとこと\nこんにちは。JP1サポートセンターの木原です。\n今月も最後まで目を通してくださりありがとうございます。\n今回はJP1/PFMとJP1/IMの連携についてご紹介しました。\nアラーム定義のアクションからJP1イベントを発行できることをご存知の方は多くいらっしゃるかと思いますが、JP1/IM - ViewからJP1/PFMのレポートが参照できるのは便利ですね。\n参照するレポートは自由に作成できますし、JP1/PFMのいいところはユーザーがカスタマイズできる範囲が広いことだと思います。\nこれからも奥が深いJP1/PFMを簡単・便利に活用する方法をご紹介していきます。\n製品正式名称／略称標記 および機能対象バージョン\nJP1/Performance Management／JP1/PFM　Version9以降\nJP1/Integrated Management／JP1/IM　Version9以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n木原 桜子\n株式会社アシスト北海道の新卒2期生。\nアシストサポートセンターの1拠点として、札幌から全国のJP1ユーザーの皆様にお役に立てるようなブログを作成していきます。\n関連している記事\nパフォーマンス管理\n2024.04.25\n【JP1/PFM】 エージェントレス管理の落とし穴　よく発生するエラー その原因と解決策5選\nエージェントレス型製品であるJP1/PFM-RMでの発生しがちなエラーとその解決策について、ご紹介します。\nパフォーマンス管理\n2020.09.28\n【JP1/PFM】ツール自体は大丈夫？ 予期せぬ監視停止などのトラブルを防ぐ、「JP1/PFM」のヘルスチェック！\n予期せぬ監視の停止などを防ぐため、JP1自身の健康状態の管理「ヘルスチェック」を行い、JP1自体の不調を素早く検知する方法をご紹介します。\nジョブ管理\n統合管理\nパフォーマンス管理\nネットワーク管理\n資産管理\n2019.02.07\n【JP1】Version 12の新機能一覧\n2019年1月22日、統合システム運用管理製品「JP1」から3年ぶりとなるメジャーバージョン「Version 12」がリリースされました。新製品に実装された機能を紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201910_jp1_nnmi_stop.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/NNMi、JP1/SSO】メンテナンス時の死活・リソース・プロセス監視の一時停止手順\nContent:\nネットワーク管理\n2019.10.28\n【JP1/NNMi、JP1/SSO】メンテナンス時の死活・リソース・プロセス監視の一時停止手順\n日々の運用では、OS再起動などのメンテナンスに伴い、一時的に死活監視やプロセス監視を停止しなければならないことがあります。想定されたメンテナンスであるにも関わらず、監視を停止せずにエラーが大量に出力されると、対処すべき重要なエラーを見落とす可能性もあります。\nしかし、停止したい監視内容によって設定箇所が異なるため、どこで何の監視を停止すべきかが把握できていないケースがあります。\nそこで本記事では、死活監視、リソース監視、プロセス（サービス）監視の一時的な監視の停止方法を整理してご紹介します。\n死活監視、SNMPトラップ監視（JP1/NNMi）\n死活監視およびSNMPトラップ監視を停止したい場合は、JP1/NNMiのマップ画面で対象ノードの「管理モード」を変更します。\n管理モードを「非管理対象」とすることで、ノードが停止したり、SNMPトラップを受信しても、インシデントが上がらなくなります。\nメンテナンス終了後は、管理モードを「管理対象」にするだけで監視が再開されます。\nGUIで操作する場合\n対象ノードを右クリック→[管理モード]→[非管理対象]にしてください。監視を再開する場合は[管理]にしてください。\nコマンドで操作する場合\nJP1/NNMi導入ホストにて以下のコマンドを実行してください。\n・Windowsの場合\n> nnmmanagementmode.ovpl -node.name 非監視対象ホスト名 -mode NOTMANAGED -u NNMiユーザー名 -p NNMiユーザーパスワード\n・UNIXの場合\n# /opt/OV/bin/nnmmanagementmode.ovpl -node.name 非監視対象ホスト名 -mode NOTMANAGED -u NNMiユーザー名 -p NNMiユーザーパスワード\n※管理モードを「非管理対象」とする場合は「-mode NOTMANAGED」、「管理対象」とする場合は「-mode MANAGED」を指定します。\n複数のノードの管理モードをまとめて変更したい場合は、CSVファイルを利用します。\nCSVファイルには、「ノード名,管理モード」の形式で記載します。\nファイル記載例\nnode1,MANAGED\nnode2,NOTMANAGED\n上記CSVファイルを利用する場合のコマンドは以下のとおりです。\n・Windowsの場合\n> nnmmanagementmode.ovpl -t node -f CSVファイル名 -u NNMiユーザー名 -p NNMiユーザーパスワード\n・UNIXの場合\n# /opt/OV/bin/nnmmanagementmode.ovpl -t node -f CSVファイル名 -u NNMiユーザー名 -p NNMiユーザーパスワード\nV11以降であれば、指定した期間だけ自動的に「サービス停止中（非管理モードと同様の状態になるモード）」に変更される「計画停止」という機能が利用できます。\n詳細は下記をご覧ください！\nhttps://www.ashisuto.co.jp/jp1blog/article/202003_jp1_nnmi_stopplan.html\nリソース監視（JP1/SSO）\nリソース監視を停止する場合は、リソース収集を停止します。監視を再開する場合は収集を開始します。\nGUIで操作する場合\nSSOコンソール画面もしくはWindowsスタート画面より「リソース収集条件設定」画面を開き、停止対象のリソースを選択し[アクション]→[収集終了]を選択してください。\n監視を再開する場合は[収集開始]を選択してください。\nコマンドで操作する場合\nJP1/SSO導入ホストにて以下のコマンドを実行してください。\n◎収集終了時\n・Windowsの場合\n> ssocolstop -s 非監視対象ホスト名\n・UNIXの場合\n# /opt/CM2/SSO/bin/ssocolstop -s 非監視対象ホスト名\n◎収集開始時\n・Windowsの場合\n> ssocolstart -s 監視再開対象ホスト名\n・UNIXの場合\n# /opt/CM2/SSO/bin/ssocolstart -s 監視再開対象ホスト名\nプロセス、サービス監視（JP1/SSO）\nプロセス（サービス）監視を停止する場合は、監視アプリケーションの監視モードを「する」から「しない」に変更します。\nGUIで操作する場合\nSSOコンソール画面もしくはWindowsスタート画面より「プロセス監視条件設定」画面を開き、非監視対象サーバを選択後、「監視アプリケーション一覧」の監視モードをすべて「しない」に変更してください。\n監視を再開する場合は、監視対象アプリケーションの監視モードを「する」に変更してください。\n設定変更後は、いずれも[ファイル]→[保存]にて設定を保存してください。\nコマンドで操作する場合\nJP1/SSO導入ホストにて操作します。\n監視停止前に、どのアプリケーションが監視対象なのか（どのアプリケーションが監視「する」となっているか）の情報を、あらかじめコマンドでファイル出力しておくことで、監視再開時の操作がスムーズになります。\n◎監視条件ファイル出力時\n・Windowsの場合\n> ssopsshow -s 非監視対象ホスト名 -p 任意のファイル名\n・UNIXの場合\n# /opt/CM2/SSO/bin/ssopsshow -s 非監視対象ホスト名 -p 任意のファイル名\n◎監視停止時\n・Windowsの場合\n> ssopsstop -s 非監視対象ホスト名\n・UNIXの場合\n# /opt/CM2/SSO/bin/ssopsstop -s 非監視対象ホスト名\n◎監視再開時\n・Windowsの場合\n> ssopsstart -i ssopsshowにて出力したファイル名\n・UNIXの場合\n# /opt/CM2/SSO/bin/ssopsstart -i ssopsshowにて出力したファイル名\nブログ執筆者からひとこと\nこんにちは。アシストサポートセンターの栗山です。\n今回は、監視の一時停止についてご紹介いたしました。この記事の内容は、弊社サポートセンターによくいただくお問い合わせのひとつです。\n定期的に再起動を行う場合は、ご紹介したコマンドをJP1/AJS3からスケジュール実行させることで自動化も可能です。ご要件に合う方はぜひお試しいただければと存じます。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Network Node Manager i (JP1/NNMi) 11-00以降\nJP1/SNMP System Observer (JP1/SSO) 11-00以降\nJP1/Cm2/Network Node Manager i (JP1/Cm2/NNMi) 09-00以降\nJP1/Cm2/SNMP System Observer (JP1/Cm2/SSO) 09-00以降\nJP1/Automatic Job Management System 3 (JP1/AJS3) 09-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n栗山 綾美\n2012年、株式会社アシスト入社。セキュリティ製品を担当後、2013年よりJP1の顧客サポートを担当。「JP1認定シニアコンサルタント」の資格保有者。サポートの経験を活かしたブログを目指します。\n趣味は、夢と魔法の国(と、冒険とイマジネーションの海)に行くこと。\n関連している記事\nネットワーク管理\n2024.02.22\n【JP1/NNMi】入門編！JP1の基本用語を理解しよう！\nJP1/NNMiのヘルプやマニュアルを読む上で理解しておきたい、JP1の基本用語について解説します。\nネットワーク管理\n2023.01.31\n【JP1/SSO】JP1 V12.6新機能 SSOコンソールでユーザリソースを定義するには\nJP1/SNMP System Observer（JP1/SSO） V12.6の新機能で、SSOコンソールに [ユーザリソース定義作成] 画面が追加されました。\nネットワーク管理\n2020.12.22\n【JP1/NNMi】そのアラート重要なの？！JP1/NNMiのヘルスチェック機能が出力する「NNMi稼働状態ステータス」とは\nJP1/NNMiのヘルスチェック機能が出力する「NNMi稼働状態ステータス」メッセージの確認方法をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/201912_jp1_ajs3_agentname.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】検証環境と本番環境で同じ実行エージェント名を使用することで、移行作業にかかる負荷とミスを大幅に軽減！\nContent:\nジョブ管理\n2019.12.23\n【JP1/AJS3】検証環境と本番環境で同じ実行エージェント名を使用することで、移行作業にかかる負荷とミスを大幅に軽減！\nJP1/AJS3では、ジョブの実行先として実行エージェント名という論理的な値を設定します。実行エージェント名と実際にジョブを実行するサーバ名をマッピングすることで、指定のサーバでジョブを実行します。実行エージェント名にはサーバ名を指定することが多いと思いますが、検証環境と本番環境で異なる実行エージェント名を使用している場合、ジョブ定義移行時に毎回変更する必要があり、また入力ミスのリスクもあります。そこで今回は、検証環境と本番環境で同じ実行エージェント名を使用することで、リスクなく移行する方法をご紹介します。\n構成\n今回は以下のように本番環境の「HONBAN-AP」サーバと「HONBAN-DB」サーバを、検証環境の「KENSYO-APDB」サーバが兼任している構成を例に挙げます。検証環境で確認したジョブ定義をそのまま本番環境に移行する運用を想定しています。\n※　定義移行に関しては、\nコチラ\nのブログを是非参照ください。\n設定方法\n実行エージェント名を本番と検証で以下のように同じ名前にし、実際にジョブを実行するサーバ名にそれぞれ紐づけます。\n環境\n実行エージェント名\n実行サーバ名\n検証環境\nHONBAN-AP\nKENSYO-APDB\nHONBAN-DB\nKENSYO-APDB\n本番環境\nHONBAN-AP\nHONBAN-AP\nHONBAN-DB\nHONBAN-DB\n〇検証環境のJP1/AJS3-Managerで実行するコマンド\n【Windowsの場合】\n> ajsagtadd -a HONBAN-AP -s KENSYO-APDB\n> ajsagtadd -a HONBAN-DB -s KENSYO-APDB\n【UNIX系の場合】\n# /opt/jp1ajs2/bin/ajsagtadd -a HONBAN-AP -s KENSYO-APDB\n# /opt/jp1ajs2/bin/ajsagtadd -a HONBAN-DB -s KENSYO-APDB\n〇本番環境のJP1/AJS3-Managerで実行するコマンド\n【Windowsの場合】\n> ajsagtadd -a HONBAN-AP -s HONBAN-AP\n> ajsagtadd -a HONBAN-DB -s HONBAN-DB\n【UNIX系の場合】\n# /opt/jp1ajs2/bin/ajsagtadd -a HONBAN-AP -s HONBAN-AP\n# /opt/jp1ajs2/bin/ajsagtadd -a HONBAN-DB -s HONBAN-DB\n※「KNAC1123-E」のエラーが出力される場合は、\nコチラ\nのブログを確認して対処をしてください。\n上記設定をすることで、下図の動作をします。\n検証環境と本番環境で同じ実行エージェント名を使用する事で、移行時にはジョブ定義の変更をする必要がなくなるため、作業ミスが軽減されます。\nまとめ\n上記の方法はサーバ更改時などでも活用できるため、物理的な作業ミスの軽減に加えて、ミスできない本番環境への移行作業やサーバ更改時における精神的な負荷軽減の一助になれば幸いです。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 (JP1/AJS3) 09-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n本田 祐次\n2007年7月アシストに中途入社し一貫してJP1の顧客サポートを担当。「JP1サポート技術者ブログ」の編集リーダー。「JP1認定シニアコンサルタント」の資格保有者。このブログでは、知って便利な情報を紹介したいと思います。\n休みの日は、家族の食事を毎食作り、子どもと一緒に遊んでいます。\n最近はホットヨガにはまってます。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202001_jp1_ajs3_log.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\nContent:\nジョブ管理\n2020.01.29\n【JP1/AJS3】何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\nジョブが異常終了したが、原因をすぐに特定できなかったため、復旧に時間がかかってしまった。そんな経験ありませんか。JP1には、ジョブの異常終了などの情報をログに出力する機能があります。事象発生時にログからすぐに原因を特定することができれば、いち早く復旧できます。今回はジョブの異常終了時に確認するべき代表的なログと、そのログの見方をご紹介します。\nトラブルシュートセミナーのご紹介\nまずは実行結果詳細のご確認を！\nジョブが異常終了した場合、まずは下記手順で「実行結果詳細」をご覧ください。そこを確認すると、原因が表示されていることがあります。\n1. JP1/AJS3 - Viewの[機能メニュー]-[ステータス監視]を選択します\n2. 対象のルートジョブネット上で右クリックします\n3. [ジョブネットモニタ]-[結果]を選択します\n4. 対象のジョブを開き[モニタ詳細]を開きます\n5. [モニタ詳細]画面の「実行結果詳細」の[詳細..]を開きます\n[詳細..]の画面に、何も表示されていない場合は、[モニタ詳細]の画面の終了コードが\n「\n-1\n」\nであるか確認してください。\n「\n-1\n」\nは、JP1の設定や環境に起因する異常終了であることを示しています。\n※「-1」以外の場合は、実行しているアプリケーションが出力している終了コードになります。終了コードを元にアプリケーション側のコードをご確認ください。\n実行結果詳細の次はこのログを！\n実行結果詳細を確認しても「実行結果詳細はありません」というメッセージが出たり、出力されていても何もヒントが得られない場合には、「統合トレースログ」を確認します。統合トレースログとは、JP1の各プログラムの情報が出力されるログ情報です。JP1/Base、JP1/AJS3など複数製品の情報がひとつのファイルにまとめて出力されます。\n※統合トレースログは\nマネージャーとエージェントの両方\nに出力されます。両方とも確認する事で、より詳細な内容を把握できます。\n特に以下のケースで統合トレースログを確認すると、異常終了した原因が分かる可能性が高いです。\n・初めて実行した環境にてジョブが異常終了する\n・毎回問題なく動作していたジョブが異常終了する\n統合トレースログの初期設定の出力先は次のとおりです。\nWindows（x86環境）の場合\nシステムドライブ\\Program Files\\Hitachi\\HNTRLib2\\spool\\hntr2{1|2|3|4}.log\nWindows（x64環境）の場合\nシステムドライブ\\Program Files (x86)\\Hitachi\\HNTRLib2\\spool\\hntr2{1|2|3|4}.log\nUNIXの場合\n/var/opt/hitachi/HNTRLib2/spool/hntr2{1|2|3|4}.log\n統合トレースログの見方\n統合トレースログファイルは、任意のテキストエディターで参照できます。\nメッセージだけで判断できない場合は、統合トレースログに出力されている「メッセージID」をマニュアルで検索し、原因と対処方法を確認します。\n統合トレースの出力項目詳細は、下記マニュアルをご参照ください。\nJP1/Base Version 12\n運用ガイド\n18.2.2　統合トレースログ\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D6500/BASE0459.HTM\n次に、統合トレースログに出力される代表的なログをご紹介します。\nジョブ異常終了時によく出力されるメッセージ\n●KAVU4571-W\n出力例:\n0278 2020/01/23 18:35:31.893 jpqman 00003764 000036EC\nKAVU4571-W エージェント(ホストA)でユーザーマッピング(jp1admin)に失敗しました\n主な対処方法:\n・ユーザーマッピング定義に問題があります。JP1ユーザーに紐づけているOSユーザーを見直してください。\n●KAVU4593-W\n出力例:\n0040 2020/01/08 15:11:47.805 jpqman 00003764 00003198\nKAVU4593-W 実行可能なエージェントがありません\n主な対処方法:\n・名前解決ができていない可能性があります。マネージャーとエージェントでお互いに名前解決ができているか確認してください。\n●KAVU0219-E\n出力例:\n0001 2020/01/08 15:18:12.643 ajssubd.exe 00003C6C 00003C0C\nKAVU0219-E JpqSubmitJobInt: 指定されたキューまたはエージェントが存在しません\n主な対処方法:\n・JP1/AJS3 - Manager側でajsagtaddコマンドにて実行エージェントを追加してください。\n●KAVU2227-E\n出力例:\n0251 2020/01/23 18:13:24.300 jpqman 00003764 000024D4\nKAVU2227-E TCP/IP通信で接続エラーが発生しました(接続先ホスト名:ホストA,IPアドレス:,ポート番号:20242,システムエラー番号:11001)\n主な対処方法:\n・エージェントサーバと通信ができるか確認してください。\n・ファイアウォールがある場合、「20242」が透過できるか確認してください。\n●KAVU4530-W\n出力例:\n0252 2020/01/23 18:13:24.300 jpqman 00003764 000024D4\nKAVU4530-W エージェント(ホストA)が停止もしくは障害が発生したと思われます\n主な対処方法:\n・エージェントサーバと通信ができるか確認してください。\n・エージェントサーバが起動しているか確認してください。\n執筆者より一言\nこんにちは。JP1サポートセンターの本田です。\n今回は、統合トレースログについて紹介させて頂きました。ポイントはジョブが異常終了した時間を確認して、その時間帯に何かエラーや警告が出力されていないか確認する事です。\nジョブが異常終了した際に、是非ご利用頂ければ幸いです。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 (JP1/AJS3) 全バージョン\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n本田　祐次\n2007年7月アシストに中途入社し一貫してJP1の顧客サポートを担当。「JP1サポート技術者ブログ」の編集リーダー。「JP1認定シニアコンサルタント」の資格保有者。このブログでは、知って便利な情報を紹介したいと思います。\n最近は、CSのセミナーを受講した入り、自動化やAIについて考えたりしています。AIは覚えさせるのが大変みたいですね。JP1でもAIを管理する製品がでたらいいのになと思っています。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202002_jp1_v12.1.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1全般】JP1新バージョン「V 12.1」の 新機能を一挙紹介！\nContent:\nJP1全般\n2020.02.28\n【JP1全般】JP1新バージョン「V 12.1」の 新機能を一挙紹介！\nJP1の最新バージョン「Version 12.1」が2020年1月23日にリリースされました。そこで本記事では、Version 12.1の新機能一覧をご紹介します。アシストが厳選するおススメ機能の詳細は、別記事でご紹介していきます。\n「統合管理製品」の新機能一覧\n●\nJP1/IM2\n・JP1/AJS3との連携が強化され、ジョブ運用に影響のある事象をJP1/AJS3自らが通知\nジョブ運用への影響をいち早く確認することで、重大な業務障害となる前に対処が可能\n・ジョブ実行やOSリソース状況など関連する性能状況を把握、原因の切り分けを支援\n・異常を検知したルートジョブネットの後続ジョブ開始予定時刻や影響有無を可視化、的確なリカバリを支援\n・JP1製品の情報確認や操作がJP1/IM2から可能になり、統合運用管理が実現\n・ユーザー作成によるカスタムUIの統合が可能\n・ジョブネットと実行ホストなどの業務とインフラの関連性や、ユーザー任意の様々な関連性を可視化\n・統合オペレーションビューアのJP1イベントの集約表示やモニター機能などが可能\n・ユーザーカスタマイズ性の強化として、管理ノード種別の拡張やツリーのカスタマイズ などが可能\n・JP1イベントを登録するREST APIの提供\n・Proxy対応\n●\nJP1/Base\n・JP1認証サーバのパスワードポリシーが設定可能になり、不正アクセスのリスクを軽減\n・マネージャホストと管理対象ホスト間の通信をSSLで暗号化し、盗聴リスクを軽減\n「ジョブ管理製品」の新機能一覧\n●\nJP1/AJS3 - Manager\n・JP1/IM2との連携が強化され、ジョブ運用に影響のある事象をJP1/AJS3自らが通知\nジョブ運用への影響をいち早く確認することで、重大な業務障害となる前に対処が可能\n・ジョブ実行やOSリソース状況など関連する性能状況を把握、原因の切り分けを支援\n・異常を検知したルートジョブネットの後続ジョブ開始予定時刻や影響有無を可視化、的確なリカバリを支援\n・運用を止めることなく、簡単な手段でJP1/AJS3 - Managerのデータベースをバックアップ可能\n・JP1/AJS3 - Managerデータベースのセルフメンテナンスが可能\n・ダッシュボードがさらに使いやすくなった\n- 異なる階層のジョブネットを一つの監視対象エリアで監視が可能\n- 監視対象エリアを最小化しても進捗や状態の表示が可能\n・インストール時にデータベースサイズを選択可能になり、インストール後のサイズ変更作業が不要\n・エージェントからマネージャに対する通信の障害で発生するマネージャーへの影響を局所化し、正常なエージェントでの業務の実行を継続\n・インストール先ホスト名のホスト名長の制限値が32バイトから63バイトに拡張。これによりDNS名などを含むホスト名が長いサーバが多いクラウド環境への導入がしやすくなった\n・Outlookを使用するメールシステム連携機能で、Exchange Server 2019との組み合わせを新たにサポート\n・意図しないイベント大量発生などにより「起動条件待ち」状態の世代が2,000世代を超えるとメッセージで通知。これにより、サービス起動時間の長時間化やジョブ実行性能低下を防止\n●\nJP1/AJS3-DA\n・カレンダー情報の一括削除が可能\n・エラーチェックのチェック項目をカスタマイズしたり、エクスポート時に自動でエラーチェックするようにカスタマイズが可能\n・ユニット名で下記の文字を使用可能にしたうえでエクスポートが可能\n\" & ' * < > ? [ \\ ] ^‘ {|} ~\n・JP1/AJS3 - DA終了時のExcel参照形式（A1形式またはR1C1形式）を選択可能\n・インポート時のカレンダー定義処理性能が改善\n・変更エクスポートのカレンダー定義数の上限が拡張（62→2,978日）\n・上限を超えるカレンダー定義をインポートした際に、古い日付ではなく新しい日付のカレンダー情報をインポート可能\n「ネットワーク管理製品」の新機能一覧\n●\nJP1/NNMi\n・コンソールでNNMiが管理するノードを一括で削除できる個数を設定可能\n・MIBから情報が取得できなくなったレイヤー2接続や応答しないコンポーネントを自動削除\n・指定したノード、インターフェースのモニタリング設定をGUIを使わずに確認\n・カスタムポーラー（任意のMIB情報収集）の収集状態（アクティブ、停止等）をコマンドで変更可能\n・トラップだけでなく管理イベントもインシデントの自動トリム対象に\n・新規インストールの場合、自動トリム機能が有効になる\n・サービス停止中のインターフェースにのみ接続されているインターフェイスに対して、ポーリングを停止する事が可能になり、無用なインシデントの発生を抑止\n・ノードグループごとにステータスの計算方法を設定可能\n・同じIPまたはObject IDからのSNMPトラップに対して、ブロックするための閾値を変更可能\n・Windows版のインストール完了時、ユーザーの確認が終わるまでコマンドプロンプトを表示し続ける\n・残存した一時ファイルにハードディスクが圧迫されないように、サービス開始前にクリーンアップを実行\n・サービス停止後に削除していたJP1/NNMiの一時ファイル*を、サービス開始前にも削除。\nこれにより、WindowsのOS停止時にNNMiサービス停止が完了せずファイルが残存する場合でも、不要なファイルが溜まり続けてハードディスクを圧迫することがなくなる\n* 削除対象の一時ファイル\nWindows:\n%NnmDataDir%nmsas\\NNM\\tmp 配下\nLinux:\n/var/opt/OV/nmsas/NNM/tmp 配下\n「パフォーマンス管理製品」の新機能一覧\n●\nJP1/PFM - Oracle\n・CDB構成のOracle Databaseを監視対象とする際、PDBごとの下記基本的な性能の一元監視が可能\n- PDBの起動モード\n- PDBの物理サイズ\n- PDBの表領域使用状況\n・新たに以下の監視項目を取得可能\n-ASMディスクグループ空き容量の割合\n-高速リカバリ領域の使用状況\n●\nJP1/PFM - RMVM\n・新たに以下の監視項目を取得可能\n-仮想マシンに対するディスク領域の割当て状況\n・RHEL8 KVMを監視対象とした性能情報を取得可能\n●\nJP1/PFM - RMPlat\n・RHEL8ホストの性能情報を取得が可能\n・WindowsマシンからUNIX系プラットフォームを監視する場合に前提となるPerlとして、Strawberry Perlを追加サポート\n・従来サポートしてきたActivePerlと異なり、本番環境であっても無償で利用が可能\n・Windows Server 2019マシンからUNIX系プラットフォームを監視する場合に、前提となるSSHとしてWindows同梱のOpenSSHを追加サポート\n・従来前提であったPuTTYをインストールせずに監視が可能\n「資産管理製品」の新機能一覧\n●\nJP1/ITDM2\n・JP1/ITDM2の管理対象として、リンククローン(VMware)やMCS、PVS（Citrix Virtual Desktops）といった共有型VDI環境をサポート\n・JP1/ITDM2でWindows更新プログラム（QU/FU）を自動的にパッケージング。ID配布を組み合わせて運用することで、大規模環境でも更新プログラム配布を自動的に行える\n・Adobe Flashを前提としないHTML5によるWebコンソールを提供\n・管理対象OSとしてWindows 10 Profor Workstationsをサポート\n・各JP1製品の修正パッチ番号を含めたバージョン管理が可能\n・外部システムからJP1/ITDM2に機器情報を登録／更新するためのI/F（REST API）をサポート\n・過去の契約内容を訂正した場合に、過去分のレポートを作り直すことが可能\n・コンポーネント（エージェント、ネットワークモニター）の自動アップデート機能のデフォルト値をONからOFFに変更\n・情報取得するウイルス対策製品を追加サポート\n-ウイルスバスター クラウド 15.0\n-Apex One Security 2019\n-F-Secure Client Security 14\n執筆者より一言\nV 12.1がリリースされました。JP1/AJS3とJP1/IM2との連携が強化されたことにより、障害検知までの時間が早くなったと思います。また、今までできなかったJP1/AJS3のデータベースのセルフメンテナンスや、インストール時にデータベースのサイズを選べるようになった事も期待できると思っています。多くの製品で、痒いところに手が届くようになって、かなり便利になった印象があります。今後とも、JP1をよろしくお願いします。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 (JP1/AJS3) 12-10以降\nJP1/Integrated Management - Manager 2 (JP1/IM2) 12-10以降\nJP1/TELstaff (JP1/TELstaff) 12-10以降\nJP1/Network Node Manager i (JP1/NNMi) 12-10以降\nJP1/SNMP System Observer (JP1/SSO) 12-10以降\nJP1/Cm2/Network Node Manager i (JP1/Cm2/NNMi) 12-10以降\nJP1/Cm2/SNMP System Observer (JP1/Cm2/SSO) 12-10以降\nJP1/Performance Management (JP1/PFM) 12-10以降\nJP1/IT Desktop Management 2 (JP1/ITDM2) 12-10以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n本田　祐次\n2007年7月アシストに中途入社し一貫してJP1の顧客サポートを担当。「JP1サポート技術者ブログ」の編集リーダー。「JP1認定シニアコンサルタント」の資格保有者。このブログでは、知って便利な情報を紹介したいと思います。\n最近は、CSのセミナーを受講した入り、自動化やAIについて考えたりしています。AIは覚えさせるのが大変みたいですね。JP1でもAIを管理する製品がでたらいいのになと思っています。\n関連している記事\nJP1全般\n2025.06.27\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2026年3月に限定サポートが終了するVersion9から、JP1の最新バージョンである Version13に移行するにあたって検討すべきことをまとめました。\nJP1全般\n2025.02.27\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\nJP1サポート技術者が、お客様によくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介します。\nJP1全般\n2024.09.30\n【JP1全般】JP1新バージョン「V 13.1」の 新機能を一挙紹介！\n2024年9月30日にリリースされたJP1の新バージョン「Version 13.1」の新機能一覧をご紹介します！\n« 前の記事\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202003_jp1_nnmi_stopplan.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/NNMi】不要なエラーイベント発行を「抑止」！ 定期メンテナンス時に、計画的に死活監視を停止する方法\nContent:\nネットワーク管理\n2020.03.30\n【JP1/NNMi】不要なエラーイベント発行を「抑止」！ 定期メンテナンス時に、計画的に死活監視を停止する方法\n日々の運用では、OS再起動などのメンテナンスに伴い、一時的に死活監視やプロセス監視を停止しなければならないことがあります。想定されたメンテナンスであるにも関わらず、監視を停止せずにエラーが大量に出力されると、対処すべき重要なエラーを見落とす可能性もあります。下記のブログにて、死活監視の停止方法をご紹介していますが、本記事では、Version 11で追加された、死活監視を自動的に停止／再開する「計画停止」機能についてご紹介します。\n【JP1/NNMi、JP1/SSO】メンテナンス時の死活・リソース・プロセス監視の一時停止手順\nhttps://www.ashisuto.co.jp/jp1blog/article/201910_jp1_nnmi_stop.html\n設定方法\n計画停止では、指定した時間になるとノードの管理モードを自動的に「サービス停止中」にし、監視を停止します。その後、停止時間を過ぎると自動的に管理モードを「管理対象」に戻し、監視を再開します。計画停止の手順は以下のとおりです。\n1.NNMiコンソールより、計画停止画面を開きます。\nノードを選択して開く場合：\n対象ノードを右クリック→[管理モード]→[ノード停止のスケジュール]を選択\nノードグループを選択して開く場合：\n対象ノードグループを右クリック→[管理モード]→[グループメンバー停止のスケジュール]を選択\n2.計画停止の詳細を設定します。\n必須入力項目は以下のとおりです。\n・有効にする：チェックが入っていることを確認\n・名前：任意の名称\n・開始日時：監視の停止開始日時を指定\n・終了日時：監視の再開日時を指定\n※開始日時より15分以上先の日時を指定してください。停止期間が15分以内の場合、エラーとなり設定できません。\n・ホスト名：計画停止を行うホストを指定\n※ノードを選択した場合は対象のノード名、ノードグループを選択した場合は対象ノードグループに所属するノード名が登録されています。必要に応じて編集してください。\n3.[停止のスケジュール]を押下し、設定を反映します。\n設定の確認\n計画停止の予定は、各ノードの詳細画面から確認が可能です。\n対象ノードをダブルクリックし[計画停止]タブを選択します。\n対象ノードをダブルクリックし[停止履歴]タブを選択すると、過去の計画停止の履歴も確認できます。\n注意事項\n・計画停止で停止できるのはJP1/NNMiの監視（死活監視、SNMPトラップ監視）のみです。\nJP1/SSOの監視（リソース監視、プロセス監視、サービス監視）は停止しません。JP1/SSOの監視を\n停止する場合は、別途以下のブログを参考に監視を停止してください。\nhttps://www.ashisuto.co.jp/jp1blog/article/201910_jp1_nnmi_stop.html\n・計画停止で指定できる停止期間の最低単位は15分です。15分以下は指定できません。\n・計画停止はVersion 11からの機能です。Version 10以前のJP1/NNMiでは使用できません。\nブログ執筆者からひとこと\n今回ご紹介した機能は、以前ご紹介した記事\n(\nhttps://www.ashisuto.co.jp/jp1blog/article/201910_jp1_nnmi_stop.html\n)の続編にあたります。\n監視の一時停止はシステム運用に必要な業務のひとつであると思いますので、ぜひ両記事を活用していただければと存じます。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Network Node Manager i (JP1/NNMi) 11-00以降\nJP1/SNMP System Observer (JP1/SSO) 11-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n栗山 綾美\n2012年、株式会社アシスト入社。セキュリティ製品を担当後、2013年より\nJP1の顧客サポートを担当。「JP1認定シニアコンサルタント」の資格保有者。\nサポートの経験を活かしたブログを目指します。\n趣味は、夢と魔法の国(と、冒険とイマジネーションの海)に行くこと。\n関連している記事\nネットワーク管理\n2024.02.22\n【JP1/NNMi】入門編！JP1の基本用語を理解しよう！\nJP1/NNMiのヘルプやマニュアルを読む上で理解しておきたい、JP1の基本用語について解説します。\nネットワーク管理\n2023.01.31\n【JP1/SSO】JP1 V12.6新機能 SSOコンソールでユーザリソースを定義するには\nJP1/SNMP System Observer（JP1/SSO） V12.6の新機能で、SSOコンソールに [ユーザリソース定義作成] 画面が追加されました。\nネットワーク管理\n2020.12.22\n【JP1/NNMi】そのアラート重要なの？！JP1/NNMiのヘルスチェック機能が出力する「NNMi稼働状態ステータス」とは\nJP1/NNMiのヘルスチェック機能が出力する「NNMi稼働状態ステータス」メッセージの確認方法をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202004_jp1_itdm_check.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/ITDM2】セキュリティホールを塞ぐ！ 管理対象PCへのWindows更新プログラム 適用状況の確認手順！\nContent:\n資産管理\n2020.04.21\n【JP1/ITDM2】セキュリティホールを塞ぐ！ 管理対象PCへのWindows更新プログラム 適用状況の確認手順！\nJP1/ITDM2 をご利用のお客様から、セキュリティ対策の一環として、管理対象のWindowsOSのPCに対して、どの更新プログラムが適用されているかを確認したいというご質問をよくいただきます。\nそこで本記事では、特定の更新プログラムの適用状況をCSVファイルで確認する方法をご紹介します。\n更新プログラムの適用状況を確認する方法\nある特定の更新プログラムが、管理PC全台に対して適用されているかを、CSVファイルに出力して確認します。\n出力手順\n1.[機器] 画面を開き、画面左側のメニューより、 [機器情報]-[機器一覧(機器種別)] を選択します。\n2.消しゴムのアイコンをクリックし、 [フィルタOFF] の状態にします。\n3.画面右上の[操作メニュー]-[機器一覧(詳細)をエクスポートする] を選択します。\n4.[エクスポートする項目の選択] 画面が表示されるので、チェックをすべてはずします。\n5.[システム情報]-[コンピュータ情報]-[コンピュータ名（説明）]にチェックをつけ、ホスト名を確認出来るようにします。\n6.[セキュリティ情報]-[更新プログラム情報]-[適用済みの更新プログラム]-[更新プログラム(適用日付)]にチェックをつけます。\n7.プルダウンから確認対象の更新プログラムを選択し、[OK]をクリックします。\n8.次回以降のため、エクスポートする項目の条件をテンプレートとして保存するため、任意のテンプレート名を入力し、[はい]をクリックします。\n9.ダウンロードが完了すると、ファイルへの出力画面が表示されるので、[保存]ボタンをクリックします。\n10.下記画面で[保存]をクリックし、操作端末にCSVデータを保存します。\n11.保存したCSVファイルを開きます。更新プログラムがインストール済みのPCについては、[C列]に[インストールされています]と記載があります。\nブログ執筆者からひとこと\nこんにちは。アシストサポートセンターの引間です。\nセキュリティポリシーでいくつか設定を実施いただければ、JP1/ITDM2の画面上でWindowsセキュリティ更新プログラムの適用／未適用の状況を確認することができますが、少々お手間がかかります。今回は、臨時で配信した更新プログラムの適用状況を、纏めて簡単に確認できる方法をご紹介しました。\n※お客様から頻繁にお問い合わせいただくご質問の1つです。\nブログで紹介して欲しいテーマや、機能などがありましたら、是非sk_info@ashisuto.co.jpまでご連絡ください。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/IT Desktop Management 2 - Manager (JP1/ITDM2) 12-00以降※\n※バージョン 12-10 より、Adobe Flash Player のサポート切れに伴い、ユーザーインターフェースが\n刷新されました。本記事の手順に変更はございません。画面イメージは下記URLを確認ください。\nhttps://www.hitachi.co.jp/Prod/comp/soft1/jp1/product/jp1/list/itdm2/index.html\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n引間 康将\n2013年、株式会社アシスト入社。Oracle製品を担当後、2015年よりJP1の顧客サポートを担当。「超サポとは感情に働きかけるサポート」を信念にお客様にご満足いただけるサポートを提供できるよう、奮闘中。\n趣味は、バイクツーリングと筋トレ。\n関連している記事\n資産管理\n2022.09.09\n【JP1/ITDM2】情報漏洩の徹底防止！USBデバイスの制御機能を使いこなそう！\n2022年6月、市民46万人分の個人情報が入ったUSBメモリが、一時所在不明となりニュースになりました。そこで今回は改めて、JP1/ITDM2のデバイス制御機能の概要や利用方法をご紹介します。\n資産管理\n2021.06.28\n【JP1/ITDM2】MacもWindowsもJP1でまとめて資産管理！\nJP1/ITDM2は、Mac版エージェントを利用することでMacOSの資産管理が可能です。本ブログではMac版エージェントを利用するための事前準備や手順を解説します。\n資産管理\n2021.03.22\n【JP1/ITDM2】JP1 V12.5新機能のご案内『資産管理製品編』\n2021年1月21日にリリースされたJP1の新バージョン「Version 12.5」の新機能の中から、資産管理製品の新機能を厳選してご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202005_jp1_ajs_solve.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】早期解決への近道！ ジョブ障害発生時に、調査の初動を変える資料採取と情報整理\nContent:\nジョブ管理\n2020.06.29\n【JP1/AJS3】早期解決への近道！ ジョブ障害発生時に、調査の初動を変える資料採取と情報整理\n以前のブログ\nで、ジョブの異常終了時に確認すべきログについてご紹介をしました。ログを見ても原因が特定できない場合、弊社など保守契約先に問い合わせをいただくかと思いますが、対応に追われてログ採取の依頼をもらった時にはもう障害発生時のログが残っていなかった、という経験はありませんか？\nログがないことで、調査に時間がかかる、調査ができないという事態が起きないよう、今回は「障害発生時に最初に採取すべき情報」についてご紹介します。\n具体的な事象や発生日時の把握\n一言に「JP1/AJS3に障害が発生している」と言っても、「ジョブが異常終了した」「JP1/AJS3サービスが停止した」「意図しない動作をしている」など事象は様々です。具体的な情報があることで調査の初動は大きく変わります。分かる範囲で構いませんので、まずは状況の整理をしてください。\n＜調査に必要な情報の例＞\n・どんな事象が発生しているのか\n・何を持って事象が発生していると判断したのか\n・いつ発生したのか\n・事象は継続して発生しているのか、もしくは再現性があるのか\n・事象が発生した前後に何かしらの作業を行ったか\n・その他、確認した内容\n特にOS側の情報（設定変更や操作内容）はJP1のログからは追うことができませんので、お客様にて確認が必要です。\nまた、問い合わせの際はメール本文やお電話でのご説明だけではなく、実際に確認した画面の画面ショットやコマンドの実行結果も併せて提供していただけると調査がしやすいです。\n資料採取ツールの実行\n次に必要なことはログの取得です。\nログファイルの種類やシステム環境により、時間が経過するとログファイルがローテートしてしまい、事象が発生した時の状況を把握できなくなるケースがあります。そのため、問題が発生したらできるだけ早くログを採取する必要があります。\nJP1では、調査に必要なログなどの情報を一括で収集するツールが提供されています。\n問い合わせが必要な事象が発生した時は、まずこのツールを実行するようにしてください。\nWindowsの場合：\n> \"JP1/AJS3インストール先フォルダ¥tools¥_04.bat\" -f 出力先フォルダ名\nUNIXの場合：\n# /opt/jp1ajs2/lib/sample_script/_04 -f 出力先ディレクトリ名\n※クラスタ環境の場合は「-h 論理ホスト名」を付けて実行してください。\n※「-f 出力先フォルダ名」が指定できるのはJP1のバージョンが10-50以降の場合です。\n10-10以前のバージョンの場合は-fオプションを指定せずに実行してください。\nこの場合、資料はデフォルトでは「%TEMP%」もしくは「/tmp/」配下に出力されます。\n資料採取ツールはマネージャー、エージェントの両方で提供されています。\nジョブの異常終了など、どちらのホストで問題が発生しているか判断がつかない場合は、両ホストで実行してください。\n特定のユニットに対する調査\n「ジョブが異常終了した」など特定のユニットに対する事象の場合は、対象のユニット名と定義内容もご提供ください。\n①事象が発生したユニット名\n当該ユニットを右クリック→[ユニット完全名を記憶]にて、パスを含めた名称をクリップボードにコピーできます。\n②対象ユニットの定義内容\n以下のコマンドにて定義内容をファイルに出力してください。\nWindowsの場合：\n> ajsprint -F スケジューラーサービス名※1 -a ジョブネットパス※2 > 任意のファイル名\nUNIXの場合：\n# /opt/jp1ajs2/bin/ajsprint -F スケジューラーサービス名 -a ジョブネットパス > 任意のファイル名\n※1スケジューラーサービス名\nJP1/AJS3 - View画面上の最上位のジョブグループを指します。デフォルトはAJSROOT1です。\n※2ジョブネットパス\nAJSROOT1配下のaaaジョブグループ配下のbbbルートジョブネットを指定する場合は\n「/aaa/bbb」と指定してください。\nまとめ\nご紹介した内容は、あくまで一般的に必要とされる対応です。実際は、発生した事象によって必要な情報が異なる場合もあります。\nしかし、すぐにお問い合わせできない、社内申請などにより資料の採取に時間がかかるといった場合に、上記の情報整理や資料採取、またはそのために必要な申請作業を先んじて行っていただけると、調査がスムーズに進み、早期解決にもつながります。\nもちろん、そういった対応なしではお問い合わせができないということはありませんので、何かご不明点や問題がございましたら、お気軽に弊社サポートセンターまでお問い合わせいただければと存じます。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 (JP1/AJS3) 09-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n栗山 綾美\n2012年、株式会社アシスト入社。セキュリティ製品を担当後、2013年より\nJP1の顧客サポートを担当。「JP1認定シニアコンサルタント」の資格保有者。\nサポートの経験を活かしたブログを目指します。\n趣味は、夢と魔法の国(と、冒険とイマジネーションの海)に行くこと。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202005_jp1_reboot.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1全般】予期せぬトラブルを防止！OS再起動後にJP1の正常動作を確認する方法\nContent:\nJP1全般\n2020.05.25\n【JP1全般】予期せぬトラブルを防止！OS再起動後にJP1の正常動作を確認する方法\n定期的なOS再起動後には、アプリケーションが正しく起動したかを確認する必要があります。起動すべきアプリケーションが停止していたことで、提供するサービスに影響が出る可能性もあります。そこで本記事では、JP1の正常動作を確認する方法をご紹介します。\n対象製品と確認コマンド\nJP1には、JP1のプロセスが正しく動作しているかを確認するコマンドが提供されています。コマンドを実行することで、JP1が問題なく動作しているかを確認できます。以下製品の確認コマンドと、正常動作時のメッセージをご案内します。\n・JP1/Base\n・JP1/Automatic Job Management System 3\n・JP1/Integrated Management - Manager\n・JP1/Integrated Management - Event Gateway for Network Node Manager ｉ\n・JP1/Network Node Manager i\n・JP1/SNMP System Observer\n・JP1/Performance Management\n※JP1/Baseのみ複数サービスがあるため、それぞれのサービス名を記載します。\nWindowsのJP1インストールパスは以下デフォルトのフォルダとしています。\nC:\\Program Files (x86)\\Hitachi\\\n※インストールパスを変更されている場合は、読み替えて実行してください。\nまた、論理ホスト起動のコマンドが記載されていない場合、「-h 論理ホスト名」を入れてご確認ください。\n例)\n[Windows]\n> jbs_spmd_status\n-h 論理ホスト名\n[UNIX系]\n# /opt/jp1base/bin/jbs_spmd_status\n-h 論理ホスト名\nJP1/Base\nJP1/Baseは下記4つのサービスの動作を確認します。\n●JP1/Base\n[Windows]\n> jbs_spmd_status\n[UNIX系]\n# /opt/jp1base/bin/jbs_spmd_status\n[正常動作時のメッセージ]\nKAVB3691-I プロセスは全て起動しています\n【マニュアル】\n『JP1 Version 12　JP1/Base 運用ガイド』\n〇jbs_spmd_status\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D6510/BASE0313.HTM\n●JP1/Base Event\n[Windows]\n> jevstat\n[UNIX系]\n# /opt/jp1base/bin/jevstat\n論理ホストの場合\n[Windows]\n> jevstat\n論理ホスト名\n[UNIX系]\n# /opt/jp1base/bin/jevstat\n論理ホスト名\n[正常動作時のメッセージ]\nKAJP1772-I プロセスは全て起動しています\n【マニュアル】\n『JP1 Version 12　JP1/Base 運用ガイド』\n〇jevstat\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D6510/BASE0390.HTM\n●JP1/Base LogTrap\n[Windows]\n> jevlogdstat\n[UNIX系]\n# /opt/jp1base/bin/jevlogdstat\n※JP1/Base LogTrapに論理サービスはありません。\n[正常動作時のメッセージ]\nKAVA3414-I ログファイルトラップ管理サービスは起動しています.\n【マニュアル】\n『JP1 Version 12　JP1/Base 運用ガイド』\n〇jevlogdstat\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D6510/BASE0376.HTM\n●JP1/Base EventlogTrap(Windowsのみ)\nコマンドにて確認できませんので、サービス管理画面にて「JP1/Base EventlogTrap」サービスが起動している事をご確認ください。\nJP1/AJS3\n[Windows]\n> jajs_spmd_status\n[UNIX系]\n# /opt/jp1ajs2/bin/jajs_spmd_status\n[正常動作時のメッセージ]\nKNAD3691-I プロセスは全て起動しています\n【マニュアル】\n『JP1 Version 12　JP1/Automatic Job Management System 3 コマンドリファレンス』\n〇jajs_spmd_status\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D2810/AJSO0151.HTM\nJP1/IM\n[Windows]\n> jco_spmd_status\n[UNIX系]\n# /opt/jp1cons/bin/jco_spmd_status\n[正常動作時のメッセージ]\nKAVB3691-I プロセスは全て起動しています\n【マニュアル】\n『JP1 Version 12　JP1/Integrated Management 2 - Manager コマンド・定義ファイルリファレンス』\n〇jco_spmd_status\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D5510/IMRB0045.HTM\nJP1/IM-EG4NNMi\n[Windows]\n> “C:\\Program Files (x86)\\Hitachi\\JP1EG4NNMI\\bin\\jegn_spmd_status”\n※Pathが通っていないため、フルパスで指定します。\n[UNIX系]\n# /opt/jp1eg4nnmi/bin/jegn_spmd_status\n[正常動作時のメッセージ]\nKAVB3691-I プロセスは全て起動しています\n【マニュアル】\n『JP1 Version 12　JP1/Integrated Management 2 - Event Gateway for Network Node Manager i』\n〇jegn_spmd_status\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D5700/IMEG0078.HTM\nJP1/NNMi\n[Windows]\n> ovstatus -c\n[UNIX系]\n# /opt/OV/bin/ovstatus -c\n※JP1/NNMiの場合、物理か論理ホストどちらかだけしか起動できないため、論理ホストを確認するコマンドはありません。\n[正常動作時の確認点]\n全てのプロセス(名前列)の「状態」が「実行」になっている事。\n名前 PID 状態 最後のメッセージ\nOVsPMD xxxxx 実行 -\nnnmaction xxxxx 実行 初期化が完了しました。\nnnmtrapreceivermd xxxxx 実行 初期化が完了しました。 トラップレシーバは動作中です。\nnmsdbmgr xxxxx 実行 データベースが利用可能です。\novjboss xxxxx 実行 Initialization complete.\n※xxxxxにはプロセスIDが入ります。\n【マニュアル】\n『JP1 Version 12　JP1/Network Node Manager i セットアップガイド』\n〇ovstatus\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213E0210/NNMS0569.HTM\nJP1/SSO\n[Windows]\n> ssostatus\n[UNIX系]\n# /opt/CM2/SSO/bin/ssostatus\n※JP1/SSOの場合、物理か論理ホストどちらかだけしか起動できないため、論理ホストを確認するコマンドはありません。\n[正常動作時の確認点]\n全てのプロセスの「State」が「RUNNING」になっている事を確認\nName PID State\nssospmd xxxxx RUNNING\nssocolmng xxxxx RUNNING\nssocollectd xxxxx RUNNING\nssoapmon xxxxx RUNNING\nssorptd xxxxx RUNNING\nssoconsoled xxxxx RUNNING\n※xxxxxにはプロセスIDが入ります。\n【マニュアル】\n『JP1 Version 12　JP1/SNMP System Observer』\n〇ssostatus\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213E0400/SSO0289.HTM\nJP1/PFM\n[Windows]\n> “C:\\Program Files (x86)\\Hitachi\\jp1pc\\tools\\jpctool.exe” service list -key all\n※Pathが通っていないため、フルパスで指定します。\n[UNIX]\n# /opt/jp1pc/tools/jpctool service list -key all\n論理ホストの場合\n[Windows]\n> “C:\\Program Files (x86)\\Hitachi\\jp1pc\\tools\\jpctool.exe” service list -key all\n-lhost\n論理ホスト名\n※Pathが通っていないため、フルパスで指定します。\n[UNIX]\n# /opt/jp1pc/tools/jpctool service list -key all\n-lhost\n論理ホスト名\n[正常動作時の確認点]\n全ての「Status」が「Active」になっている事を確認\nHost Name ServiceID Service Name PID Port Status\n--------- --------- ------------- -------- -------- --------\nサーバ名 PT1サーバ名 Status Server xxxxx 22351 Active\nサーバ名 PN1001 Name Server xxxxx 22285 Active\nサーバ名 PM1001 Master Manager xxxxx 20271 Active\nサーバ名 PS1001 Master Store xxxxx 20272 Active\nサーバ名 PE1001 Correlator xxxxx 20273 Active\nサーバ名 PC1サーバ名 Trap Generator xxxxx 20274 Active\nサーバ名 PP1サーバ名 View Server xxxxx 20276 Active\nサーバ名 PH1サーバ名 Action Handler xxxxx 20275 Active\nサーバ名 0S1サーバ名 Agent Store xxxxx 20281 Active\nサーバ名 0A1サーバ名 Agent Collector xxxxx 20282 Active\nサーバ名 US1サーバ名 Agent Store xxxxx 20277 Active\nサーバ名 UA1サーバ名 Agent Collector xxxxx 20278 Active\nKAVE06003-I サービス情報の表示処理が正常終了しました\n※xxxxxにはプロセスIDが入ります。\n【マニュアル】\n『JP1 Version 12　JP1/Performance Management リファレンス』\n〇jpctool service list\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D7810/PCRE0187.HTM\nまとめ\n私は現在、社内における仮想化プラットフォームやクラウドプラットフォーム、オンプレミスのサーバ管理をしています。各プラットフォームに様々なアプリケーションが入っており、管理するだけでも大変なのに、OS再起動となると起動後にアプリケーションが正しく動作しているか心配になり、かなりドキドキします。アプリケーションが想定通りに使えていれば、正常に動作していると判断しています。\n本当に問題なく動作している事を、JP1だけでも正確に把握してもらえたらと思い、製品ごとの稼働確認方法を紹介させて頂きました。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Base (JP1/Base) 09-00以降\nJP1/Automatic Job Management System 3 (JP1/AJS3) 09-00以降\nJP1/Integrated Management - Manager (JP1/IM) 09-00以降\nJP1/Integrated Management - Event Gateway for Network Node Manager ｉ(JP1/IM-EG4NNMi) 09-00以降\nJP1/Network Node Manager i (JP1/NNMi) 09-00以降\nJP1/SNMP System Observer (JP1/SSO) 09-00以降\nJP1/Performance Management (JP1/PFM) 09-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n本田 祐次\n2007年7月アシストに中途入社し一貫してJP1の顧客サポートを担当。「JP1サポート技術者ブログ」の編集リーダー。「JP1認定シニアコンサルタント」の資格保有者。このブログでは、知って便利な情報を紹介したいと思います。\n最近は、CSのセミナーを受講した入り、自動化やAIについて考えたりしています。AIは覚えさせるのが大変みたいですね。JP1でもAIを管理する製品がでたらいいのになと思っています。\n関連している記事\nJP1全般\n2025.06.27\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2026年3月に限定サポートが終了するVersion9から、JP1の最新バージョンである Version13に移行するにあたって検討すべきことをまとめました。\nJP1全般\n2025.02.27\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\nJP1サポート技術者が、お客様によくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介します。\nJP1全般\n2024.09.30\n【JP1全般】JP1新バージョン「V 13.1」の 新機能を一挙紹介！\n2024年9月30日にリリースされたJP1の新バージョン「Version 13.1」の新機能一覧をご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202007_jp1_itdm2_remote.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/ITDM2】リモートコントロールを高速化！ 遠隔操作時のネットワーク負荷を軽減する方法\nContent:\n資産管理\n2020.07.27\n【JP1/ITDM2】リモートコントロールを高速化！ 遠隔操作時のネットワーク負荷を軽減する方法\nテレワークで環境下において、自宅などから遠隔地のマシンにリモートで接続する場合、ネットワーク回線が細く思うように操作ができなかった、という経験はありませんか？そこで本記事では、JP1/ITDM2のリモートコントロール機能を利用した遠隔操作時に、PCから送信されるデータ量を削減することで、高速化する機能をご紹介します。\nリモートコントロール接続時のネットワーク負荷を軽減する方法\n1.　[リモートコントロール]プログラムを起動します。\n2．[環境の設定]ボタンをクリックします\n3．[高速化]タブを選択し、[フロー制御する]にチェックを入れます。\n※［データ転送が遅延した場合、自動的にフロー制御をする］には、チェックを入れないでください。\n本設定を有効にしますと、エージェントPC(操作される側)からコントローラ(操作する側)に転送する\nデータ量が自動的に抑制され、アニメーションや動画などデータ量の多い描画の\nリモートコントロールや、通信回線が低速な環境のリモートコントロールでも安定した状態で\n操作できます。ただし、フロー制御を使用すると、フロー制御しない場合に比べて操作の\nレスポンスが遅くなり、スムーズに表示できなくなるためご注意ください。\n4．[OK]をクリックして設定画面を閉じます。\nまとめ\nテレワーク環境によっては、ネットワーク回線が細く、リモート操作が思うように出来ないことがあるかと思います。JP1/ITDM2では、リモート操作時のネットワーク負荷を軽減するための機能が実装されておりますので、ネットワーク回線が細い環境で是非ご利用ください！\n製品正式名称(略称表記) および機能対象バージョン\nJP1/IT Desktop Management - Manager (JP1/ITDM) 09-00以降\nJP1/IT Desktop Management 2 - Manager (JP1/ITDM2) 10-50以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n引間 康将\n2013年、株式会社アシスト入社。Oracle製品を担当後、2015年よりJP1の顧客サポートを担当。「超サポとは感情に働きかけるサポート」を信念にお客様にご満足いただけるサポートを提供できるよう、奮闘中。\n趣味は、バイクツーリングと筋トレ。\n関連している記事\n資産管理\n2022.09.09\n【JP1/ITDM2】情報漏洩の徹底防止！USBデバイスの制御機能を使いこなそう！\n2022年6月、市民46万人分の個人情報が入ったUSBメモリが、一時所在不明となりニュースになりました。そこで今回は改めて、JP1/ITDM2のデバイス制御機能の概要や利用方法をご紹介します。\n資産管理\n2021.06.28\n【JP1/ITDM2】MacもWindowsもJP1でまとめて資産管理！\nJP1/ITDM2は、Mac版エージェントを利用することでMacOSの資産管理が可能です。本ブログではMac版エージェントを利用するための事前準備や手順を解説します。\n資産管理\n2021.03.22\n【JP1/ITDM2】JP1 V12.5新機能のご案内『資産管理製品編』\n2021年1月21日にリリースされたJP1の新バージョン「Version 12.5」の新機能の中から、資産管理製品の新機能を厳選してご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202008_jp1_im_alertstop.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/IM】不要なアラートを抑止！ 定期メンテンナンス時間だけ、メールなどによる通報通知を止める方法\nContent:\n統合管理\n2020.08.28\n【JP1/IM】不要なアラートを抑止！ 定期メンテンナンス時間だけ、メールなどによる通報通知を止める方法\n定期的なサーバ再起動やメンテナンス時に、対象のサーバに対するエラーや警告の通報通知が発生することで、障害ではないにも関わらず、メールや電話による通知がくることはありませんか？対処不要とはいえ、重要なメールなどが埋もれてしまうリスクは極力回避したいですね。\nそこで本記事では、特定の時間帯のみ、不要な通報通知を抑止する方法をご紹介します。\n通報通知の仕組みについて\nシステムで監視している情報は、下図のようにJP1/IMに集約されます。集約された情報をJP1/IMの「自動アクション」機能を利用して通報通知します。自動アクションの実行から「\n除外\n」する事で通報通知を抑止できます。JP1/IMの共通除外条件にて自動アクションの実行から除外する方法をご案内します。また、バージョン9.5以降から利用できる「\n適用期間\n」(定期的な時間帯の抑止)についても併せてご紹介します。\nJP1/IMの自動アクション対象から通報通知を除外する方法\n定期的な時間帯に通報通知を抑止するためには、JP1/IMの自動アクション対象から除外できるように以下の設定をする必要があります。\n※デフォルト設定ではご利用できません。\n●共通除外条件を基本モードから拡張モードに変更する\n※前提としてJP1/IMの\n統合監視データベース\nを利用している必要があります。\n●拡張モードの共通除外条件で通報通知のイベントを除外する\n共通除外条件を基本モードから拡張モードに変更する\n1. JP1/IM-Managerのサービスを停止\n2. 以下コマンドを実行\n[Windowsの場合]\n> jcochcefmode -m extended\n[UNIX系の場合]\n# /opt/jp1cons/bin/jcochcefmode -m extended\n3. JP1/IM-Managerのサービスを起動\n上記コマンドを実行をすると、JP1/IMの共通除外条件の画面が、以下画面のようになります。\n※上記はバージョン11-50以降の画面です。11-10以前に「除外対象」の項目はございません。\n拡張モードの共通除外条件で通報通知のイベントを除外する\nここでは下記条件で通報通知を抑止する例を記します。\n・曜日と時間：月曜日 22:00 ～ 火曜日 2:00\n・重要度　　：エラー以上\n1.[共通除外条件]タブの画面左下の属性名から「重大度」を選択し「重大度を指定する」にラジオボタンを移動\n2.下記の通りチェックを付ける\n✔緊急　✔警戒　✔致命的　✔エラー\n3.画面右の「追加」を押下\n4.[適用期間]タブの「時間設定」で下記の通り指定\n✔月曜\n22時00分　から　2時00分　まで\n5.[除外対象]を[イベントを取得しアクションの実行対象外にする]のラジオボタンにチェックを入れる\n※バージョン11-50以降の場合\n6.「OK」を押下して設定を保存\n本設定にて、エラー以上のJP1イベントを\n月曜22:00～火曜02:00\nのメンテナンス時間に「自動アクション」の実行対象から外し、且つJP1イベントをJP1/IM-View上の画面に残す事ができます。下図のように通報通知を抑止できます。\n[補足]\n11-10以前は、除外対象とするとJP1イベントがJP1/IM-Viewの画面にも表示されませんでしたが、11-50より除外対象となったJP1イベントは右図のアイコン付きで画面に表示されるようになり、除外対象としていることも一目で判別できるようになりました。\nまとめ\n今回は、シンプルで簡単な自動アクションからの通報通知の除外方法をご紹介しました。メールなどによる通報通知を抑止したい場合に、是非ご利用ください！\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Integrated Management - Manager (JP1/IM-Manager) 09-50以降\nJP1/Integrated Management - View (JP1/IM-View) 09-50以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n本田 祐次\n2007年7月アシストに中途入社し一貫してJP1の顧客サポートを担当。「JP1サポート技術者ブログ」の編集リーダー。「JP1認定シニアコンサルタント」の資格保有者。このブログでは、知って便利な情報を紹介したいと思います。\n最近は、CSのセミナーを受講した入り、自動化やAIについて考えたりしています。AIは覚えさせるのが大変みたいですね。JP1でもAIを管理する製品がでたらいいのになと思っています。\n関連している記事\n統合管理\n2023.05.16\n【JP1/IM】JP1初心者向け！ログファイル監視の設定方法を解説（後編）\n定期的なサーバ再起動やメンテナンス時に、不要な通報通知を抑止する方法をご紹介します。\n統合管理\n2023.05.09\n【JP1/Base】JP1初心者向け！ログファイル監視の設定方法を解説（前編）\n定期的なサーバ再起動やメンテナンス時に、不要な通報通知を抑止する方法をご紹介します。\n統合管理\n2021.10.28\n【JP1/TELstaff】JP1イベントを素早く確認！JP1/TELstaffで簡単にチャットツールと連携\nJP1/TELstaff は電話やパトランプ、メール通知を柔軟に設定出来るソフトウェアですが、V12より、LINE WORKSおよびSlackへの通知が正式にサポートされました。ここでは具体的な設定手順についてご紹介します\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202009_pfm_check.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/PFM】ツール自体は大丈夫？ 予期せぬ監視停止などのトラブルを防ぐ、「JP1/PFM」のヘルスチェック！\nContent:\nパフォーマンス管理\n2020.09.28\n【JP1/PFM】ツール自体は大丈夫？ 予期せぬ監視停止などのトラブルを防ぐ、「JP1/PFM」のヘルスチェック！\nJP1はシステムの運用管理を行う製品ですが、JP1自体に障害が発生してしまうとシステムの運用監視は行えなくなります。JP1の健康状態の管理「ヘルスチェック」を行うことで、JP1自体の不調を素早く検知することができます。\nそこで本記事では、サーバや様々なアプリケーションの監視を行う「JP1/PFM」のヘルスチェック機能についてご紹介します。\nヘルスチェックの概要\nJP1/PFMのヘルスチェック機能には「サービス稼働状態監視」と「ホスト稼働状態監視」の2種類の監視方法が用意されています。「サービス稼働状態監視」は、各JP1/PFMエージェントのサービス稼働状態の監視が可能です。一方「ホスト稼働状態監視」は、各エージェントの死活監視のみを行います。なお、どちらの方法でもJP1の統合管理製品であるJP1/IM - Managerに、ヘルスチェックのイベントを出力させることで、JP1/IM - Managerから異常通知を行う運用が可能です。\n今回はJP1/PFM自身のサービス障害検知のための機能である「サービス稼働状態監視」についてご説明します。「サービス稼働状態監視」を行うと、JP1/PFMの各エージェントで正しく監視が行えているか、監視対象のホストが稼働しているかを監視することができます。\n前提条件\nサービス稼働状態監視を行うための前提条件は下記の通りです。\n①名前解決\nJP1/PFM - Managerホストのjpchostsファイル、hostsファイルまたはDNSでJP1/PFM - Agentホストの監視ホスト名（Windowsの場合はhostname、UNIXの場合はuname -n、監視ホスト名機能を使用している場合はエイリアス名）と通信可能なIPで名前解決ができている必要があります。\n②バージョン\nサービスの稼働状態監視はステータス管理機能を利用します。そのため、対象エージェントがステータス管理機能に対応している必要があります。利用するための前提バージョンは下記の通りです。\n・JP1/PFM - ManagerとJP1/PFM - Web Consoleは08-11以降\n・JP1/PFM - Agentの場合、ステータス管理機能に対応したバージョン\n（製品によって異なるため、詳細はマニュアルを参照してください。なお、バージョン09-00以降であればすべての製品で対応しています。）\nヘルスチェックエージェントの有効化手順\nヘルスチェックによるサービス稼働状態監視は、マネージャとエージェントの両方で設定を有効化する必要があります。マネージャではヘルスチェックエージェントをセットアップして有効化し、エージェントはステータス管理機能を有効にします。\n設定手順は以下の通りです。\nJP1/PFM - Managerでヘルスチェックエージェントを有効化する（マネージャの設定）\n1.下記コマンドでヘルスチェックが有効かどうかを確認します。\njpcconf hc display\navailable：ヘルスチェックは有効です。\nunavailable：ヘルスチェックは無効です。\n「unavailable」だった場合は、2.以降の手順で有効化してください。「available」の場合はマネージャでの有効化手順は以上です。\n2.JP1/PFM - Managerと同じサーバ内にインストールされている全てのPFMのサービスを停止します。\njpcspm stop -key jp1pc\n3.ヘルスチェックを有効化するコマンドを実行します。\njpcconf hc enable\n4.ヘルスチェックが有効になったかどうかを確認します。\njpcconf hc display\n5.手順2.で停止したサービスを開始します。\njpcspm start -key jp1pc\n以上で、マネージャサーバのヘルスチェックエージェントが有効になります。\nJP1/PFM - Base でステータス管理機能を有効化する（エージェントの設定）\nヘルスチェックによるサービス稼働状態監視は、JP1/PFM - Base(Manager)でステータス管理機能が有効になっている必要があります。なお、バージョン08-00以降のJP1/PFM - ManagerまたはJP1/PFM - Baseを新規にインストールした場合、デフォルトで有効に設定されますので、設定方法の説明は省略します。\nヘルスチェック設定のデフォルト値\nヘルスチェックエージェントを有効化したときのデフォルト値は下表の通りです。(主要項目のみ抜粋しています)\nサービス階層内\nフォルダ名\nプロパティ名\n説明\nDetail Records - HC\nLog\n監視結果のデータを保存するかどうかを指定する。デフォルト値はNo。\nYes：パフォーマンスデータを保存する。\nNo：パフォーマンスデータを保存しない。\nCollection Interval\n収集間隔を0〜2,147,483,647の範囲で指定する。単位は秒。\nデフォルト値は300。なお、ここで指定した値がヘルスチェック機能の\nポーリング周期となる。\nHealth Check Configurations\nMonitoring Level\n監視レベルを指定する。サービスの稼働状態を監視したい\n場合は「Service」を、エージェントホストの稼働状態を\n監視したい場合は「Host」を指定する。デフォルト値はHost。\nヘルスチェックエージェントでは、デフォルトで監視レベルが「Host」になっています。サービス稼働状態監視をするため、設定を「Service」に変更します。変更手順は下記の通りです。\nヘルスチェック設定のデフォルト値を変更する\n1.JP1/PFM - WebConsoleにログインし、[サービス階層]を開きます。\n2.ナビゲーションフレームの[PFM - Manager]を開き、[ホスト名<HealthCheck>]をクリックします。\n3.メソッドフレーム内の[プロパティ]をクリックし、サービスのプロパティ一覧を開きます。\n4.[Health Check Configurations]を開き、[Monitoring Level]を「Host」から「Service」に変更します。\n5.右下の[完了]ボタンをクリックして適用します。\nヘルスチェックの結果をJP1/IMに通知する\nヘルスチェックエージェントで検知したJP1/PFMエージェントの異常を、JP1イベントとしてJP1/IMに通知することができます。デフォルトでは通知しない設定になっているため、有効化することでヘルスチェックで検知したエージェントの状態変化をJP1/IMに通知します。\nなお、本手順でJP1イベントとしてJP1/IMに通知するためには、JP1/PFM - ManagerがインストールされているサーバにJP1/Baseがインストールされている必要があります。\n設定手順は下記の通りです。\n1.JP1/PFM - Web Consoleにログインし、[サービス階層]を開きます。\n2.ナビゲーションフレームの[PFM - Manager]を開き、[ホスト名<HealthCheck>]をクリックします。\n3.メソッドフレーム内の[プロパティ]をクリックし、サービスのプロパティ一覧を開きます。\n4.[Health Check Configurations]を開き、[JP1 Event]を「No」から「Yes」に変更します。\n5.エージェントの状態変化に応じてどのような重大度で通知するかを指定します。「None」の場合、通知が行われません。\n6.右下の[完了]ボタンをクリックして適用します。\n7.ヘルスチェックエージェントに、ヘルスチェック用のアラームをバインドします。始めに、[エージェント階層]を開きます。\n8.ナビゲーションフレームの[ホスト名<HealthCheck>]をクリックします。\n7.メソッドフレーム内の[アラームテーブルのバインド設定]をクリックし、バインド候補のアラームテーブル一覧を開きます。\nクリックして拡大\n8.バインドしたいアラームテーブルにチェックを入れます。なお、本記事ではバージョン12を使用しているため、上図のような候補が表示されます。お使いのバージョンによって、バインドできるアラームテーブルは異なりますので、実機にてご確認ください。\n9.[OK]ボタンをクリックすると、下図の通りバインドされた状態になります。\n上記の設定を行うと、エージェントの状態変化のたびにJP1/IMに以下のようなイベントが通知されます。\nクリックして拡大\nサービスが停止した場合\n異常状態のヘルスチェックイベントが発行されました (host=ホスト名, service=サービスID, hcsstatus=ヘルスチェック状態, Collector=Collectorの状態, Store=Storeの状態, Action Handler=Action Handlerの状態)\n※Agentが停止しているので「hcsstatus=Stopped」になっています。\nエージェントホストが停止した場合\n異常状態のヘルスチェックイベントが発行されました (host=ホスト名, service=サービスID, hcsstatus=ヘルスチェック状態, Collector=Collectorの状態, Store=Storeの状態, Action Handler=Action Handlerの状態)\n※Agentホストが停止しているので「hcsstatus=Host Not Available」になっています。\n補足\nJP1/PFM - RMの監視対象の場合のヘルスチェックについて補足します。JP1/PFM - RMの監視対象にはJP1/PFM - Baseがインストールされていないため、サービス稼働監視は行えません。全てICMPによる監視になります。\n監視できる状態は、\n・対象となる監視エージェントが稼働するホストと通信できる状態\n・対象となる監視エージェントが稼働するホストと通信できない状態\n・対象となる監視エージェントが稼働するホストの監視が一時停止している状態\nのいずれかです。\nまとめ\n今回はJP1/PFMのヘルスチェック機能によるエージェントの監視方法をご紹介しました。JP1自身の監視はどうしたらいいの？とお考えの方は、ぜひお試しください。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Performance Management (JP1/PFM) 10-00以降\nJP1/Performance Management - Remote Monitor（JP1/PFM - RM）10-00以降\nJP1/Integrated Management - Manager (JP1/IM) 10-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n居城 美紀\n1999年入社。BI系のサポートを経て2003年よりJP1担当。\n9月より本ブログ記事を担当することになりました。\nJP1サポートセンターの生き字引としてJP1のお役立ち情報を発信したいと思います。\n京都在住。最近は韓国コスメを色々試すことが楽しみです。\n関連している記事\nパフォーマンス管理\n2024.04.25\n【JP1/PFM】 エージェントレス管理の落とし穴　よく発生するエラー その原因と解決策5選\nエージェントレス型製品であるJP1/PFM-RMでの発生しがちなエラーとその解決策について、ご紹介します。\nパフォーマンス管理\n2019.09.30\n【JP1/PFM】パフォーマンス低下をいち早くキャッチ！JP1/IMとの連携で監視を一元管理\nJP1/PFMとJP1/IMを連携させることで、JP1/PFMが検知したパフォーマンス劣化をいち早くキャッチし、詳細レポートをJP1/IMから参照できるようになります。\nジョブ管理\n統合管理\nパフォーマンス管理\nネットワーク管理\n資産管理\n2019.02.07\n【JP1】Version 12の新機能一覧\n2019年1月22日、統合システム運用管理製品「JP1」から3年ぶりとなるメジャーバージョン「Version 12」がリリースされました。新製品に実装された機能を紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202010_jp1_flash.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1全般】徹底検証！ 迫るAdobe Flash Playerのサポート終了で、JP1はどうなる？\nContent:\nJP1全般\n2020.10.29\n【JP1全般】徹底検証！ 迫るAdobe Flash Playerのサポート終了で、JP1はどうなる？\n2020年度末をもって、Adobe Flash Playerのサポートが終了します。Adobe Flash Playerは、主要ブラウザで自動OFFになるなど、数年前から利用シーンも減ってきましたが、JP1製品を含め、まだまだ一部のサービスやWebページでは利用されています。\nそこで本記事では、影響が出るJP1製品に関するご案内に加え、2021年以降にAdobe Flash Playerを使おうとした場合の動作を検証した結果をご紹介します。\nAdobe Flash Playerを利用中のJP1製品\nJP1でも一部製品でAdobe Flash Playerが利用されており、サポート終了に伴い影響が出る製品があります。主要な製品と影響範囲は下記のとおりです。\nなお、Adobe Flash Playerを使用しているJP1製品については、Adobe Flash Playerのサポート終了後も製品サポート自体は継続されます。ただ、Adobe Flash Playerが起因となる障害については対応出来ない可能性がありますので、ご注意ください。\n管理画面全体でAdobe Flash Playerが使用されている製品／対象バージョン\n製品名\n影響がでる対象バージョン※\n影響範囲\nJP1/IT Desktop Management - Manager\nV9~V10\nリモートコントロール、コマンドを除く機能が使用不可となります。 具体的には、管理用サーバの操作画面（管理コンソール）が使用できません。 エージェントは、Adobe Flash Player提供終了に伴う影響はありません。\nJP1/IT Desktop Management 2 - Manager\nV11～V12（12.0）\nリモートコントロール、コマンド、Asset Console、リモートインストールマネージャを除く機能が使用できなくなります。具体的には、管理用サーバの操作画面（管理コンソール）が使用できません。 エージェントに関しては、Adobe Flash Player提供終了に伴う影響はありません。\nJP1/IT Desktop Management 2 - Operations Director\nV11～V12（12.0）\nリモートコントロール、コマンドを除く機能が使用できなくなります。 具体的には、管理用サーバの操作画面（管理コンソール）が使用できません。 エージェントに関しては、Adobe Flash Player提供終了に伴う影響はありません。\nJP1/Automatic Operation\nV10～V11（11.0）\nGUIが使用できなくなり、新たなコンテンツが作成できなくなります。\n※JP1/IT Desktop Management - Managerは開発が終了しているため、対策版のリリースはございません。後続製品のJP1/IT Desktop Management 2 - Managerへバージョンアップをお願いいたします。\nまた、（）に記載のバージョンよりも1つでもリビジョンが上のバージョンに関しては、対策済です。表記が（12.0）の場合、12.1であれば対策済のためAdobe Flash Playerによる影響はでません。\n画面の一部でAdobe Flash Playerが使用されている製品\n製品名\n影響がでる対象バージョン\n影響範囲\nJP1/Network Node Manager i\nV9～V11（11.1）\nV11：NNMiの性能監視データのグラフ表示機能のみ使用できなくなります。\nV9・10：NNMiのMIBブラウザおよび性能監視データのグラフ表示機能のみ使用できなくなります。\nサポート終了後、Adobe Flash Playerコンテンツを開いた場合の動作\nAdobe Flash Playerサポート終了情報ページ\nによると、2021年以降は、Adobe社からAdobe Flash Playerがダウンロードできなくなる、と記載があります。（2020年10月現在ではダウンロード可能であることを確認しています。）\nそのため、2021年以降は新規にAdobe Flash Playerを入手、インストールすることはできませんが、これまでAdobe Flash Playerを利用していた環境ではしばらく利用できると想定されます。\nそこで、OSのシステム日時を2021年以降に変更し、各ブラウザでの動作を検証しました。\n※検証結果は本記事作成時点（2020年10月21日）で、インターネットから入手可能な最新バージョンで確認した動作結果となります。今後、各ブラウザやマイクロソフト社から提供されるアップデートの内容や、Adobe Flash Playerのバージョン、仕様変更により異なる動作となる可能性がありますので、ご了承ください。\n検証方法\n1.Windows10 Professionalの環境へ、下記製品をインストール\n※Internet Explorer 11については機能アップデートごとのバージョンで確認\n製品名\nバージョン\nAdobe Flash Player 32\n32.0.0.445\nFireFox\n82.0\nGoogle Chrome\n86.0.4240.111\nMicrosoft Edge（旧）\n各バージョンでインストール済みのものを使用\nMicrosoft Edge（新）\n86.0.622.48\nInternet Explorer 11\n11.379.17763.0\n更新バージョン：11.0.115（KB4489873）\nインストール先：Windows10 1809\n11.535.18362.0\n更新バージョン：11.0.165（KB4530677）\nインストール先：Windows10 1903\n11.535.18362.0\n更新バージョン：11.0.165（KB4530677）\nインストール先：Windows10 1909\n11.572.19041.0\n更新バージョン：11.0.210（KB4577010）\nインストール先：Windows10 2004\n2.OSの[日付と時刻]を、2020年10月21日から2021年10月21日に変更\n3.管理コンソールにAdobe Flash Playerを利用しているJP1/IT Desktop Management 2 - Manager V11のログイン画面へアクセスし、画面が表示されるかを確認\n検証結果\nInternet Explorer 11\n＜KB4561600※未適用の場合＞\nWindows10 1809、1903、1909は問題なく表示できましたが、Windows10 2004の場合は表示できませんでした。\n※Microsoft社提供のAdobe Flash Player のセキュリティ更新プログラム\n【Windows10 1909×Internet Explorer 11】\n【Win10 2004×Internet Explorer 11】\n※表示されたアイコンをクリックすると、\nAdobe Flash Player終了アナウンスのページ\nが表示されます。\n＜KB4561600適用済みの場合＞\nすべてのバージョンで表示できませんでした。\nGoogle Chrome　86.0.4240.111\nGoogle ChromeではAdobe Flash Playerの画面が表示が出来ませんでした。\nFirefox　82.0\nFireFoxでも同様の画面になり、表示出来ませんでした。\nMicrosoft Edge（旧）\nMicrosoft Edge（旧）ではKB4561600が\n未適用\nの場合、管理画面を表示することができましたが、KB4561600を適用している場合は表示が出来ませんでした。\n【KB4561600未適用×Microsoft Edge（旧）】\n【KB4561600適用×Microsoft Edge（旧）】\nMicrosoft Edge（新）　86.0.622.48\nアイコンが変わった新しいMicrosoft Edgeでは、KB4561600の適用の有無にかかわらず、管理画面を使用することができませんでした。\nまとめ\n2021年以降もAdobe Flash Playerが動作することを確認できたのは、「Windows10 1909以下」の「KB4561600」を\n適用していない\nInternet Explorer 11およびMicrosoft Egde（旧）でした。\n製品名\nバージョン\nKB4561600未適用\nKB4561600適用\nFireFox\n82.0\n×\n×\nGoogle Chrome\n86.0.4240.111\n×\n×\nMicrosoft Edge（旧）\n各バージョンでインストール済みのものを使用\n〇\n×\nMicrosoft Edge（新）\n86.0.622.48\n×\n×\nInternet Explorer 11\n11.379.17763.0\n更新バージョン：11.0.115（KB4489873）\nインストール先：Windows10 1809\n〇\n×\n11.535.18362.0\n更新バージョン：11.0.165（KB4530677）\nインストール先：Windows10 1903\n〇\n×\n11.535.18362.0\n更新バージョン：11.0.165（KB4530677）\nインストール先：Windows10 1909\n〇\n×\n11.572.19041.0\n更新バージョン：11.0.210（KB4577010）\nインストール先：Windows10 2004\n×\n×\n本検証結果がお客様運用の一助となれば幸いです。\n検証の中で、動作確認のためGoogle ChromeおよびMicrosoft EdgeでJP1画面を開いていますが、JP1製品では未サポートのブラウザとなります。JP1製品でAdobe Flash Playerをお使いの場合、各製品のサポート対象ブラウザにてご利用いただきますようお願いいたします。\nなお、Adobe Flash Playerを使用するバージョンのJP1製品をお使いのお客様で、バージョンアップをご希望の場合、\nアシストサポートセンター\nにて最新バージョンメディアの手配やバージョンアップに関するお問い合わせを受け付けております。Adobe Flash Playerのサポート終了に合わせ、計画的なバージョンアップをご検討いただければと思います。\nJP1は、株式会社日立製作所の商標または登録商標です。そのほか記載されている会社名、製品名は、各社の商標または登録商標です。\nー補足ー　Adobe Flash Playerについて\nAdobe Flash Playerは、1996年にMacroMedia Flashとして登場後、当時の単純なHTML企画では表現出来ない画像や音声を使ったコンテンツのプラットフォームとして1999年頃から一般にも広く認知されるようになりました。2005年に開発元のMicroMedia社からAdobeに買収され、現在のAdobe Flash Playerという名前になり年々進化してきました。\nしかし、セキュリティ上の脆弱性となることも多く、Internet Explorer10やGoogle Chrome5以降では自動的にアップデートが行われるようになっています。\n直近のWindowsの対応としては、Flashの脆弱性を解決するための更新プログラムとして、2020年6月に「Adobe Flash Player のセキュリティ更新プログラム」という名称で更新プログラムがリリースされています。本プログラム（KB4561600）を適用すると、Adobe Flash Playerの既知の脆弱性が解決されますが、2021年以降の動作にも影響を与えるようです。（こちらについては上記検証結果のとおりです）\nMicrosoft社の\nアナウンス\nによると、上記とは別に「Update for Removal of Adobe Flash Player」という更新プログラムが2020年秋以降、Microsoft Updateで提供されるとのことです。（Windows UpdateおよびWSUSでは2021年初頭）この更新プログラムをインストールすることで、Adobe Flash PlayerがWindowsから永続的に削除され、二度とAdobe Flash Playerが使えなくなる予定です。\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n西尾 高治\n2003年入社。JP1のフィールドエンジニアを経て2015年よりJP1サポートセンターにて勤務。\n2020年9月より本ブログ記事を担当することになりました。JP1を利用されている方に少しでもお役に立てる情報を提供したいと思います。\n奈良在住。最近は家庭菜園にハマっています。\n関連している記事\nJP1全般\n2025.06.27\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2026年3月に限定サポートが終了するVersion9から、JP1の最新バージョンである Version13に移行するにあたって検討すべきことをまとめました。\nJP1全般\n2025.02.27\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\nJP1サポート技術者が、お客様によくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介します。\nJP1全般\n2024.09.30\n【JP1全般】JP1新バージョン「V 13.1」の 新機能を一挙紹介！\n2024年9月30日にリリースされたJP1の新バージョン「Version 13.1」の新機能一覧をご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202012_jp1_nnmi_alert.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/NNMi】そのアラート重要なの？！JP1/NNMiのヘルスチェック機能が出力する「NNMi稼働状態ステータス」とは\nContent:\nネットワーク管理\n2020.12.22\n【JP1/NNMi】そのアラート重要なの？！JP1/NNMiのヘルスチェック機能が出力する「NNMi稼働状態ステータス」とは\nJP1/NNMiは、「NNMi稼働状態ステータスは現在xxx域です」というメッセージを出力することがあります。このメッセージが出力された時、何をどう確認すべきか判断ができず、弊社サポートセンターへ問い合わせをいただく例が少なくありません。\nそこで本記事では、前述のメッセージの意味と確認方法をご紹介します。\n「NNMi稼働状態ステータスは現在xxx域です」が示す事象\nこのメッセージは、JP1/NNMiがヘルスチェックを実施した結果、問題があると判定した場合に出力するメッセージです。具体的には、メモリ・CPU・ディスクリソースといったJP1/NNMiを導入しているホストのOS稼働状況などをチェックします。\nこのヘルスチェックは、監視間隔やしきい値など具体的なチェック方法を一般公開しておらず、また設定変更もできないため、メッセージが出力された際は、その都度詳細を確認し、「対処が必要な状態か」を管理者が判断する必要があります。\nメッセージの詳細確認手順と、対処要否の判断\n詳細確認手順\nJP1/NNMiのコンソール画面を立ち上げて、当該メッセージを選択し、画面右下の[カスタム属性]タブを選択します。\n上記の場合、「スワップ領域の低下」が要因となり、メッセージが出力されています。スワップ領域の低下は、一時的なものであれば特に対処は必要ありません。\nこのように、当該メッセージが発行された場合は、[カスタム属性]タブにて詳細を確認し対処の判断をします。ステータスが「重要警戒域」の場合は重要なメッセージであるように思われがちですが、上記例のように一時的で対処が不要な場合も多々ありますので、まずは慌てずカスタム属性タブを確認してください。\n直近のJP1/NNMiヘルスチェック結果を確認\n前述した確認手順は、メッセージが発行された日のヘルスチェックの結果であり、現在の状態を示すものではありません。また、ヘルスチェックの結果が正常であった場合はメッセージが発行されないため、直近のヘルスチェック結果を確認するためには、下記の通り別画面を参照する必要があります。\nJP1/NNMiのコンソール画面を立ち上げて、[ヘルプ]→[システム情報]を選択。表示された[システム情報]画面の[ヘルス]タブを選択します。\nまとめ\n一見すると意図が分からないメッセージに思われがちですが、カスタム属性を確認するだけで詳細が判明しますので、ぜひご確認いただければと存じます。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Network Node Manager i (JP1/NNMi) 11-00以降\nJP1/Cm2/Network Node Manager i (JP1/Cm2/NNMi) 09-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n栗山 綾美\n2012年、株式会社アシスト入社。セキュリティ製品を担当後、2013年より\nJP1の顧客サポートを担当。「JP1認定シニアコンサルタント」の資格保有者。\nサポートの経験を活かしたブログを目指します。\n趣味は、夢と魔法の国(と、冒険とイマジネーションの海)に行くこと。\n関連している記事\nネットワーク管理\n2024.02.22\n【JP1/NNMi】入門編！JP1の基本用語を理解しよう！\nJP1/NNMiのヘルプやマニュアルを読む上で理解しておきたい、JP1の基本用語について解説します。\nネットワーク管理\n2023.01.31\n【JP1/SSO】JP1 V12.6新機能 SSOコンソールでユーザリソースを定義するには\nJP1/SNMP System Observer（JP1/SSO） V12.6の新機能で、SSOコンソールに [ユーザリソース定義作成] 画面が追加されました。\nネットワーク管理\n2020.03.30\n【JP1/NNMi】不要なエラーイベント発行を「抑止」！ 定期メンテナンス時に、計画的に死活監視を停止する方法\n不要なエラーイベント発行を「抑止」！ 定期メンテナンス時に、計画的に死活監視を停止する方法をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202101_jp1_ajs3_ds.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup][Design]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】DataSpider Servistaの処理をJP1/AJS3で実行すべき 「3つの理由」\nContent:\nジョブ管理\n2021.01.27\n【JP1/AJS3】DataSpider Servistaの処理をJP1/AJS3で実行すべき 「3つの理由」\nデータ連携（EAI）ツールとして4,000社以上に導入されているDataSpider Servista(※)の処理（スクリプト）を実行するために、JP1/AJS3が採用されるケースが増えてきています。そこで本記事では、DataSpiderの処理をJP1/AJS3で実行すべき理由と、実際にJP1/AJS3で設定する場合に注意してほしいポイントを解説します。\n(※)\nDataSpider Servista\n(以下、DataSpider)は、異なるシステムのデータやアプリケーションをノンプログラミングで「つくらずにつなぐ」データ連携（EAI）ツールです。\nDataSpiderの処理をJP1/AJS3で実行すべき3つの理由\nDataSpiderにはスケジューラー機能があるため、単体で実行することも可能ですが、対象が重要なシステムであればあるほど、アシストではJP1/AJS3で実行することをお勧めしています。その理由は大きく3つあります。\n①監視が可能\nJP1/AJS3から実行することで処理の監視が可能です。失敗した場合に管理者に通知することはもちろん、DataSpider側の障害が発生している場合にはジョブが失敗するため、DataSpiderの障害を早期に検知することにも繋がります。\nまた、JP1/AJS3には遅延監視機能があるため、想定時間内に処理が開始・終了していない場合にも管理者に通知することができます。特に重要なシステムで早期に障害を検知する必要がある場合はJP1/AJS3での実行・監視をご検討ください。\n②処理の全体像の把握が可能\n大規模、重要なシステムの場合はDataSpider単体の処理ではなく他システムとの連携が発生する場合がほとんどです。その場合、DataSpiderの処理の前処理、後処理をJP1/AJS3で定義することができます。また、JP1/AJS3 - View画面で、どこまで処理が進んでいるかを把握できます。さらに、メモリ不足などOSの障害でサーバが再起動することになった場合、JP1/AJS3から実行していれば、再起動前にどこまで処理が動いていたか、どこから再実行すべきかを早期に判断できます。\n③多重度の制御が可能\nDataSpiderではデフォルトで多重実行が100個のため、処理命令があった場合に処理の負荷と無関係に100個まで同時に実行しようと試みます。しかしサーバの能力的に実行できない場合は障害に繋がります。DataSpiderの処理をJP1/AJS3で実行することにより、柔軟な多重実行の制御が可能になります。例えば負荷の軽い処理は多重度を多く、重い処理は多重度を少なく、といった実行方法が実現できるためシステムの安定運用に繋がります。\nJP1/AJS3に実装する場合に考慮が必要なポイント\n本章では、実際にDataSpiderの処理をJP1/AJS3で実行する場合に、事前に把握しておくべき注意点や、設定をご紹介します。\n①DataSpiderとJP1/AJS3は同じサーバに導入する\nDataSpiderのスクリプトはリモートのScriptRunner.exeから実行命令が可能なので、JP1/AJS3とDataSpiderのサーバを分けて導入するケースがあります。その場合、スクリプトが正常に終了していてもScriptRunner.exeに結果が正しく返されず、戻り値が「0」とならないことがあるため、JP1/AJS3のしきい値判定では異常終了というステータスになります。JP1/AJS3が正しい終了判定をするため、DataSpiderの処理をJP1/AJS3から実行する場合は、2製品を同じサーバに導入することをアシストでは推奨しています。\nもし、サーバを分ける必要がある場合は、終了判定にはファイル判定をお勧めします。JP1/AJS3で実行ファイル（バッチファイルなど）を実行した場合、その実行ファイルが正常に終了したかを判定する手段は下記の2つがあります。\n・終了コードのしきい値\n・ファイルの有無\nScriptRunner.exeが正常に終了したかを終了コードを使用して判断させると、前述の通りJP1/AJS3が正しい終了判定を下せないケースがあります。そのため、ScriptRunner.exeから呼び出すスクリプト内で処理終了後に判定用のファイルを作成するようにしておき、そのファイルの存在有無をもってJP1/AJS3で終了判定をさせることで、より正確に判定できます。\n②ネットワーク資源は使用しない\nJP1/AJS3はネットワーク上の資源（共有フォルダのファイルなど）を扱うことが不得手な製品です。また、処理の安定性の面からもお勧めしていません。そのため、ネットワーク上のファイルを使用する処理はなるべく行わず、事前にローカルにコピーするなどしてローカルのファイルを使用する処理にすると、ジョブ実行がより安定します。\n③JP1からScriptRunner.exeの処理は止められない\nJP1/AJS3は、実行中のジョブを手動または指定した実行時間で強制終了することはできますが、終了できるのはバッチファイルやScriptRunner.exeのみです。そのためScriptRunner.exeから実行されている実際のDataSpider上の処理は止めることができません。この点を踏まえた運用設計を行ってください。\n④パスはフルパスで指定する\nScriptRunner.exeへのパスはインストール時には通っていないため、PATH環境変数を指定しない場合、ScriptRunner.exeへのパスはバッチファイル内でフルパスで指定してください。（JP1/AJS3はユーザ環境変数をジョブ実行時に読み込みません。環境変数を指定する場合はシステム環境変数を使用してください。）\n⑤遅延監視を実装する\nDataSpiderはEAIツールの特性上、色々なクラウド上のサービスへ接続することができます。\nそのため、ネットワークの瞬断等によりクラウドとの通信でレスポンスをうまく受信できず、処理が実行中のまま止まってしまうケースがあるため、遅延監視を設定することをお勧めします。DataSpiderには処理遅延を監視する機能がないため、もし遅延を監視したい場合は作りこみが必要ですが、JP1/AJS3では簡単にGUIで遅延監視を設定しておくことができるため、障害を簡単・早期に検知することが可能です。\n⑥ジョブの実装は再実行の単位で行う\n何か問題が発生し、ジョブを再実行するケースを想定し、スクリプトの開発、実装を行ってください。具体的には、1つのDataSpiderの処理（スクリプト）に複数の処理をまとめてしまうと、ジョブ再実行はそのスクリプトを最初から実行することになるため、既に正常に実行済みの処理も再度実行することになります。そのため、スクリプトは再実行する単位に分割して作成し、JP1/AJS3でジョブという単位で実装することをお勧めします。これにより、障害発生時には必要な処理単位での再実行が可能になります。下図は、DataSpiderの一連の処理をJP1/AJS3のジョブに分割した例です。\n⑦引数を渡す方法\nScriptRunner.exeは実行時に実行対象の定義が記述されている起動定義ファイル(*.xml)の指定が必要です。指定はJP1/AJS3のPCジョブのパラメーター欄に定義します。定義方法は下記の通りです。\n仮にScriptRunner.exeを実行するバッチファイル内で\n---------------------------------------------\nScriptRunner.exe  %1\n---------------------------------------------\nと指定している場合、PCジョブは以下のように定義してください。\nまた、「*.xml」ファイルの中でさらにパラメーターを変数化し、バッチファイル内で\n---------------------------------------------\nScriptRunner.exe %1 %2 %3\n---------------------------------------------\nのように複数パラメーターを指定して実行が必要な場合は、PCジョブは以下のように定義してください。\n引数を渡す手順は以上です。\nまとめ\n今回はJP1のNo.1ディストリビューターであり、Dataspiderの販売、サポート実績No.1であるアシストならではの運用ノウハウをご紹介させて頂きました。JP1とDataSpiderの導入をご検討の場合は是非アシストにご相談ください。\n今回の記事と併せてご覧いただくと、より理解を深めていただける動画を公開しました。こちらもぜひご覧ください。\n「DataSpider」「DataSpider Servista」、その他関連製品名は株式会社セゾンテクノロジーの登録商標または商標です。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 (JP1/AJS3) 09-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n居城 美紀\n1999年入社。BI系のサポートを経て2003年よりJP1担当。\n2020年9月より本ブログ記事を担当することになりました。\nJP1サポートセンターの生き字引としてJP1のお役立ち情報を発信したいと思います。\n京都在住。最近は韓国コスメを色々試すことが楽しみです。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202102_jp1_v12.5.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1全般】JP1新バージョン「V 12.5」の 新機能を一挙紹介！\nContent:\nJP1全般\n2021.02.24\n【JP1全般】JP1新バージョン「V 12.5」の 新機能を一挙紹介！\nJP1の最新バージョン「Version 12.5」が2021年1月21日にリリースされました。そこで本記事では、Version 12.5の新機能一覧をご紹介します。アシストが厳選するおススメ機能の詳細は、別記事でご紹介していきます。\n「統合管理製品」の新機能一覧\n●\nJP1/IM2\n・OpenID Connectによる認証連携\n・SlackやMicrosoft Teamsなど、関係者と直接コミュニケーションがとれるトークルームやチャネルへアクセスするコミュニケーションサービスカスタムUIとの連携テンプレートを提供\n・ServiceNowやメールなどから、業務インパクトやイベント詳細をすばやく確認するため、ダイレクトアクセスURLを強化\n・JP1イベント送受信について、関連を自動生成する条件を拡充\n・構成変更時の反映時間を大幅短縮\n・関連ノードの表示画面にて、IM管理ノードにアイコンを表示\n・IM管理ノードの上限数を15万ノードに拡張し、大規模環境での統合管理を実現\n●\nJP1/IM2、JP1/SSO\n・JP1製品の情報確認や操作がJP1/IM2から可能になり、運用の統合管理が実現\n●\nJP1/Base\n・JP1/AJS3、JP1/IM2などJP1/Baseを前提とする製品を導入したままJP1/Baseをアンインストールできないようチェックを強化\n・統合トレースログのファイルサイズに設定できる上限について、コマンドとGUIの仕様を統一\n「ジョブ管理製品」の新機能一覧\n●\nJP1/AJS3 - Manager\n・Amazon Web Services関連サービス（Amazon Simple Storage Service{Amazon S3}、Step Functions ）と連携するカスタムジョブを提供\n・HTTP接続ジョブの機能拡張によって、外部サービスと連携した運用を簡略化。機能拡張の内容は下記の通り。\n- 終了コードのカスタマイズ\n- HTTPレスポンスの出力データ整形\n- URLパラメーターとメッセージボディの同時指定\n・エージェントホスト側にジョブ実行結果を出力する新規ログファイルを追加\n・実行予定がないユニットに待ち合わせ条件が設定されている場合に、待ち合わせ対象の終了を待つことが可能に\n・起動条件が大量に成立した際に、統合トレースログがラップアラウンドされることを防ぐため、統合トレースログへの起動条件成立メッセージの出力を抑止可能に\n・ログファイル容量拡張のための業務停止や、容量不足に起因するログ取得漏れに伴う、障害調査の長期化を低減するため、ジョブ実行時に出力される非公開ログの初期値を拡張\n●\nJP1/AJS3 - Manager [Web Console]\n・Web GUIで実行エージェントの表示および操作が可能になったことで、実行エージェントの状態を考慮した業務監視や対応を実現\n・Web GUIで待ち合わせ条件の状態一覧を確認可能に\n・Web GUIで待ち合わせジョブネットコネクタの接続元、接続先の情報を確認可能に\n●\nJP1/AJS3 - Manager [Web Console]、JP1/AJS3 - View\n・ウィンドウの上下に、接続先を示すテキストや色のバーを表示することで、接続先誤認による誤操作を防止\n●\nJP1/AJS3 - View[PO]、JP1/AJS3 - Manager[POM]\n・ジョブ運用情報の転送やジョブ定義内容のマップ出力、ジョブネットフロー出力をコマンドから実行可能に\n・帳票を出力する際、ExcelレスでExcel形式のマップ出力、ジョブネットフロー出力が可能に\n●\nJP1/CPA\n・指定したユーザーアカウントで、コマンド実行やファイルイベント監視といったアクションやイベントを実行可能に\n・カスタムアイテムやジョブといった定義情報の保存を、コマンドインターフェースで実行可能に\n「ネットワーク管理製品」の新機能一覧\n●\nJP1/NNMi\n・任意のMIB値の収集（カスタムポーラー）の収集状態（アクティブ、停止など）をコマンドだけではなく、GUIからも一括で変更可能に\n・任意のMIB値の収集における2つの連続したポーリング間の差分に対して、閾値が設定可能に\n・MIB式を入力する際、ツリー上でMIB変数をインクリメンタルサーチすることが可能に\n・インシデント設定コマンド（nnmincidentcfg.ovpl）でMIBモジュール名を指定することで、該当のMIBモジュールからロードしたSNMPトラップのインシデント定義をアンロード可能に\n・ノードおよびシードがコマンドで一括削除可能に。インシデント設定（ライフサイクル移行アクションなど）が一覧で確認可能、かつ設定内容一覧をCSVファイルとしてエクスポート可能に\n・インシデントの自動トリム機能でインシデントをアーカイブする際の面数、ファイルサイズの上限が設定可能に\n・GUIではなく設定ファイルの編集が必要となる特殊なSNMPv3 Engine ID設定において、JP1/NNMiを再起動せずにコマンドで設定ファイルをリロード可能に\n・リアルタイムグラフからFlash版が削除\n・インストール時にHTTPポート番号だけではなく、HTTPSポート番号も指定可能に\n・SNMPトラップ解析コマンド（nnmtrapdump.ovpl）でSNMPv3トラップを解析可能に\n・GUIでしか確認ができなかったノードグループの「追加のノード」設定がノードグループ設定コマンド（nnmnodegroup.ovpl）でも確認可能に\n・ノードの管理モード設定コマンド（nnmmanagementmode.ovpl）にて、IPアドレスを指定して管理モードを設定可能に\n・残存した一時ファイルにハードディスクが圧迫されないように、サービス開始前にクリーンアップするよう仕様変更\n「パフォーマンス管理製品」の新機能一覧\n●\nJP1/PFM - RM for VM\n・仮想化環境としてLinuxコンテナ（Podman）のリモート監視をサポート\n・CPU負荷の監視において、負荷の要因が仮想CPU数の不足なのか、スナップショットでのCPU消費なのかを切り分けできる項目（スナップショットの有無、CPU不足率、CPU競合率）を追加\n・Windows Server 2019マシンからKernel-based Virtual Machine（KVM）を監視する場合に、前提となるSSHとしてWindows同梱のOpenSSHを追加サポート\n●\nJP1/PFM - Agent for Platform\n・Red Hat Enterprise Linux 8およびCentOS 8のPodman環境において、Podmanホスト環境で動作させ、コンテナ単位のCPU使用率などの監視が可能に\n●\nJP1/PFM - RM for Microsoft SQL Server、JP1/PFM - Agent for Microsoft SQL Server\n・データベースの自動拡張の最大サイズを監視可能に\n・監視対象（Microsoft SQL Server 2016以降）とのODBC接続において、暗号化通信に対応したODBCドライバ*の使用をサポート\n* Microsoft SQL Server Native Client 11.0、Microsoft ODBC Driver 17 for SQL Server\n●\nJP1/PFM - Manager [Web Console]\n・別システムに移行するために、既存システムのレポート定義をテキスト出力する際、xmlファイルを作成しなくてもレポート定義をテキスト出力可能に\n「資産管理製品」の新機能一覧\n●\nJP1/ITDM2\n・JP1/ITDM2で管理できるシンクライアント端末（書き込みが保護されている端末）のサポート範囲を拡大\n・資産情報（関連情報との関連付け情報含む）を一括で登録可能\n・JP1/ITDM2の機器情報を取得するインターフェース（REST API）を提供し、外部システムとの連携が可能に\n・ネットワークモニター機能導入時に遮断運用のシミュレーションが可能に\n・JP1/ITDM2の管理画面への同時接続数を自動拡張可能に\n「IT運用自動化」の新機能一覧\n●\nJP1/AO\n・メンテナンス時間が超過した場合など、すでに開始予定日時を過ぎた定期実行タスク、指定日時実行タスクを実行しないようにスキップ機能を実装\n●\nJP1/AO Content Pack\n・VMware vSphere 7に対応\n執筆者より一言\nV12.5がリリースされました。 JP1/AJS3 で実装された「クラウドサービス連携ジョブ」は、AWSサービスである S3、 Step Functions と連携可能になった新しいジョブです。 オンプレミスやクラウドなどのプラットフォームが混在した環境で動作する一連の業務をJP1/AJS3で管理ができ V12.5 のイチオシポイントとなっています。\nJP1/IM2 では、各種コミュニケーションツール（SlackやTeams、office365など）への連携や 別アプリケーションの画面を呼び出したりなど、JP1/IM2 を起点にシステム全体を管理するための 機能拡充が多い印象です。\nJP1/ITDM2 で実装された「遮断運用のシミュレーション」機能を利用することで、 ネットワーク制御リスト(ホワイトリスト)の記載漏れがあったとしても、即時で遮断せずに状況を確認できます。 業務影響を出さずに検疫の動作状況を確認できるのは便利です。\n今後とも、JP1をよろしくお願いします。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 (JP1/AJS3) 12-50以降\nJP1/Integrated Management - Manager (JP1/IM) 12-50以降\nJP1/Network Node Manager i (JP1/NNMi) 12-50以降\nJP1/Performance Management (JP1/PFM) 12-50以降\nJP1/IT Desktop Management 2 (JP1/ITDM2) 12-50以降\nJP1/SNMP System Observer (JP1/SSO) 12-50以降\nJP1/Automatic Operation (JP1/AO) 12-50以降\nJP1/Client Process Automation (JP1/CPA) 12-50以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n引間 康将\n2013年、株式会社アシスト入社。Oracle製品を担当後、2015年よりJP1の顧客サポートを担当。「超サポとは感情に働きかけるサポート」を信念にお客様にご満足いただけるサポートを提供できるよう、奮闘中。\n趣味は、バイクツーリングと筋トレ\n関連している記事\nJP1全般\n2025.06.27\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2026年3月に限定サポートが終了するVersion9から、JP1の最新バージョンである Version13に移行するにあたって検討すべきことをまとめました。\nJP1全般\n2025.02.27\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\nJP1サポート技術者が、お客様によくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介します。\nJP1全般\n2024.09.30\n【JP1全般】JP1新バージョン「V 13.1」の 新機能を一挙紹介！\n2024年9月30日にリリースされたJP1の新バージョン「Version 13.1」の新機能一覧をご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202103_jp1_im_chat.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/IM2】JP1×チャットツールで実現！素早く・手軽なJP1イベントの確認手順\nContent:\n統合管理\n2021.03.29\n【JP1/IM2】JP1×チャットツールで実現！素早く・手軽なJP1イベントの確認手順\n近年、テレワークの普及もあり、メールよりもチャットツールを使ったやり取りが増えてきていますね。メーラーを見る時間よりもチャットツールを見る時間が長い、という方も多いのではないでしょうか。\nJP1製品でもJP1イベントをメール通知させる機能がありますが、インターネットへ接続可能な環境であれば、コマンドまたはスクリプト実行によるチャットツールへの連携が可能です。\nそこで、本記事ではJP1イベントをSlackおよびGoogle Chatへ連携させる手順をご案内します。\n連携環境について\n本記事では、Windows環境はPowerShell、Linux環境ではCurlを使用した連携方法を記載します。\n＜動作確認環境＞\n（Windows環境）\nOS：Windows Server 2019\nJP1バージョン：V12.1\n（Linux環境）\nOS：CentOS Linux release 7.8.2003 (Core)\nJP1バージョン：V12.1\nCurlバージョン：curl 7.29.0 (x86_64-redhat-linux-gnu) libcurl/7.29.0 NSS/3.44 zlib/1.2.7 libidn/1.28 libssh2/1.8.0\nチャットツールとの連携準備\nチャットツールとの連携にはWebhookを使用します。予めチャット側にてWebhookでpostするためのURLを発行しておきます。\n手順は下記のとおりです。\nSlack連携の場合\n1.Slackへのアプリのインストール\n事前にSlackに「Incoming Webhook」アプリケーションをインストールしておきます。アプリケーションのインストールにつきましてはSlack側にてご確認ください。\n2.Incoming Webhookの追加\nIncoming Webhookのインストール後、\n新規追加ページ\nにアクセスし、JP1イベントを通知したいチャンネルを選択、または新規作成し「Incoming Webhookインテグレーションの追加」をクリックします。\n3.作成されたWebhook URLを記録\n下記画面が表示され、Webhook URLが生成されるので、こちらのURLを控えておきます。\nGoogle Chat連携の場合\n1.チャットルームの作成\nJP1イベントを通知したいチャットルームを作成します。\n2.Webhookの設定\nチャットルーム名を選択し、表示されたメニューから「Webhookを管理」をクリックします。\n3.Webhookを作成\n任意の名前を入力し、「保存」をクリックします。\n4.生成されたWebhook URLの確認\n下記画面が表示され、Webhook URLが生成されますので、こちらのURLを控えておきます。\n連携用PowerShellスクリプトの作成\nLinux環境ではcurlコマンドでそのままpostが可能ですが、Windows環境のcurlで実行した場合、文字コードがShift-JISとなるためチャット側で文字化けしてしまいます。PowerShellのInvoke-RestMethodコマンドで文字コードを変換することで文字化けすることなくpostできるため、事前にスクリプトを用意しておきます。\n以下、サンプルスクリプトです。\n■Slack連携用スクリプト\nslacknotify.ps1\n-------------------------------------------------------------------------------------\n#文字化け防止のための文字コード変換\n$enc1 = [System.Text.Encoding]::GetEncoding('ISO-8859-1')\n$enc2 = [System.Text.Encoding]::UTF8.GetBytes($args)\n#JP1イベント格納用の変数定義\n$jp1eventnotify = @{\ntext = $enc1.GetString($enc2);\n#slack側のユーザ名を定義\nusername = \"JP1Event\";\n}\n#Invoke-RestMethodでJP1イベントをPOST\nInvoke-RestMethod -Uri \"\nhttps://hooks.slack.com/services/xxxxxxxxxxxxxxxxxxxxx/yyyyyyyyyyyyyyyyyyyy\n\" -Method Post -Body (ConvertTo-Json $jp1eventnotify)\n-------------------------------------------------------------------------------------\n■Google Chat連携用スクリプト\ngoogolechatnotify.ps1\n-------------------------------------------------------------------------------------\n#文字化け防止のための文字コード変換\n$enc1 = [System.Text.Encoding]::GetEncoding('ISO-8859-1')\n$enc2 = [System.Text.Encoding]::UTF8.GetBytes($args)\n#JP1イベント格納用の変数定義\n$jp1eventnotify = @{\ntext = $enc1.GetString($enc2);\n}\n#Invoke-RestMethodでJP1イベントをPOST\nInvoke-RestMethod -Uri \"\nhttps://chat.googleapis.com/v1/spaces/abcde/messages?key=xxxxxxxxxxxxxxxxxxxxx\n\" -Method Post -ContentType 'application/json' -Body (ConvertTo-Json $jp1eventnotify)\n-------------------------------------------------------------------------------------\n※\n赤字\n部分にそれぞれ事前に控えたWebhook URLを指定します。\n（補足）\n○PowerShellスクリプトを実行する場合、事前にコマンドプロンプトを管理者権限で起動し、下記コマンドを実行して実行許可を付与しておく必要があります。\n>Set-ExecutionPolicy RemoteSigned\n詳細につきましてはPowerShell側にてご確認ください。\n○実行環境からのインターネット接続にProxyがある場合、スクリプト内に下記設定を行うことで定義可能です。\n$proxyServer = \"http://xxx.xxx.xxx:yyyy\"\n$proxyUser = \"user\"\n$proxyPassword= \"password\"\n○本スクリプトは弊社環境にて稼働確認を行っておりますが、あくまでもサンプル提供となりますため、記載内容に関するお問い合わせはご容赦ください。\nJP1への連携設定\nWebhookのURLを発行した後、JP1側で連携するためのコマンドを登録します。JP1/IM、JP1/IM2の自動アクション機能にて、curlコマンドまたはPowerShellスクリプトを定義することで連携が可能です。\n自動アクションでは変数として$EVMSGを指定することで元のJP1イベントを引き継ぐことが可能です。\n以下、JP1/AJS3のジョブネットがエラーとなった場合（イベントID:4104）に通知する場合の設定例です。\n1.JP1/IM-Viewから[オプション]→[自動アクション設定]を開きます。\n2.[追加]をクリックし、[アクション詳細設定]画面のアクションへ、下記コマンドを指定します。\n【Slackと連携する場合：Linux環境】\n[コマンド文]\ncurl -X POST -H \"Content-type: application/json\" --data \"{'text':\"'\"?EVMSG?\"'\"}\" https://hooks.slack.com/services/xxxxxxxxxxxxxxxxxxxxx/yyyyyyyyyyyyyyyyyyyy\n【Slackと連携する場合：Windows環境】\n[コマンド文]\npowershell /c C:\\temp\\slacknotify.ps1 \"'\"$EVMSG\"'\"\n【Googleチャットと連携する場合：Linux環境】\n[コマンド文]\ncurl -H 'Content-Type:application/json' -d '{ \"text\":\"'\"?EVMSG?\"'\" }' \"https://chat.googleapis.com/v1/spaces/abcde/messages?key=xxxxxxxxxxxxxxxxxxxxx\"\n【Googleチャットと連携する場合：Windows環境】\n[コマンド文]：powershell /c C:\\temp\\googlechatnotify.ps1 \"'\"$EVMSG\"'\"\n下図はSlack連携用自動アクションの設定例です。\n上記設定によりジョブネットエラーのJP1イベント発行時にコマンドが実行され、Slack、Google Chatへメッセージが通知されます。\n▼Slackへの連携イメージ\n▼Google Chatへの連携イメージ\nまとめ\n今回はJP1イベントをチャットツールに連携する手順についてご案内しました。今回ご紹介したSlack・Google Chatの他、Microsoft TeamsやChatworkなど、ビジネス向けチャットではWebhookによる連携が可能です。\nチャット連携によりほぼリアルタイムにJP1イベントが確認できるようになるため、死活監視やジョブエラーの確認にぜひご活用ください。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Integrated Management (JP1/IM) 09-00以降\nJP1/Integrated Management 2 (JP1/IM2) 12-00以降\nJP1/Automatic Job Management System 3 (JP1/AJS3) 09-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n西尾 高治\n2003年入社。JP1のフィールドエンジニアを経て2015年よりJP1サポートセンターにて勤務。\n2020年9月より本ブログ記事を担当することになりました。JP1を利用されている方に少しでもお役に立てる情報を提供したいと思います。\n奈良在住。最近は家庭菜園にハマっています。\n関連している記事\n統合管理\n2023.05.16\n【JP1/IM】JP1初心者向け！ログファイル監視の設定方法を解説（後編）\n定期的なサーバ再起動やメンテナンス時に、不要な通報通知を抑止する方法をご紹介します。\n統合管理\n2023.05.09\n【JP1/Base】JP1初心者向け！ログファイル監視の設定方法を解説（前編）\n定期的なサーバ再起動やメンテナンス時に、不要な通報通知を抑止する方法をご紹介します。\n統合管理\n2021.10.28\n【JP1/TELstaff】JP1イベントを素早く確認！JP1/TELstaffで簡単にチャットツールと連携\nJP1/TELstaff は電話やパトランプ、メール通知を柔軟に設定出来るソフトウェアですが、V12より、LINE WORKSおよびSlackへの通知が正式にサポートされました。ここでは具体的な設定手順についてご紹介します\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202103_jp1_itdm2_V12.5.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/ITDM2】JP1 V12.5新機能のご案内『資産管理製品編』\nContent:\n資産管理\n2021.03.22\n【JP1/ITDM2】JP1 V12.5新機能のご案内『資産管理製品編』\n日立製作所は2021年1月21日、システム運用管理ソフトウェア「JP1」の新版「JP1 V12.5」の販売を開始しました。JP1は大きく4つの分野で展開していますが、本記事では「Intelligent Governance」カテゴリのJP1/ITDM2、JP1/ITDM2 - Operations Director（以下、JP1/ITDM2-ODと表記）の新機能についてご案内します。\nJP1 V12.5の新機能一覧は\nコチラ\nV12.5での主な新機能\nシンクライアント端末のサポート範囲拡大\nコロナ渦によるテレワークの増加に伴い、シンクライアント環境の利用が増えています。通常シンクライアント端末にはデータは保持されませんが、JP1/ITDM2-Agentを導入することで、資産管理やユーザー操作の把握など、通常の端末と同様の管理が行えます。\nV12.5のJP1/ITDM2-Agentで管理可能なシンクライアント端末は下記のとおりです。\n■Windows 10の書き込み保護（UWF）を設定した端末\nWindows 10 Enterprise（※）\nWindows 10 IoT Enterprise 2019 LTSC\n※以下のサブコンポーネントは含みません。\n・中継システム\n・パッケージャ\n・Automatic Installation Tool\n■共有型VDIの仮想コンピュータ\nVMware Horizon View：7,8（2006）\nCitrix Virtual Desktops：1906\n共有VDI環境で使用するインストールセットの作成手順\n1.JP1/ITDM2の管理画面を開く\n2.[設定]→[エージェント]→[Windowsエージェント設定とインターフェースセットの作成]→[インストールセットを作成]をクリック\n3.「仮想コンピュータの情報を基にホスト識別子を作成する」にチェックを入れる\n4.下記の通りラジオボタンを選択\n・VMware Horizon View、Citrix Virtual DesktopsでMCS（Machine Creation Services）方式を使用する場合\n→「コンピュータ名またはIPアドレス」\n・Citrix Virtual DesktopsでPVS（Provisioning Services）方式を使用する場合\n→「アカウント名」\n5.右下の「設定」をクリック\n設定手順は以上です。\n＜シンクライアント端末で利用可能な機能一覧＞\n資産情報の一括登録コマンドをサポート\nJP1/ITDM2では複数の情報を紐付けて管理する機能があります。\n例\n・資産情報と契約情報（リース契約や保守契約の情報など）\n→PCやサーバの資産情報（Agent導入により自動登録）と保守契約（月額や期限、手動で登録した情報）情報を紐付ける\n・ソフトウェア名（AgentからOSの「プログラムと機能」に表示されているものを取得した情報）と管理ソフトウェア名（管理上複数のものをまとめた名前）\n→「JP1 12.00」「JP1 12.10」「JP1 V12.50」のいずれかがインストールされていれば「JP1 V12」を使用しているものとして管理する、など\nV12までのバージョンではこれらの紐付けはGUI操作で行う必要がありましたが、V12.5からは紐付けたい情報をCSVファイルで作成し、コマンドで一括して登録すること（インポート）が可能になりました。\n＜資産情報のインポート・エクスポート＞\nインポート（CSVファイルからの一括登録）、およびエクスポート（CSVファイルへの出力）の対象となる資産情報は、以下のとおりです。\n＜資産関連情報のインポート・エクスポート＞\nネットワーク監視時の遮断リハーサルが可能に\nネットワークモニタ機能は私物のPCやスマホなど、社外の端末をネットワークに接続させないようにする機能です。通常、JP1/ITDM2-Agentを導入している端末は自動的にホワイトリスト（ネットワーク制御リスト）へ登録されますが、JP1/ITDM2-Agentを導入しないサーバ機器や、ネットワーク機器などはそのままでは遮断されてしまうため、事前にMACアドレスを調べた上で、ホワイトリスト（ネットワーク制御リスト）へ手動で登録します。この際に、登録漏れがあった場合、ネットワークモニタの遮断設定を有効にしたタイミングで遮断対象となってしまいます。\nV12.5ではこういった事故を予防するため、ネットワーク制御の監視モード機能が追加され、ネットワークモニタでの監視を有効にしても実際には遮断されず、遮断対象の端末が接続されたことを、イベントとして通知させることができるようになりました。\nネットワーク制御の設定手順\n1.JP1/ITDM2の管理画面を開く\n2.[設定]→[ネットワーク制御]→[ネットワーク制御の設定]をクリック\n3.「許可しない設定（遮断しない）」にチェックを入れる\nこれにより未登録のネットワーク機器を誤って遮断し、業務影響が出ることを予防できます。\nその他の新機能\n○管理者のコンピュータでサポートするブラウザにGoogle Chromeが追加されました。\n→V12.1でも12-10-03以降のバージョンではサポートされます。\n○Linux版エージェントのサポートOSとしてCentOS 8、Linux 8、およびOracle Linux 8が追加されました。\n→Linux版、UNIX版のITDM2-Agentご利用には別途専用のライセンスが必要となります。追加ご希望の際にはお問い合わせください。\n○JP1/ITDM2の機器情報を取得するインタフェース（REST API）を利用して、外部システムとの連携が可能となりました。\n→BIツールを使用した機器のレポート出力など、外部システムとの連携が可能となります。\nバージョンアップ時の手順について\nアシストと保守契約を締結されている方で、JP1 V12.5へのバージョンアップをご希望の場合、担当営業もしくはサポートセンターへお問い合わせください。\n最新版のメディアを手配いたします。\nまた、Webサポート（AWSC）にてJP1/ITDM2のバージョンアップ手順書もご用意しております。AWSCへログイン後、上部の「資料検索」をクリック後、「番号から検索」にて「7402」で検索してください。\nまとめ\n昨年からJP1/ITDM2およびJP1/ITDM2-ODをご利用中のお客様には、Adobe Flashのサポート終了に伴う対応として、Adobe Flashを使用しないコンソールとなったV12.1へバージョンアップいただきました。\n今回のバージョンアップでは大きな見た目の変更などはございませんが、お客様からリクエストいただいた内容など、運用面での使い勝手が向上しています。\nJP1/ITDM2サーバのリプレースや、PCの入れ替えなどのタイミングで、ぜひバージョンアップをご検討ください。\n新機能に関するお問い合わせなどもサポートセンターにて承りますので、ご不明な点がございましたらお気軽にお問い合わせいただければと思います。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/IT Desktop Management 2 - Manager (JP1/ITDM2) 12-50以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n西尾 高治\n2003年入社。JP1のフィールドエンジニアを経て2015年よりJP1サポートセンターにて勤務。\n2020年9月より本ブログ記事を担当することになりました。JP1を利用されている方に少しでもお役に立てる情報を提供したいと思います。\n奈良在住。最近は家庭菜園にハマっています。\n関連している記事\n資産管理\n2022.09.09\n【JP1/ITDM2】情報漏洩の徹底防止！USBデバイスの制御機能を使いこなそう！\n2022年6月、市民46万人分の個人情報が入ったUSBメモリが、一時所在不明となりニュースになりました。そこで今回は改めて、JP1/ITDM2のデバイス制御機能の概要や利用方法をご紹介します。\n資産管理\n2021.06.28\n【JP1/ITDM2】MacもWindowsもJP1でまとめて資産管理！\nJP1/ITDM2は、Mac版エージェントを利用することでMacOSの資産管理が可能です。本ブログではMac版エージェントを利用するための事前準備や手順を解説します。\n資産管理\n2020.11.30\n【JP1/ITDM2】拠点ごとに！部署ごとに！ 社内ポリシーに合わせて、柔軟に USBメモリの使用を制御する方法\n社内ポリシーに合わせて、拠点や部署ごとに柔軟にUSBメモリの使用を制御する方法をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202104_jp1_ajs_new.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】JP1 V12.5新機能のご案内『ジョブ管理製品編』\nContent:\nジョブ管理\n2021.04.26\n【JP1/AJS3】JP1 V12.5新機能のご案内『ジョブ管理製品編』\n当ブログでは、JP1 V12.5の\n新機能一覧\nや\n資産管理製品の新機能\nについてご紹介をしてきました。\n今回は、ジョブ管理製品からJP1/AJS3 - Web Consoleの新機能についてご紹介いたします。JP1 Version 11のリリース当初は可能な操作も限られていたJP1/AJS3 - Web Consoleですが、徐々に機能を増やしていき、今ではJP1/AJS3 - Web Consoleでのみ提供される機能もございます。今までご利用でなかった方もぜひご覧いただければと存じます。\nGUIでの実行エージェント情報の管理\najsagtaddなど、コマンドでしか操作できなかった実行エージェントの管理がGUIで可能になりました。\n一覧の表示はもちろん、追加や削除、編集、また実行エージェントグループの管理も可能です。\n※クリックで拡大します\n※クリックで拡大します\n複数選択による一括操作やフィルタリングも可能で、とても便利になりました。\n※クリックで拡大します\nこれらの機能により、JP1/AJS3 - Managerにわざわざログインすることなく、実行エージェントの管理が可能です。\nなお、GUIでの実行エージェント情報は、JP1/AJS3 - ManagerやJP1/AJS3 - Viewでは管理できず、JP1/AJS3 - Web Consoleのみで提供されています。\n待ち合わせ条件の状態一覧表示\n待ち合わせ条件の情報確認および操作ができるようになりました。対象ユニットがどのユニットを待ち合わせているのか、待ち合わせ対象ユニットの状態がどうなっているかを確認することができます。\nまた一時的に待ち合わせを有効化・無効化する操作も可能です。\n※クリックで拡大します\nジョブネットコネクタの接続情報表示\nジョブネットコネクタの接続先と接続元で、それぞれ接続対象が確認できるようになりました。\n接続先/接続元のユニット名、および実行IDが確認できます。また、実行順序制御方式の変更も可能です。\n※クリックで拡大します\n※クリックで拡大します\nまとめ\nJP1/AJS3-WebConsoleは、今では多くの操作が可能になりました。V11リリース時点では導入を見送っていた方も、これを機にぜひご利用を検討いただければと思います。\nちなみに、JP1/AJS3 - Manager、JP1/AJS3 - Agentの新機能として、ログ情報の強化が複数ございます。障害調査時に役立つものが多く、サポートセンターの人間としては多くのお客様にJP1 V 12.5を導入いただきたいと思っています。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 - Web Console (JP1/AJS3 - Web Console) 12-50以降\nJP1/Automatic Job Management System 3 - Manager (JP1/AJS3 - Manager) 12-50以降\nJP1/Automatic Job Management System 3 - View (JP1/AJS3 - View) 12-50以降\nJP1/Automatic Job Management System 3 - Agent (JP1/AJS3 - Agent) 12-50以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n栗山綾美\n2012年、株式会社アシスト入社。セキュリティ製品を担当後、2013年よりJP1の顧客サポートを担当。「JP1認定シニアコンサルタント」の資格保有者。サポートの経験を活かしたブログを目指します。\n趣味は、夢と魔法の国(と、冒険とイマジネーションの海)に行くこと。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202105_jp1_ajs_console.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】JP1/AJS3 - Web Console活用のススメ\nContent:\nジョブ管理\n2021.05.28\n【JP1/AJS3】JP1/AJS3 - Web Console活用のススメ\nJP1/AJS3は、バージョン11からWebブラウザでジョブの確認が行えるWeb Console機能が追加されました。\n※JP1/AJS3 - Managerのコンポーネントに、JP1/AJS3 - Web Consoleが追加されました\n本記事では、最新バージョン12.5でさらに機能が拡張され、使いやすくなったWeb Consoleの基本的な機能やお勧め機能をピックアップしてご紹介します。\nJP1/AJS3 - Web Consoleの導入で皆様のジョブ運用がより快適になりますよ！\n第1章　JP1/AJS3 - Web Console 概要\nJP1/AJS3 - Web Console(以下、Web Console) でできることは、大別すると以下の3つです。\n1. ジョブ、ジョブネットの実行予定、結果の確認\n2. ジョブ、ジョブネットの定義修正、再実行\n3. 実行エージェントの確認、変更(V12.5～)\nジョブの定義やスケジュール定義など一部は、JP1/AJS3 - Viewに限られた機能ですが、ダッシュボード機能はWeb Consoleでのみ提供される機能です。また、ジョブネットの監視や強制終了など、Web Consoleでも行える多くの機能があります。\nさらに、Web Consoleは複数のJP1/AJS3 - Managerと接続できるため、Web Consoleが1台あれば、複数のジョブ管理マネージャへの接続が行えます。(※)。\n※ログイン時に接続ホスト名を入力することで、接続先のジョブ管理マネージャを切り替えます。\n第2章　JP1/AJS3 - Web Console お勧め機能\nWeb Consoleの独自機能\nJP1/AJS3 - Viewにはなく、Web Consoleでのみ実装されている便利な機能があります。\n【1】全体の実行進捗度の確認(ダッシュボード)\nダッシュボード画面で監視したいジョブ、ジョブネットの実行進捗度の確認が可能です。\nまた、実行結果および実行予定のジョブのうち、「正常・異常終了の件数」や「実行待ち件数」が一覧で確認できるようになっています。\n※クリックで拡大します\n【2】複数のジョブネットをグルーピングして監視\nWeb Consoleでは、異なるジョブグループに属しているジョブネットを、ユーザーが自由にグルーピングしてダッシュボードで確認することが可能です。\n定義はログインしているユーザー単位で保存されます。\n※クリックで拡大します\n※クリックで拡大します\n＜運用のヒント＞\n特に重要なジョブネットや、自分が担当しているもジョブネットに絞ってグルーピングすることで、見たいジョブに絞った監視がJP1/AJS3 - Viewよりも簡単に行えます。\n【3】実行エージェントの編集\nJP1 V12.5から、実行エージェントの追加や変更をWeb Consoleから行えるようになりました。本機能については前回のブログ\n「JP1 V12.5新機能のご案内『ジョブ管理製品編』」\nにて詳細を紹介していますので、そちらをご確認ください。\nJP1/AJS3 - Viewと同じくできること\nWeb Consoleで、JP1/AJS3 - Viewと同じことができる機能についてご紹介します。\n以下、Web Consoleで実行できることの一例です。\n・JP1/AJS3 - Viewと同じ表示での監視\n※クリックで拡大します\n※クリックで拡大します\n・実行登録\n・実行登録解除\n・再実行\n・中断\n・強制終了\n・ジョブの詳細定義の編集(PCジョブ、UNIXジョブのみ)\n※クリックで拡大します\n・保留設定/解除\n・ジョブネットモニター、マンスリースケジュール画面\nWeb Consoleではできないこと\n様々な作業が行えるWeb Consoleですが、以下の操作は行えません。\n・ユニットの定義\nWeb Consoleでは、JP1/AJS3 - Viewのようにユニット(ジョブグループ、ジョブネット、ジョブ)の定義は\nできません。\n・ジョブ定義の編集\nPCジョブ、UNIXジョブ以外のジョブ定義の編集はできません。\n・スケジュール、カレンダーの設定\nジョブネットやネストジョブネットのスケジュール設定やカレンダーの定義はできません。\n＜運用のヒント＞\nWeb Consoleは監視や一時的な対処用として使用し、ユニットの定義はJP1/AJS3 - Viewで行います。\nWeb ConsoleとJP1/AJS3 - Viewの機能の一覧\nWeb Console\nでのみできること\nWeb Console、\nJP1/AJS3 - View\nどちらでもできること\nJP1/AJS3 - View\nでのみできること\n・全体の実行進捗度の確認\n(ダッシュボード)\n・複数のジョブネットを\nグルーピングして監視\n・実行エージェントの編集\n・実行登録\n・実行登録解除\n・再実行\n・中断\n・強制終了\n・ジョブの詳細定義の編集\n(PCジョブ、UNIXジョブのみ)\n・ユニットの定義\n・ジョブ定義の編集\n・スケジュール、\nカレンダーの設定\nまとめ\nWeb ConsoleはWebブラウザがあれば使えるため、JP1/AJS3 - Viewのインストールは不要で、PCやモバイル端末から接続してジョブの確認が可能です。\nジョブの定義など、あらゆる操作を行う管理者はPCにインストールしたJP1/AJS3 - Viewで操作を行い、オペレーターはWeb Consoleで監視を行うなど、ユーザーによって使い分けることでJP1/AJS3 - Viewのライセンスを節約できます。\n柔軟なジョブ運用にぜひWeb Consoleを活用してください。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 (JP1/AJS3) 09-00以降\nJP1/Automatic Job Management System 3 - View\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n居城美紀\n1999年入社。BI系のサポートを経て2003年よりJP1担当。\n2020年9月より本ブログ記事を担当することになりました。\nJP1サポートセンターの生き字引としてJP1のお役立ち情報を発信したいと思います。\n京都在住。最近は韓国コスメを色々試すことが楽しみです。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202106_jp1_itdm2_mac.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/ITDM2】MacもWindowsもJP1でまとめて資産管理！\nContent:\n資産管理\n2021.06.28\n【JP1/ITDM2】MacもWindowsもJP1でまとめて資産管理！\nJP1/IT Desktop Management 2（以下、JP1/ITDM2と表記）およびJP1/IT Desktop Management 2 - Operation Director（以下、JP1/ITDM2 - Operations Directorと表記）は主に社内PCの資産管理を行うツールですが、一部機能制限はあるものの、実はMac用のエージェントもリリースされています。\nMac版エージェントを導入することで、WindowsPCと同様の資産管理が行えます。本記事では、Mac版のJP1/ITDM2-Agentについてご紹介します。\n第1章　JP1/ITDM2-Agentの対応OSについて\nJP1/ITDM2 V12のJP1/ITDM2-Agent（12-00-06）では、以下のMacOSに対応しています。\nMacOS X 10／MacOS X 11／MacOS X 12／MacOS X 13\n2023年3月時点の対応状況となります。最新の対応状況につきましてはサポートセンターへお問い合わせいただくか、弊社AWSC2内のJP1\nユーザーサイト\nにて、OS対応状況ページをご確認ください。\n第2章　Windows版とMac版のJP1/ITDM2-Agentの機能差異\nMac版JP1/ITDM2-Agentでは、主に以下の機能が利用できます。\n・インベントリ取得\n→Windows版と同様、システム情報やインストールソフトウェア情報が自動収集されます。\n・ソフトウェアのインストール\n→Remote Install Managerを使用した配布が可能です。\n※JP1/ITDM2のみ利用可、JP1/ITDM2 - Operations Directorでは未サポート\n・リモートコントロール接続\n→RFB接続によるリモートコントロールが可能です。\n操作ログの取得およびデバイス制御については未対応です。\n第3章　JP1/ITDM2-Manager側での準備\nMac版のJP1/ITDM2-Agentを導入する場合、事前にJP1/ITDM2-Manager側で下記手順を実施してください。\n＜JP1/ITDM2-Manager側での作業＞\n1. 下記confファイルをテキストエディタで開きます。\n（JP1/ITDM2 Manager導入パス)￥jp1itdm￥mgr￥conf\\jdn_manager_config.conf\n2. 末尾に赤文字部分を追記します。\n------------------------------------------------\n#\n# property\n#\n# Example:\n# Port_Manager=31000\n#\n# Report_Data_MakeTime=23:00\n# Report_Digest_MakeTime=06:00\n# DB_MentenanceTime=05:00\n# ChangeHistory_GetTime=00:00\n# OpLog_DB_DeleteTime=01:00\n# DeviceAutoMaintenanceTime=23:00\nUNIX_Software_Manage=YES\nExpand_LinuxSoftwareInformation=YES\n------------------------------------------------\n3. JP1/ITDM2-Managerのサービスを再起動します。\n3.1 [プログラム]→[JP1_IT Desktop Management 2 - Manager]→[コマンド]から\nコマンドプロンプトを起動します。\n3.2 サービス停止コマンドを実行します。\n>stopservice.exe\nKDEX4011-I IT Desktop Management 2 - Managerを停止しました。コマンド名=stopservice\n3.3 サービス起動コマンドを実行します。\n>startservice.exe\nKDEX4015-I IT Desktop Management 2 - Managerを開始しました。コマンド名=startservice\n上記手順を実施いただくことで、JP1/ITDM2の管理画面にMac版Agentのインストールソフトウェア情報が表示されます。\n第4章\t　Mac版Agentのインストール手順\nMac側でのJP1/ITDM2-Agentを導入作業は、次の手順で実施してください。\n1. Mac 標準のテキストエディタで、設定ファイル（ファイル名：RDSSETFL.TXT）を作成します。\n------------------------------------------------\nManagingHost\nxxx.xxx.xxx.xxx\nWorkstationType　END\n------------------------------------------------\n※JP1/ITDM2-ManagerのIPを指定します。\n2. 同様にMac 標準のテキストエディタで、動作環境設定用ファイル（ファイル名：profile.txt）を作成します。\n------------------------------------------------\nINVENTORY_UPLOAD_INTERVAL=1\n------------------------------------------------\n3. 管理者権限を持つユーザでMacにログイン後、ターミナルを開き下記設定を行います。\n・自ホストの名前解決\n>sudo vi /etc/hosts\n------------------------------------------------\n192.168.x.x hostname\n------------------------------------------------\n・ポート番号の設定\n>sudo vi /etc/services\n------------------------------------------------\nnetmdmclt 31001/tcp\nnetmdmw 31002/tcp\n------------------------------------------------\n4. 1.と2.で作成したファイルとインストールパッケージを同じフォルダにコピーします。\n・設定ファイル（RDSSETFL.TXT）\n・動作環境設定ファイル（profile.txt）\n・インストールパッケージ（jp1itdm2_xxxx_macos.pkg）\n※MAC用のJP1/ITDM2-Agentのインストールメディアに格納されています。\n５. Finder上でインストールパッケージをダブルクリックし、画面表示に従ってJP1/ITDM2 Agent を\nインストールします。\n​（参考）インストーラ起動時の画面\n※インストール先の選択では「このコンピュータのすべてのユーザ用にインストール」を\n選択してください。\n6. 下記画面が表示されればインストール完了です。\n7. JP1/ITDM2管理画面の「機器一覧」へ、インストールしたMac端末の情報が表示されていることを\n確認してください。\n尚、初回セットアップが正しく行われたかどうかは以下の方法でも確認いただけます。\n■Mac OSエージェント製品ログの確認\nセットアップが正常に完了すると、製品ログ（/NETMRDS/rdsprm/MAIN.LOGF）にMac OS\nエージェントのプロセスが起動されたことを示すメッセージ（KDDM7030-I）が出力されます。\nKDDM7030-Iメッセージが出力されていて、かつエラーメッセージが出力されていないことを\n確認してください。\n■設定ファイル(RDSSETFL.txt)の確認\n設定ファイル(RDSSETFL.txt)の内容に問題がなければ、/NETMRDS/rdsprm/RDSSETFL.bakへ\nリネームされます。\n内容に問題があった場合、/NETMRDS/rdsprm/RDSSETFL.errへリネームされ、\n/NETMRDS/rdsprm/MAIN.LOGFへエラー原因を示すエラーメッセージが出力されます。\nJP1/ITDM2管理画面の「機器一覧」へ、インストールしたMac端末の情報が表示されていることを\n確認してください。\nまとめ\n一般的な業務利用ではまだまだWindows端末が主流ですが、一部の部署などでMac端末を利用されているようなケースがあるかと思います。JP1/ITDM2またはJP1/ITDM2 - Operations Directorをお使いのお客様であれば、無償でMac版Agentを導入してご利用いただけます。\n尚、Mac版AgentのインストールメディアにつきましてはWindows版のメディアには含まれていないため、別途手続きが必要となります。メディアをご希望のお客様は担当営業もしくはサポートセンターまでお問い合わせください。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/IT Desktop Management 2 - Manager (JP1/ITDM2) 12-00以降\nJP1/IT Desktop Management 2 - Operations Director\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n西尾 高治\n2003年入社。JP1のフィールドエンジニアを経て2015年よりJP1サポートセンターにて勤務。\n2020年9月より本ブログ記事を担当することになりました。JP1を利用されている方に少しでもお役に立てる情報を提供したいと思います。\n奈良在住。最近は家庭菜園にハマっています。\nページトップへ戻る\n関連している記事\n資産管理\n2022.09.09\n【JP1/ITDM2】情報漏洩の徹底防止！USBデバイスの制御機能を使いこなそう！\n2022年6月、市民46万人分の個人情報が入ったUSBメモリが、一時所在不明となりニュースになりました。そこで今回は改めて、JP1/ITDM2のデバイス制御機能の概要や利用方法をご紹介します。\n資産管理\n2021.03.22\n【JP1/ITDM2】JP1 V12.5新機能のご案内『資産管理製品編』\n2021年1月21日にリリースされたJP1の新バージョン「Version 12.5」の新機能の中から、資産管理製品の新機能を厳選してご紹介します！\n資産管理\n2020.11.30\n【JP1/ITDM2】拠点ごとに！部署ごとに！ 社内ポリシーに合わせて、柔軟に USBメモリの使用を制御する方法\n社内ポリシーに合わせて、拠点や部署ごとに柔軟にUSBメモリの使用を制御する方法をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202107-ajs3.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】実行登録を解除せず、ジョブの定義を変更する2つの方法\nContent:\nジョブ管理\n2021.07.30\n【JP1/AJS3】実行登録を解除せず、ジョブの定義を変更する2つの方法\n実行登録をしたまま、ジョブの定義を変更したいと思った経験はありませんか？\nJP1/AJS3で、実行登録の解除をせずに、ジョブの定義を変更する方法を2つご紹介します。\n・サスペンド機能を利用する方法\n・リリース登録機能を利用する方法\n各々の機能の概要と使い分け方\nサスペンド機能\nサスペンド機能とは、\n実行登録中のジョブネットを一時停止し、定義変更可能な状態にする機能\nです。\nサスペンドすると、ユニットは新たに実行されません。即時で定義を変更したい場合に活用します。\nイメージは、下記の通りです。\n＜サスペンド機能に関するマニュアル＞\n・JP1 Version 12　JP1/Automatic Job Management System 3 導入ガイド\n4.5.17　ジョブネットの実行登録を解除しないでジョブネットやジョブの定義を変更する\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D2120/AJSF0088.HTM\nリリース登録機能\nリリース登録機能とは、\n定義の差し替え機能\nです。実行登録をしたまま、指定した日時にジョブネットの定義内容を差し替えられます。ある日時を境に、処理を変更/切り替えたい場合に活用します。\nイメージは、下記の通りです。\nリリース登録機能については、変更できる操作に制限がございます。各機能の詳細については、下記マニュアルに記載がありますため、併せてご確認ください。\n＜リリース登録機能に関するマニュアル＞\n・JP1 Version 12　JP1/Automatic Job Management System 3 導入ガイド\n4.5.14　指定した日時から自動的にジョブネットの定義を切り替える\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D2120/AJSF0085.HTM\n・JP1 Version 12　JP1/Automatic Job Management System 3 運用ガイド\n7.3　実行登録中にジョブネットの定義を切り替える\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D2520/AJSJ0083.HTM\nサスペンド機能の利用方法\nサスペンド機能が有効か確認する方法と有効化する方法\nまず、サスペンド機能が有効かどうかを確認する手順をご紹介します。\n1. JP1/AJS3 - Manager のサーバにリモートで接続\n2. コマンドプロンプトで下記を実行\najsstatus△-F△スケジューラサービス名\n※△は半角スペースを示します。\n3. コマンドの実行結果を確認し、[サスペンド機能]が[有効]になっているか確認\n有効の場合は\n「サスペンド機能を用いた定義の変更手順」\nを確認してください。\n無効の場合は後述する作業を実施してください。\n※JP1 V11以降の場合の手順を記載しています。JP1 V10以前の場合は、事前にサービス停止した上で、\nコマンド実行後、サービス起動が必要です。\n4. JP1/AJS3 - Viewに接続している場合は、接続を解除\n5. 下記コマンドを実行\najssetup△-F△スケジューラーサービス名△-m\n6. [サスペンド機能]が[有効]になっているか確認\nサスペンド機能を用いたジョブ定義の変更手順\nサスペンド機能を用いてジョブ定義を変更する手順を記載します。\n1. JP1/AJS - View にログイン\n2. [監視]-[ステータス監視] メニューを選択\n3. サスペンドしたいルートジョブネットが選択されている状態で上部の［操作］メニューから\n［サスペンド］-［サスペンド実行］を選択\n4.「サスペンド実行」画面で「実行中の世代がある場合」のラジオボタンで「サスペンドしない」のまま\n「OK」を選択\n実行中のジョブが存在する状態でサスペンドを行う場合の考慮点\n実行中のジョブは、\nサスペンドを行ってもジョブの処理を終えるまで動作し続けます\n。\nまた、実行中の世代があるユニットとないユニットを比較した際に、編集可能な箇所に差異があります。\n下記マニュアルに、編集可否やユニットの状態遷移について表形式や図で解説されているのでご確認ください。\n・4.5.17　ジョブネットの実行登録を解除しないでジョブネットやジョブの定義を変更する\n(1)　実行登録中の定義変更\n└ (b)　ユニットの種類や状態による変更の可否\n表4‒11　ユニットと編集操作の対応表\n表4‒12　ユニットの状態と編集操作の可否対応表\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D2120/AJSF0088.HTM#a005f131\n・JP1 Version 12　JP1/Automatic Job Management System 3 導入ガイド\n4.5.17　ジョブネットの実行登録を解除しないでジョブネットやジョブの定義を変更する\n(4)　サスペンド中のジョブやジョブネットの状態遷移\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D2120/AJSF0088.HTM#a005f139\n5. サスペンドしたルートジョブネットの左側に、サスペンド状態を示す赤いアイコンの表示を確認\n6. ジョブの定義内容を変更\n7. サスペンドしたいルートジョブネットが選択されている状態で上部の［操作］メニューから\n［サスペンド］-［サスペンド解除］を選択\n8.「サスペンド解除」画面で「親ジョブネットが実行中に追加されたユニット」では、デフォルトの\n「実行する」を選択したまま「OK」を選択\nリリース登録機能の利用方法\n次に、リリース登録機能を用いてジョブ定義を変更する手順をサンプルジョブネット「jobnetX」を用いて記載します。\n1.任意のジョブグループ配下に、リリース先の jobnetX をコピーしてリリース元の jobnetX’ を作成し、\n定義を修正\n2.［JP1/AJS3 - View］ウィンドウの機能メニューで［リリース登録］をクリックし［リリース登録］を\n選択状態にする\n3.ツリーエリアで、リリース元のジョブネットを管理するジョブグループをクリック\n​\nクリックしたジョブグループが選択状態になり、ルートジョブネットがリストエリアに表示されます。\n4.リリース元のジョブネットをクリックし、［操作］－［リリース登録］を選択\n[リリース登録]ダイアログボックスが表示されます。\n5.リリース登録に必要な情報を入力\nリリース先：変更先のジョブネットを選択します\nリリースID：任意の値を指定します(例.001など)\nリリース日時：差し替える日時を指定します\n6.［OK］ボタンをクリックし［リリース登録］ダイアログボックスを閉じる\n7. [機能メニュー]にて、[リリース登録]を選択している状態で [リリース先]として登録したジョブネットを\n選択し、[詳細情報]欄の[表示]ボタンをクリック\n手順4で選択したジョブネットの定義が、「リリース待ち」状態でリリース先ジョブネットに登録されていることを確認できます。\n指定した日時になりましたら、項番7 で確認した画面を更新してください。\n[リリース状態]が[適用中]に遷移します。必要に応じて、ジョブネットモニタを開き、変更後の定義に差し替わっていることを確認してください。\nまとめ\n実行登録中のユニットの追加/削除や起動条件の設定追加などは、実行中に定義を変更できませんが、今回ご紹介した機能を活用すれば、実行登録解除せずに変更可能です。\nジョブの定義を変更する際に使える便利な機能なので、是非ご活用ください。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 (JP1/AJS3) 11-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n引間 康将\n2013年、株式会社アシスト入社。Oracle製品を担当後、2015年よりJP1の顧客サポートを担当。「超サポとは感情に働きかけるサポート」を信念にお客様にご満足いただけるサポートを提供できるよう、奮闘中。\n趣味は、バイクツーリングと筋トレ。\nページトップへ戻る\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202108-ajs3.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】何が嬉しい？JP1 V12.5で実装されたエージェントのログ強化について解説！\nContent:\nジョブ管理\n2021.08.30\n【JP1/AJS3】何が嬉しい？JP1 V12.5で実装されたエージェントのログ強化について解説！\n障害発生時、ログが残っておらず調査ができなかった…という経験はありませんか？残念ながら、ジョブの実行量が多い環境では往々にして発生しうる問題です。特にエラーが多発すると、ログがあっという間にローテーションしてしまうこともあります。\n本記事では、JP1 V12.5で実装された「エージェントのログ強化」についてご紹介します。\n今までのログ調査\nジョブ実行は、マネージャーがエージェントに実行命令を行うことで開始され、エージェントが実行結果を返すことで終了します。この時、マネージャーとエージェントの間の通信に問題が発生すると「マネージャーからの実行命令を受け取れない」「実行結果をエージェントからマネージャーへ返すことができない」などのエラーにつながります。\nジョブ情報の管理はマネージャーで行うため、ジョブの実行結果はマネージャー側に残ります。しかし、上記のような問題が発生すると、マネージャーが情報を受け取れずジョブの実行結果を確認することができません。\nこの場合、ジョブが正常終了したか否かは、実行ファイル側のログなどから確認するしかありません。\nまた、「処理がどこで止まったか※」を調査する場合、マネージャーとエージェントのログの両方が残っていなければなりません。\n※\nJP1/AJS3の処理の範囲です。実行ファイル内の処理内容をJP1から調査することはできません。\n対象ホストで実行されるジョブ数自体は少なくても、マネージャーが管理する総ジョブ数が多い場合、マネージャー側のログがすぐにローテーションしてしまい、事象発生時のログを確認することができなかった、というパターンも残念ながら少なくありません。\nエージェントのログが強化されてできるようになった2つのポイント\nエージェントのログが強化されてできるようになった、大きなポイントを2点ご紹介します。\n1.マネージャーに残らないエラーログがエージェント側で確認できる\nJP1 V12.5から、\nエージェント側でジョブの実行結果を確認できるようになりました\n。\n例えば、以下のような情報がエージェント側に保存されます。\n0091 2021/08/12 13:18:31.950     jpqagt           00001BCC 00000FC8 KAVU3613-I            AJSROOT1:/ルートジョブネット1/PCジョブA:@A120,119,hostM,eu=\"jp1admin\"\n0092 2021/08/12 13:18:31.950     jpqagt           00001BCC 00000A48 KAVU3614-I            AJSROOT1:/ルートジョブネット1/PCジョブA:@A120,119,hostM,un=\"administrator\",sc=\"C:\\temp\\job.bat\",prm=\"\",pid=2768\n0094 2021/08/12 13:18:31.966     jpqagt           00001BCC 00000A48 KAVU3616-I            AJSROOT1:/ルートジョブネット1/PCジョブA:@A120,119,hostM,rc=0,st=正常終了\n上記ログでは、ルートジョブネット1配下のPCジョブAが終了コード0で正常終了したこと、またPCジョブAで実行している実行ファイルがC:\\temp\\job.batであることなど、多くの情報が確認できます。\nつまり、マネージャー側でログが取得できなくても、エージェント側のログが残っていれば、事象発生時の状況確認することができます。\nまた、ログが残っている範囲であれば、\n保存世代数を超えてしまった実行結果\nや、\n実行登録解除したジョブの実行結果\nも確認できます。\n2.マネージャ側のログがローテーションしても障害調査ができる\n障害調査の観点においても、エージェント側のログ強化にはメリットがあります。\n既述のとおり、基本的にジョブの情報はマネージャーが保持しており、エージェント側のログはあくまでその補助的な立ち位置でした。例えば、マネージャーは各ジョブをジョブ番号で管理していますが、エージェントのログではジョブ番号のみが出力されており、対象のジョブ名などを確認することはできませんでした。\nログ強化によりエージェント側のログにもジョブ名などの詳細情報が出力されるので\nマネージャー側のログがローテーションしてしまっても調査を行える\nようになっています\nまとめ\nエージェントのログ強化はJP1 V12.5からの新機能ですが、マネージャー側のバージョンは問いません。エージェントのみバージョンアップしてセットアップすればすぐにご利用いただけます。また、新規でJP1 V12.5をインストールすれば、本機能はデフォルトで有効になっているため、ぜひご活用ください。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 - Manager (JP1/AJS3 - Manager) 12-50以降\nJP1/Automatic Job Management System 3 - Agent (JP1/AJS3 - Agent) 12-50以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n栗山 綾美\n2012年、株式会社アシスト入社。セキュリティ製品を担当後、2013年より\nJP1の顧客サポートを担当。「JP1認定シニアコンサルタント」の資格保有者。\nサポートの経験を活かしたブログを目指します。\n趣味は、夢と魔法の国(と、冒険とイマジネーションの海)に行くこと\nページトップへ戻る\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202109-ajs3.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup][Design]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】簡単になったJP1/AJS3のオンラインバックアップ機能を使ってみよう！\nContent:\nジョブ管理\n2021.09.30\n【JP1/AJS3】簡単になったJP1/AJS3のオンラインバックアップ機能を使ってみよう！\nはじめに\nオンラインバックアップとは、JP1/AJS3-Managerのサービスが動作中(=オンライン)の状態でバックアップを行うことを指しています。\n以前のバージョンでもオンラインバックアップは可能でしたが、取得できるデータが限られていたり、運用が複雑になるケースがありました。\nJP1/AJS3 V12.1では、JP1/AJS3-Managerで使用している組み込みDBのオンラインバックアップが簡単に取得できるようになりましたので、本記事では実装に際しての検討のポイントや実施手順をご紹介します。\nなお、JP1 V12.1で追加されたオンラインバックアップ機能はマニュアル上で「バックアップ強化機能」という名称ですので、本ページでも同様に記載します。\nバックアップ強化機能とは\nバックアップ強化機能とは、JP1 V12.1で実装された\n「組み込みDBのデータをサービス起動状態で一括でバックアップできる」\nという新機能です。\nデータをリストアすると、組み込みDBに格納されるデータ類(ジョブ定義、スケジュール定義、実行登録情報、実行状態、実行結果など)が一括で復元できるため、システムの復旧を速やかに行えます。\n後述の手順にも記載していますが、起動時にはディザスタ―リカバリースタートが行われます。\nジョブは実行抑止状態で起動するので、担当者は起動後に状態を確認し、必要な対処をした上で抑止を解除してジョブ実行を開始できます。\nバックアップ強化機能使用の際の考慮点\nバックアップ処理中は組み込みDBの更新処理が一時的に停止します。\nバックアップ対象のデータベースに対して定期的なメンテナンスが必要です。\n組み込みDBのデータ量が増加し、処理性能も低下します。\nバックアップ対象に実行結果詳細や一時変更情報は含まれていません。\n組み込みDBリストア後のサービス起動時点はジョブは実行抑止されています。\nバックアップ処理中は組み込みDBの更新処理が一時的に停止します。\nバックアップ取得中は組み込みDBへの更新処理が一時的に停止するため、以下の処理や操作が一時的に停止します。なお、オンラインバックアップの所要時間は大規模モデルデーターベース環境の実測で数秒～数十秒です。そのため\n目安として1分程度を見込んでください\n。実際の所要時間はマシンスペックや他のプログラムの負荷等の影響を受けるため、実機にてご確認ください。\n・バックアップ対象の組み込みDB上で動作するジョブの開始、状態遷移\n・バックアップ対象の組み込みDB上に構築しているスケジューラーサービスに対する次の操作\n- スケジューラーサービスの起動\n- ユニットを操作するコマンドの実行\n- 組み込みDBを操作するコマンドの実行\n- リモートジョブネットの実行(実行元ホスト／実行先ホスト)\n- JP1/AJS3 - ViewまたはJP1/AJS3 - Web Consoleからユニットへの操作\n- 実行エージェントまたは実行エージェントグループの追加、変更、削除\nバックアップ対象のデータベースに対して定期的なメンテナンスが必要です。\n組み込みDBのデーターベース領域に無効領域が大量に発生していると、バックアップにかかる時間が長くなる恐れがあります。そのため、組み込みDBの定期的なメンテナンスを実施してください。なお、同じくJP1 V12.1から組み込みDBのメンテナンスを自動で行う「自動メンテナンス機能」が実装されています。\n詳細は以下のマニュアルを参照してください。\nJP1/Automatic Job Management System 3 設計ガイド（システム構築編）\n6.メンテナンスの検討\n上記2つの考慮点から、オンラインバックアップは、\n・ジョブがなるべく動作していない時間帯(当日の処理終了後 など)\n・スケジューラーサービスに対して操作を行わない時間帯\n・組み込みDBのメンテナンス処理後\nに、実行することをお勧めします。\n組み込みDBのデータ量が増加し、処理性能も低下します。\nバックアップ強化機能を有効にする場合、以下の通り必要となるディスク容量が増加します。必要となるディスク容量をマニュアル・リリースノートを参照の上、事前に見積もって構築してください。\n必要ディスク容量(単位：メガバイト)\nデータベースモデル\nバックアップ強化機能\nデータ領域\n小規模\n無効\n200\n有効\n700\n中規模\n無効\n1,400\n有効\n1,900\n大規模\n無効\n6,700\n有効\n7,200\n※\nシステムファイル領域に必要なディスク容量はバックアップ強化機能の有効/無効と関係なく同じです。\nデータ量が増加する影響で、ジョブ実行や実行登録操作などの組み込みDBの更新を伴う処理性能が低下します。JP1/AJS3の処理性能が求められるシステムの場合は、実際の環境で性能を検証した上で、バックアップ強化機能の使用を検討してください。\nバックアップ対象に実行結果詳細や一時変更情報は含まれていません。\nバックアップ強化機能を有効にした場合でも、実行結果詳細や一時変更情報(※)はバックアップ/リストアできません。これらの情報は組み込みDBに格納されていないためです。\n一時変更情報対象\n・計画一時変更（日時変更／即時実行／実行中止／変更解除）\n・保留属性変更（保留属性設定／保留属性解除）\n・遅延監視変更（開始遅延監視／終了遅延監視／ジョブネット監視）\n・優先順位変更\n・実行順序制御方式の一時変更（同期／非同期）\n・起動条件の無効化，成立待ち時間の変更，成立待ち回数の変更\n・待ち合わせ条件の一時変更（待ち合わせ無効化／有効化）\n・実行予定の追加\n・世代指定による登録解除\n組み込みDBリストア後のサービス起動時点はジョブは実行抑止されています。\n組み込みDBをリストアし、JP1/AJS3のサービスを開始した時点では、ジョブの実行はすべて抑止されています。そのため、起動後に実行予定日時が超過したジョブが一斉に動き始めることはありません。\n抑止されている間に、目視でジョブの状態を確認し、ジョブの状態を変更したり、再実行したりできます。\n事前設定\nバックアップ強化機能はデフォルトでは無効の状態でセットアップされています。\nオンラインバックアップを取得したい場合、バックアップ強化機能に対応しているスケジューラーサービスと組み込みDBのセットアップが必要です。\n既に無効な状態でセットアップ済みの環境の場合は、一度データーベースのデータを削除し再構築が必要です。\n設定のタイミング\n必要な作業\n新規インストール\nインストール後にスケジューラーサービスと組み込みDBを設定\nスケジューラーサービス追加\nスケジューラーサービス追加時に組み込みDBを追加して設定\n既存の組み込みDBにスケジューラーサービスを追加するときに設定\n(既存の組み込みDBがバックアップ強化機能のセットアップが行われている前提)\n運用中の設定変更\nデータの削除と組み込みDBの再構築\n各設定のタイミングでのバックアップ強化機能のセットアップ方法は、以下のマニュアルを参照してください。\nJP1/Automatic Job Management System 3 構築ガイド\n21.　運用方法に応じた機能のセットアップ\n21.6\nJP1/AJS3の運用中に組み込みDBをバックアップ・リカバリーするための設定\nオンラインバックアップ/リストアの実行\n本章では、物理ホスト環境のオンラインバックアップとリストアおよびリカバリの方法をご説明します。\nバックアップ\nバックアップ強化機能を使用したバックアップ手順をご説明します。\n①バックアップ強化機能でバックアップできない対象のバックアップを取得します。\nバックアップ強化機能でバックアップできる対象は組み込みDBに格納されているデータです。\nJP1の設定ファイルや、共通定義情報、前提製品のJP1/Baseの情報など、システムのリカバリーに\n必要となるファイルや情報は別途バックアップの取得が必要です。\nバックアップ対象は以下のマニュアルを参照してください。\nJP1/Automatic Job Management System 3 運用ガイド\n2.バックアップとリカバリー\n2.2\nJP1/AJS3を使用するシステムの設定情報のバックアップ\n②バックアップ先(バックアップデータ格納ディレクトリ)に必要なディスク容量を確保します。\n必要な容量はバックアップを取得する組み込みDBと同等です。必要な容量の目安は以下の通りです。\nデータベースモデル\n必要な空き容量\n小規模\n約700メガバイト\n中規模\n約1,900メガバイト\n大規模\n約7,200メガバイト\n※\nデータベース領域を自動拡張している場合や、手動で拡張している場合は拡張した分の容量も必要です。\n注意事項：\n・バックアップデータ格納ディレクトリは、ネットワークドライブ上に作成しないでください。\nバックアップデータ格納ディレクトリにネットワークドライブを指定した場合の動作は保証\nできません。\n③組み込みDBが稼働状態になっていることを確認します。\najsembdbstatusコマンドを実行し、バックアップを取得する組み込みDBが稼働状態に\nなっていること（UNIT-STATがONLINEになっていること）を確認します。\n＜実行例＞\najsembdbstatus -s ust -id 組み込みDBセットアップ識別子(_JF0 等)\n＜出力例＞\nHOSTNAME : 127.0.0.1(103250)\nSYSTEMID : ajs2\nUNITID : unt1\nENTRYHOST : 127.0.0.1\nPAIRHOST :\nUNIT-STAT\nFES-STAT SETUP-STAT\nONLINE\n******** SETUP\n稼働状態になっていない場合は\najsembdbstart -id 組み込みDBセットアップ識別子\nを指定して稼働状態(ONLINE)にしてください。\n④jajs_dbbackupコマンドを実行してバックアップを取得します。\n＜実行例＞\njajs_dbbackup -id 組み込みDBセットアップ識別子 -o バックアップデータ格納ディレクトリ\nバックアップデータは、指定したバックアップデータ格納ディレクトリ下に\n「BK_組み込みDBセットアップ識別子_取得日_取得時間」というディレクトリが作成され、\nその下に作成されます。\n⑤以下の組み込みDBに関する情報を取得してください。\nこれらはバックアップデータからリカバリーを実施するとき、リカバリーの前提条件を確認するための\n情報です。\n1.JP1/AJS3 - Managerのバージョン情報\n製品のバージョン情報を控えておいてください。\n2.次のコマンドを実行し、表示される情報を取得してください。\n- 組み込みDBのバージョン情報\najsembdbidlist -v\n- 組み込みDBの構成情報\najsembdbstatus -c\n- スケジューラーサービス構成情報\najsembdbidlist\n3.データベース領域の拡張情報\n組み込みDBのデータベース領域をajsembdbaddareaコマンドで拡張している場合は、次のフォルダまたは\nディレクトリを取得してください。\nWindowsの場合\n組み込みDB運用フォルダ\\CONF\\embrm\nUNIXの場合\n組み込みDB運用ディレクトリ/conf/embrm\n４.組み込みDBのシステム定義\n組み込みDBのシステム定義のオペランドを変更している場合は、設定値を取得してください。\n組み込みDBのシステム定義については、以下のマニュアルを参照してください。\nJP1/Automatic Job Management System 3 構築ガイド\n23.1.1\n組み込みDB稼働環境と運用方法の検討\nリカバリー\n組み込みDBをリストアし、システムをリカバリーする方法をご説明します。\n①組み込みDBのリストアが可能なシステム環境をセットアップします。\n組み込みDBのリストアは組み込みDB以外のリカバリーが行えていることが前提となるため、\nJP1/Base、JP1/AJS3 - Managerがインストールされており、バックアップを取得した時の設定状態に\nリカバリーされている必要があります。\nディスク障害などでJP1/AJS3を使用するシステムの環境が壊れた場合、まず組み込みDBのデータ以外を\nリカバリーします。このとき、システム全体のバックアップがある場合は、システム全体のバックアップを\n使用して、システム環境をリカバリーしてください。\nシステム全体のバックアップがない場合は、JP1/BaseとJP1/AJS3の再セットアップ後、以下の\nマニュアルを参照してリカバリーしてください。\nJP1/Automatic Job Management System 3 運用ガイド\n2.　バックアップとリカバリー\n2.3\nJP1/AJS3を使用するシステムの設定情報のリカバリー\n②組み込みDBをリストアします。\n1.jajs_dbbackupコマンドで取得済みのデータ(ディレクトリ)を任意の場所に配置します。\n2.JP1/AJS3 - Managerのサービスを停止します。\n組み込みDBが停止しているかどうかを確認します。\n3.ajsembdbstatus -s ust -id 組み込みDBセットアップ識別子\n＜出力例＞\nHOSTNAME : 127.0.0.1(100019)\nSYSTEMID : ajs2\nUNITID : unt1\nENTRYHOST : 127.0.0.1\nPAIRHOST :\nUNIT-STAT FES-STAT SETUP-STAT\nSTOP ******** UNSETUP\n4.組み込みDBが起動している場合は停止し、停止している場合も一度起動してから停止する。\n(組み込みDBを正常停止するために必要な手順です。)\nWindowsの場合、組み込みDBのサービス(JP1/AJS3 Database _JFx)が停止しているとコマンドが\n実行できません。サービスが停止している場合はコマンド実行前に手動でサービスを開始してください。\n組み込みDBを起動する場合\najsembdbstart -id 組み込みDBセットアップ識別子\n組み込みDBを正常停止する場合\najsembdbstop -id 組み込みDBセットアップ識別子\n5.jajs_dbrestoreコマンドを実行する。\njajs_dbrestore -id 組み込みDBセットアップ識別子 -i バックアップデータ\n「-i」には取得したバックアップディレクトリを指定します。\n6.JP1/AJS3を起動します。\n③組み込みDBのリストア後に必要な作業を実施する。\n1.障害発生時のジョブネット、ジョブの状態に応じて、対処する。\njajs_dbrestoreコマンドを使用してリストアをすると、その後の初回起動は「ディザスタ―リカバリー\nスタート」が行われます。ディザスターリカバリースタートでは、ジョブの実行が抑止された状態で\nJP1/AJS3 - Managerが起動します。起動後に、ジョブのステータスを目視で確認し、必要に応じて\n状態変更や再実行してください。\nまた、バックアップ強化機能によりリストアされるデータには、「一時変更」情報は含まれないため、\nバックアップ取得前後に行った各種の変更も手動で再設定が必要です。\n2.エージェントホストに残っているイベントジョブに関するマネージャーホストの情報を削除する。\n次のコマンドをマネージャーホストで実行して、エージェントホストに残っているリカバリー前の\nマネージャーホストの情報を削除してください。\n-aオプションには、対象の実行エージェント名に対応する実行ホスト名を指定してください。\njpomanevreset -F スケジューラーサービス名 -dh マネージャーホスト名 -a 実行ホスト名\n3.ジョブの実行抑止を解除する。\n次のコマンドを実行してジョブの実行抑止を解除し、業務を再開してください。\najsalter -s none -F スケジューラーサービス名\n以上でリカバリー作業は終了です。\nまとめ\n今回はJP1 V12.1で実装されたオンラインバックアップ機能についてご紹介しました。事前の設定や運用時の考慮点がいくつかありますが、バックアップとリストア自体はとても簡単に行える機能です。\nJP1 V12.1以降をお使いの場合は一度検討してみてはいかがでしょうか。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 (JP1/AJS3) 12-10以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n居城美紀\n1999年入社。BI系のサポートを経て2003年よりJP1担当。\n2020年9月より本ブログ記事を担当することになりました。\nJP1サポートセンターの生き字引としてJP1のお役立ち情報を発信したいと思います。\n京都在住。最近は韓国コスメを色々試すことが楽しみです。\nページトップへ戻る\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202110-telstaff.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/TELstaff】JP1イベントを素早く確認！JP1/TELstaffで簡単にチャットツールと連携\nContent:\n統合管理\n2021.10.28\n【JP1/TELstaff】JP1イベントを素早く確認！JP1/TELstaffで簡単にチャットツールと連携\n2021年3月にリリースされたJP1/TELstaff 12-00/Bでは、通知先としてSlackおよびLINE WORKSへの通知をサポートしました。チャットツール連携については以前のブログ（\n【JP1/IM2】JP1×チャットツールで実現！素早く・手軽なJP1イベントの確認手順\n）でもOSコマンドを使った連携方法をご案内しましたが、JP1/TELstaffを使用することでより簡単に連携できます。ここでは具体的な設定手順についてご紹介します。\n注意事項\nワークスモバイルジャパン株式会社より、\n2023年4月30日をもって LINE WORKS API 1.0の提供を廃止\nすることが発表されました。『\n廃止予定の API\n』\nこのため、JP1/TELstaff 12-00-/Bからサポートされているtlslineコマンドをご利用の場合、2023年5月1日以降、LINE WORKSでのトークルーム作成やメッセージ投稿ができなくなる可能性があります。\nJP1/TELstaff 12-00-/C以降\nでは、tlslineコマンドの前提とするLINE WORKS APIで、\nLINE WORK API 1.0またはLINE WORKS API 2.0の選択が可能\nです。\n2023年5月1日以降も引き続きtlslineコマンドをご使用いただく場合は、JP1/TELstaffの保守先に対処方法をお問い合わせください。\nSlackとの連携\n事前に必要な準備\nSlackと連携するには、Slack側で下記情報が必要となります。\n・AppとToken\n・チャンネル名\n・メンバー名\nJP1/TELstaff側の設定\nJP1/TELstaff側で必要となる設定手順は次の通りです。\n1.コマンド設定ファイル（tlsslack.conf）をテキストエディタで開き、連携のための情報を設定します。\n【コマンド設定ファイル】\n＜JP1/TELstaff インストールフォルダ＞¥V3¥etc¥tlsslack.conf\n【設定例】\n[General]\nLogPath=C:\\Program Files (x86)\\TELstaff\\v3\\var\\log\nコマンドが出力するログの出力フォルダ名を完全名で指定します（省略時は上記パス）\nLogSizeLimit=512KB\nログの最大サイズを指定します（省略時は512KB）\n[Auth]\nToken=xoxb-xxxxx-yyyyy-zzzzz\nSlack App で必要な権限を付与したBot UserOauth Access Token または Oauth AccessToken\nを指定します。\n[Http]\nRequestTimeout=5\nSlack へのリクエストから応答を受信するまでのタイムアウト時間を秒で指定します（省略時は5秒）\n2.JP1/TELstaff導入端末からインターネット接続時にプロキシがある場合、OSのシステム環境設定に\nプロキシアドレスを設定します。システム環境設定を設定後はOSを再起動してください。\n【設定例】\n変数名：HTTPS_PROXY\n値：\nhttp://proxy_addr:8080\n※BASIC 認証ありの場合\nHTTPS_PROXY=\nhttp://user:pass@proxy_addr:8080\n3.tlsslack.exeコマンドでSlackへの発信が行えることを確認します。\n【コマンド形式】\ntlsslack channel post -name\nチャンネル名 --投稿メッセージ\n【コマンド実行例】\n>cd “C:\\Program Files (x86)\\TELstaff\\V3\\bin”\n>tlsslack channel post -name jp1-event -- Slack連携テスト\n【コマンド実行結果】\n{\"channel\":\"C01NPTQEWDV\",\"message\":{\"text\":\"Slack連携テスト\",\"ts\":\"1633920110.000100\",\"type\":\"text\"}}\n4.Slackへメッセージが通知されることを確認します\nLINE WORKSとの連携\n事前に必要な準備\nLINE WORKSと連携するには、LINE WORKS側で下記情報が必要となります。LINE WORKSの\nDeveloper Console画面より以下の情報を事前にご確認ください。\n・API ID\n・Server API Consumer Key\n・Server List（ID登録タイプ）、認証キーをダウンロードしたファイル\n・Bot No\n・メンバーアカウントのID\nJP1/TELstaff側の設定\nJP1/TELstaff側で必要となる設定手順は次の通りです。\n1.ダウンロードした認証キーファイルをJP1/TELstaffのインストール先フォルダの任意の場所へコピーします。\n2.コマンド設定ファイル（tlsline.conf）をテキストエディタで開き、連携のための情報を設定します。\n【コマンド設定ファイル】\n＜JP1/TELstaff インストールフォルダ＞¥V3¥etc¥tlsline.conf\n【設定例】\n[General]\nLogPath=C:\\Program Files (x86)\\TELstaff\\V3\\var\\log\nコマンドが出力するログの出力フォルダ名を完全名で指定します（省略時は上記パス）\nLogSizeLimit=512KB\nログの最大サイズを指定します（省略時は512KB）\nRoomConfPath=C:\\Program Files (x86)\\TELstaff\\V3\\etc\\room.conf\nトークルーム名とトークルームID の関連付けをしたルームID 記録ファイル名を完全名で指定します。\n[Auth]\nApiID=aaaaaaaaaaaaaaaa\nDeveloper Console 画面で取得したAPI IDを指定します。\nServerConsumerKey=bbbbbbbbbbbbbbbbb\nDeveloper Console 画面で取得したServerConsumerKeyを指定します。\nServerListID=cccccccccccccccccccccccc\nDeveloper Console 画面で取得したServer List IDを指定します。\nServerListAuthKey=C:\\Program Files (x86)\\TELstaff\\private_Auth.key\n手順1でLINE WORKS からダウンロードしたServerList(ID 登録タイプ)の認証キーが格納されたファイルの\n完全名を指定します。\n3.Slack連携の際と同様、JP1/TELstaff導入端末からインターネット接続時にプロキシがある場合、\nOSのシステム環境設定にプロキシアドレスを設定します。\n設定内容についてはSlack側手順の2.をご参照ください。\n4.JP1/TELstaff連携で使用するトークルームを作成します。\n※本手順でトークルームを作成せずに作成済みのトークルームを指定することも可能ですが、その場合\nトークルームIDが必要となります。\n※コマンドはJP1/TELstaffインストール先フォルダ\\V3\\binフォルダ配下にあります。\n【コマンド形式】\ntlsline room create -name\nトークルーム\n名 -accounts\nアカウント名\n-bot\nBotID\n※BotIDにはBot NOを指定します\n【コマンド実行例】\n>cd “C:\\Program Files (x86)\\TELstaff\\V3\\bin”\n>tlsline room create -name\nJP1イベント通知用\n-accounts\nxxx.yyy@works-123456\n-bot\n12345\nコマンド実行後「ルームID記録ファイル」が作成されるため、テキストエディタで開きルームIDが\n登録されていることを確認します。\n【ルームID記録ファイル例】\n[Room]\nJP1イベント通知用=98118924\n5.tlslineコマンドでLINE WORKSへの発信が行えることを確認します。\n【コマンド形式】\ntlsline room post -room トークルーム名 -bot\nBotID -- 投稿したいメッセージ\n【コマンド実行例】\n>tlsline room post -room JP1イベント通知用 -bot 123456 -- LINE WORKS連携テスト\n6.LINE WORKSへメッセージが通知されることを確認します\nJP1/IM 自動アクションとの連携\nSlackおよびLINE WORKSのいずれの連携の場合、JP1/IM、JP1/IM2の自動アクション機能に設定することで、ジョブネットの異常終了時などにそれぞれのチャットツールへ連携することが可能です。\n自動アクションでは変数として$EVMSGを指定することで元のJP1イベントを引き継ぐことが可能です。\n以下、JP1/AJS3のジョブネットがエラーとなった場合（イベントID:4104）に通知する場合の設定例です。\n1.JP1/IM-Viewから[オプション]→[自動アクション設定]を開きます。\n2.[追加]をクリックし、[アクション詳細設定]画面のアクションへ、下記コマンドを指定します。\n●Slackと連携する場合\n【コマンド文】\ntlsslack channel post -name jp1-event -- $EVMSG\n【Slackへの連携イメージ】\n●LINE WORKSと連携する場合\n【コマンド文】\ntlsline room post -room JP1イベント通知用 -bot 123456 -- $EVMSG\n【LINE WORKSへの連携イメージ】\nまとめ\n今回はJP1/TELstaff V12からの新機能であるSlack、LINE WORKSへの発報機能についてご紹介しました。\n今回の手順はJP1/IMの自動アクションからJP1/TELstaffのコマンドを実行する方法でご説明しました。もしJP1/TELstaffで設定している連絡網でメール送信等とあわせてチャット通知を行いたい場合は、JP1/TELstaffの連絡網にて「コマンド」を選択し、今回ご案内しているチャット連携のコマンド(tlsslack、tlsline)をJP1/TELstaffの連絡網の発信先の1つとして実行させることも可能です。\nSlack・LINE WORKSを利用されているJP1/TELstaffユーザ様は、バージョンアップいただくことでご利用いただけますので、是非ご検討ください。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/TELstaff 12-00/B以降\nJP1/Integrated Management (JP1/IM) 09-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n西尾 高治\n2003年入社。JP1のフィールドエンジニアを経て2015年よりJP1サポートセンターにて勤務。\n2020年9月より本ブログ記事を担当することになりました。JP1を利用されている方に少しでもお役に立てる情報を提供したいと思います。\n奈良在住。最近は家庭菜園にハマっています。\nページトップへ戻る\n関連している記事\n統合管理\n2023.05.16\n【JP1/IM】JP1初心者向け！ログファイル監視の設定方法を解説（後編）\n定期的なサーバ再起動やメンテナンス時に、不要な通報通知を抑止する方法をご紹介します。\n統合管理\n2023.05.09\n【JP1/Base】JP1初心者向け！ログファイル監視の設定方法を解説（前編）\n定期的なサーバ再起動やメンテナンス時に、不要な通報通知を抑止する方法をご紹介します。\n統合管理\n2021.03.29\n【JP1/IM2】JP1×チャットツールで実現！素早く・手軽なJP1イベントの確認手順\n素早く・手軽にJP1イベントを確認するため、JP1イベントとSlackおよびGoogle Chatとの連携手順をご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/2021111-ajs3.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】Amazon S3のファイルをJP1で監視してみよう！\nContent:\nジョブ管理\n2021.11.29\n【JP1/AJS3】Amazon S3のファイルをJP1で監視してみよう！\n機能の概要\n近年、Amazon Simple Storage Service（以下、Amazon S3）を活用する企業が増加しています。また、社内のバッチ処理でもAmazon S3上のファイルを用いた処理のニーズが増加しています。\n日立製作所から提供されている「AWSサービス連携ツール」を用いると、JP1/AJS3とAmazon S3 が連携可能となるカスタムジョブ（以下、S3連携ジョブ）を利用できます。 S3連携ジョブを利用すると、Amazon S3 バケット内のファイルのダウンロード/アップロード、削除やコピーの他、作成/削除/更新を契機とするファイル監視の処理をGUIで定義し、他のJP1のジョブと同様に監視することができます。 AWS Command Line Interface (以下、AWS CLI) によるコマンドの処理を作り込む必要はありません。\nそのため、例えば、Amazon S3 バケット内に特定のファイルが更新されるまで監視を行い、更新されたらエージェントホストにダウンロードを行うといった処理が可能です。\n※下記図表のサービス名表記：Amazon Elastic Compute Cloud（以下、Amazon EC2）\n前提条件\n大まかな条件は下記の通りです。\nエージェントホストにて、AWS CLI バージョン2 を導入\nJP1/AJS3 12-00以降\nJP1/AJS - View（ジョブを定義する側）環境：Microsoft .NET Framework 4.5 以降\nエージェントホストから、AWS S3 へアクセスできるよう、いずれかの対応を行う\n・IAMロールをエージェントホスト（EC2 インスタンス）に割り当てる\n・IAMユーザーにアタッチされたアクセスキーを生成し、「aws configure」でプロファイル\n（長期的な認証情報）を作成する\n(補足)\n「aws s3 ls s3://バケット名」等を実行し、バケットにアクセス可能かご確認ください。\nその他、前提条件の詳細につきましては弊社もしくは、JP1の保守契約先にご確認ください。\nAmazon S3連携ジョブの事前準備\n本ブログでは、Windows 環境を前提にご紹介します。\nジョブ実行先ホストのセットアップ\n1. AWSサービス連携ツールを入手\nご契約いただいている保守先から入手します。\nアシストとご契約いただいたいるお客様は、ユーザーサイトから入手可能です。\n詳細は弊社サポートセンターまでお問い合わせください。\n2. AWSサービス連携ツール（ajsawsフォルダ）を任意のパスに配置\n例) \"C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\ajsaws\"\n※注意※\n・後述するカスタムジョブで指定する実行プログラムのパスになります\n・Windowsホストの場合は「%windir%\\System32」配下以外に配置してください\n・共有ディスクやNFS以外のローカルディスクに配置してください\n3. 「AWSサービス連携ツールのパス/log」の書き込み・読み込み権限を設定\n4. AWS CLI バージョン2をインストール後の対応として、インストールしたサーバーで下記を実施\nJP1/AJS3のサービスを再起動\n5. 「aws configure」でプロファイルを作成している Windows 環境の場合は、\n下記作業を追加で実施\nプロファイルの生成先フォルダ「%USERPROFILE%\\.aws」を\n「%WINDIR%\\System32\\config\\systemprofile\\」にコピーし、\n「.aws」フォルダおよび配下のファイルに「Everyone」の読み込み権限を付与\nJP1/AJS3 - View側のセットアップ\nS3連携ジョブは、カスタムジョブです。\nそのため、ユーザーがカスタムジョブを事前に作成する必要があります。\nJP1/AJS3 - View を導入している端末で作業を行います。\n1. AWSサービス連携ツールに含まれている、ajsawsdefフォルダを任意のパスに配置\n※注意※\n・JP1製品のインストールパス配下以外に配置してください\n・共有ディスクやNFS以外のローカルディスクに配置してください\n・JP1/AJS3 - Viewをインストールしているドライブと同じドライブに配置してください\n今回の手順では、「Hitachi」フォルダ配下に「JP1AJS2Vtool」フォルダを作成した上で、「ajsawsdef」フォルダを配置します。\n2. AWSサービス連携ジョブのアイコンファイル（ajsawsdef\\image\\custom）を「JP1/AJS3 - Viewインストール先フォルダ\\image\\custom」に配置\n3.下記設定でカスタムジョブを登録\n・名前：任意\n・コメント：任意\n・定義プログラム：項番1のパス\\bin\\ajsawss3def.bat\n例：\"C:\\Program Files (x86)\\Hitachi\\JP1AJS2Vtool\\ajsawsdef\\bin\\ajsawss3def.bat\"\n・実行プログラム：「\nジョブ実行先ホストのセットアップ\n」の項番1で配置したパス\n\\bin\\ajsawss3.exe\n例：\"C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\ajsaws\\bin\\ajsawss3.exe\"\n・バージョン：0600\n・クラス名　：AWSS3PC\nAmazon S3連携ジョブの定義方法\n本ブログでは、S3連携ジョブを用いて、S3の任意のファイルを監視し、更新を契機に監視対象ファイルをエージェントホストにダウンロード後、そのファイルをもとにPCジョブで処理を行うケースを例に、S3連携ジョブの定義方法をご紹介します。\nAmazon S3連携ジョブ（ファイル監視）\n1. カスタムジョブメニューから、登録済みのS3連携ジョブをドラッグアンドドロップ\n2. S3連携ジョブの詳細定義画面を開き[詳細]ボタンを押下\n3. ファイルの更新を監視できるよう、下記の通り設定\n操作種別：\nS3ファイルに対する操作種別を選択します。\nS3ファイルの転送、削除に関する操作をする場合は[ファイル操作]を選択します。\nS3ファイルの監視を行う場合は[ファイル監視]を選択します。\n監視対象（S3 URL）：\n監視対象のオブジェクトパス（S3 URI）を入力します。\n複数ファイル（ワイルドカード）の監視はできません。\n監視操作：\n監視対象のS3ファイルへの監視操作をOR条件で選択します。\n監視間隔：\nファイル操作が完了しているかを監視する間隔を入力します。\nプロファイル名：\nAWS CLIで使用するプロファイルを利用する必要がある場合は、\nプロファイル名（--profile の引数）を入力します。\n通信設定：\n・接続タイムアウト時間\n→AWS CLIのソケットの通信接続のタイムアウト時間（--cli-connect-timeoutの引数）\nを入力します。\n・受信タイムアウト時間\n→AWS CLIの、サーバからのパケットを最後に受信してから、\n次のパケットを受信するまでに待機する時間（--cli-read-timeoutの引数）\nを入力します。\nオプション設定：\n→AWS CLIの追加オプションを入力します。同じオプションが重複して指定された場合は、\n後から指定された内容が有効になるので重複していないかは[コマンドラインプレビュー]にて\nご確認ください。\nAmazon S3連携ジョブ（ダウンロード）\nダウンロードの場合は、下記の通り設定\n※ダウンロード先に、エージェントホスト側でのファイルの保存先フォルダを指定します。\nファイルの操作：\nS3ファイルに対する操作を[ダウンロード][アップロード][コピー][削除]の中から選択します。\nダウンロード元（S3 URL）：\n単一ファイル指定/ワイルドカード指定\n→[ダウンロード][アップロード][コピー][削除]対象のファイルが1つのファイルか、\n複数のファイルかを選択します。\n[フルパス名]\n→[ファイルの操作]で選択した種別に応じて指定可能な項目が変化します。\nダウンロード元（S3 URI）\nアップロード元（ファイルパス）\nコピー元（S3 URI）\n削除対象（S3 URI）\nダウンロード先（ファイルパス）：\n[ファイルの操作]で選択した種別に応じて指定可能な項目が変化します。\nダウンロード先（ファイルパス）\nアップロード先（S3 URI）\nコピー先（S3 URI）\n動作確認\n1. 下記の通りジョブを定義し、実行登録\n2. 監視対象のS3のバケット内にあるファイルは下記状況\n3. 監視対象のS3のバケット内にあるファイルを更新し、タイムスタンプが変わることを確認\n4. 更新を検知し、S3のバケットから、ファイルをエージェントホストにダウンロード\n5. ダウンロード処理と後続のジョブが完了し、正常終了\nまとめ\n今回はJP1 V12-00から利用可能なS3連携ジョブについてご紹介しました。事前の設定や前提条件がありますが、エージェントホストから Amazon S3へアクセスできれば、簡単に実装可能です。 また、S3連携ジョブであれば、AWS CLI の処理をコードレスかつGUIで定義できます。\nJP1で AmazonS3 との連携を検討されている方は、ぜひご活用ください。\n今回の記事と併せてご覧いただくと、より理解を深めていただける動画を公開しました。こちらもぜひご覧ください。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 (JP1/AJS3) 12-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n引間 康将\n2013年、株式会社アシスト入社。Oracle製品を担当後、2015年よりJP1の顧客サポートを担当。「超サポとは感情に働きかけるサポート」を信念にお客様にご満足いただけるサポートを提供できるよう、奮闘中。\n趣味は、バイクツーリングと筋トレ。\nページトップへ戻る\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202112-jp1agent.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup][Design]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】JP1エージェントとは？設定方法や意外と知らない落とし穴について解説！\nContent:\nジョブ管理\n2021.12.24\n【JP1/AJS3】JP1エージェントとは？設定方法や意外と知らない落とし穴について解説！\nJP1の「エージェント」とは\nJP1の製品群はマネージャと、エージェントもしくはクライアントの主に2つのソフトウェアで構成されています。※本記事では主に「エージェント」について記載します。\nJP1のエージェント製品は、ジョブの実行先や監視対象となるサーバにインストールして、マネージャからの要求で実際に業務を実行したり、情報を返答するといった役割を担います。\n今回は、\n意外と知られていないエージェント製品の導入時の注意事項や設定の重要性\nについてご紹介をします。\nJP1のエージェント設定が必要になるシーン\nJP1の運用管理システムは、初期導入時にマネージャとエージェント環境を一通り構築すれば、その後のメンテナンスを除いて追加の作業は発生しません。この初期導入を、大規模なシステムであればあるほど、外部ベンダーに作業を委託することが多いのではないでしょうか。その際、ベンダーからスキルトランスファーや手順書などのドキュメント納品が行われるケースもあれば、特にノウハウの共有はなく、構築済みの環境を引き渡して作業完了、というケースもあるようです。\nJP1エージェント導入を内製化するお客様が増加\nしかし、最近では、自社へのノウハウ蓄積やコスト削減のために、JP1の導入・設定を内製化したいというお客様も増えています。特に、システム追加や拡張で管理対象サーバが増えた時のエージェント製品の導入・設定を、製品マニュアルや既存環境の設定情報などを参考に、自社で実施しているという声は良く聞きます。\nさらにエージェント製品はあまり細かな設定をせずとも、インストール後のデフォルト値である程度動作するので作業負荷も低く、運用現場でもあまり抵抗感無く導入作業が進められているのではないでしょうか。\nただ実は、「デフォルト設定のままのエージェント」は危険をはらんでいることがあるのです。\nエージェント設定に潜む落とし穴！？\n動作に問題がなければ特に意識されないエージェントの設定ですが、実は次のような落とし穴が潜んでいます。\n落とし穴1：デフォルトの設定値のままではダメ\n例えば、JP1ジョブ管理製品であるJP1/AJS3-Agentやその前提製品であるJP1/Baseの場合、デフォルトの設定値のままだと、保存できるログのファイルサイズが小さかったり、JP1関連プロセスダウン時のエラー通知や自動再起動設定が無効となっています。\n＜その他デフォルトでは有効にならない主な機能＞\n・ジョブ定義内容の事前チェック機能\n・SNMPトラップ送信抑止機能\nエージェント自身がトラブル予防や対策のための様々な機能を持っていても、インストールしただけでは100％その力を発揮できないのです。\n落とし穴2：膨大なマニュアルの読み込みが難しい\nJP1購入時に、メーカーのマニュアルも提供されるのでマニュアルを読めばエージェントの導入・設定は可能ですし、実際に「できるだろう」と考えるユーザー様もいらっしゃいます。\nしかしマニュアルはページ数も文章量も膨大で、エージェントが持つ設定値の意味の理解や適切な値は何なのか？設定した内容がきちんと反映できているのか？それを確認するにはどうすれば良いのか？など、必要な情報を探すのには多くの工数を要します。\nこのように、単純と思われがちなエージェントの導入作業にも、実は様々な「勘所」が存在しているのです。\nエージェントの設定および確認手順\nここで改めて、エージェントをインストール、設定する際の大まかな流れをご紹介します。\nSTEP1：エージェントをインストールする\nインストーラを起動して、あらかじめ指定したパスにインストールをします。\nデフォルトではシステムドライブの「ProgramFiles」配下にインストールされるので、任意のフォルダにインストールしたい場合には、この時点で変更する必要があります。\nなお、「JP1/AJS3-Agentの前にJP1/Base」、「JP1/Cm2/SSO-Agent for Processの前にJP1/ESA」など、前提製品を踏まえて順番を考慮する必要がある製品もあります。\n画面はWindows版のインストーラーです。\n必要な製品を選択して導入しますが、導入の順番に注意する製品があります。\nSTEP2：エージェントの設定値を変更する\n必要な設定値を修正・反映していきます。\nマニュアルを見ると多くの設定項目が存在しますが、どういう目的で用意されているパラメータなのか読み解くのも一苦労かと思います。\n目的によって異なる設定ファイルが、複数存在します。\nSTEP3：サーバ再起動・動作確認テスト実施\nWindowsの場合はサーバを再起動をした後、マネージャと接続確認と動作確認をして、想定通りの動作をしているかを確認します。\nエージェント設定の推奨値がわかる「パラメータシート」公開中！\nアシストでは内製化志向のお客様向けに、ご自身でエージェントの設定や導入、テストを実施できる、最新版(JP1 V12.5)にも対応した\nエージェント設定項目パラメータシートとテスト設計書\nを無償公開しています。\n併せて、マネージャー製品のパラメータシートも公開していますので、自社の設定との違いなどもチェックしていただけるかと思います。\nどなたでも無償でダウンロードしていただけますので、この機会にぜひお気軽にご覧ください！\nノウハウ無償ダウンロードページへ\n製品正式名称(略称表記)\nJP1/Base(JP1/Base)\nJP1/Automatic Job Management System 3 (JP1/AJS3)\nJP1/Cm2/SNMP System Observer-Agent for Process(JP1/Cm2/SSO-Agent for Process)\nJP1/Extensible SNMP Agent（JP1/ESA）\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\nページトップへ戻る\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202201-ajs3.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup][Design]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】入門編！JP1の基本用語を理解しよう！\nContent:\nジョブ管理\n2022.01.31\n【JP1/AJS3】入門編！JP1の基本用語を理解しよう！\nJP1のマニュアルを読んでも単語が理解できない、そんなことはありませんか？今回は、JP1/AJS3のマニュアルを読む上で理解しておきたい、JP1の基本用語について解説します。\nユニットと種類\n① ジョブグループ\nルートジョブネットを階層管理するフォルダのことをジョブグループといいます。ジョブグループには、カレンダーや基準日、基準時刻を設定することができます。\n② ルートジョブネット\n実行登録を行う単位のジョブネットです。ルートジョブネットは、スケジュールや保存世代数、多重起動の設定などができます。\n③ ネストジョブネット\nルートジョブネット配下に置かれたジョブネットです。JP1/AJS3-View画面上では、ジョブネットエディタ画面やジョブネットモニタ画面の[ジョブネット]アイコンを指します。\nネストジョブネットは、デフォルトではルートジョブネットと同じスケジュールで動作しますが、個別のスケジュールを設定することも可能です。\n④ ジョブネット\nジョブを階層管理するフォルダのような役割を持つものをジョブネットといいます。ジョブネットには2種類あり、それぞれ「ルートジョブネット」「ネストジョブネット」といいます。\n⑤ ユニット\nジョブやジョブネット、ジョブグループの総称です。\n⑥ ジョブ\nユニットの中の最小単位をジョブといいます。JP1/AJS3-View画面上では、ジョブネットエディタ画面やジョブネットモニタ画面の各アイコンがジョブに当たります。ただし、「ジョブネット」アイコンは除きます。\nジョブの種類\n主なジョブの種類は「標準ジョブ」「イベントジョブ」「アクションジョブ」「カスタムジョブ」の4つに分かれます。\n（１）標準ジョブ\nUNIXジョブ、PCジョブ、QUEUEジョブ、フレキシブルジョブの総称です。\n（２）イベントジョブ\n起動条件(.CONDITION)に指定可能な「事象(イベント)の発生を監視するジョブ」の総称です。JP1/AJS3-View画面上では、ジョブネットエディタ画面の[イベント]タブに存在するジョブが該当します。具体的には、JP1イベント受信監視ジョブ、ファイル監視ジョブ、メール受信監視ジョブ、メッセージキュー受信監視ジョブ※、MSMQ受信監視ジョブ※、ログファイル監視ジョブ、Windowsイベントログ監視ジョブ、実行間隔制御ジョブを指します。※11-00以降の場合、デフォルトでは非表示です。\n（３）アクションジョブ\n特定の処理を実行するジョブの総称です。JP1/AJS3-View画面上では、ジョブネットエディタ画面の[アクション]タブに存在するものが該当します。具体的には、JP1イベント送信ジョブ、メール送信ジョブ、メッセージキュー送信ジョブ※、MSMQ送信ジョブ※、JP1/Cm2状態通知ジョブ、ローカル電源制御ジョブ、リモート電源制御ジョブを指します。※11-00以降の場合、デフォルトでは非表示です。\n（４）カスタムジョブ\nJP1/AJS3以外のプログラムを、JP1/AJS3と連携するためのジョブです。JP1/AJS3のデフォルトでは存在しないジョブで、登録作業を行うことで追加されます。JP1/FTS/FTPの伝送を行うジョブや、JP1/AJS3 for EAPのバックグラウンド処理を実行するジョブ、AWSとの連携が可能な\nS3連携ジョブ\nなどが該当します。\nユニットの状態\nジョブネットとジョブには、実行中、キューイング、繰り越し未実行などといった、ユニットの状態を示す名称があります。各状態がどのようなステータスであるかは、マニュアルに記載されています。\nJP1/Automatic Job Management System 3 導入ガイド\n―　6.1　ジョブネット・ジョブ・ジョブネットコネクタの状態　―\n例えば「強制終了」状態の詳細は以下の通りです。\n次のどれかの理由で，ジョブまたはジョブネットを強制終了した状態。\n・実行中に終了結果をファイルへ書き込めなかったなど，ジョブまたはジョブネットの終了状態を\n判別できないような障害が発生した\n・実行中にJP1/AJS3 - Managerサービスが停止した\n・実行中にシステムが停止した\n・実行中のジョブを強制終了した\n・実行中のジョブが指定時間を超えたため処理の打ち切りを実行したジョブネットコネクタの場合は，\n実行中にルートジョブネットを強制終了したときの状態。\nこのように、各ユニットの状態を理解することで、対象ユニットが何によってどんな状態になったのかを把握できます。\nスケジューラーサービス(AJSROOT1)\nJP1/AJS3-View画面上では、最上位ジョブグループとして存在します。配下のジョブグループと同様にカレンダー設定などが行えますが、JP1/AJS3内部としては、スケジューラーサービスごとに機能が独立しています。例えば、ひとつのJP1/AJS3で、ルールが異なる複数のシステムを運用するケースで活用できます。また、スケジューラーサービスごとに複数並行してジョブを実行できるので、ジョブ数の多い環境ではスケジューラーサービスを分割することで、処理性能が上がることがあります。\nスケジューラーサービスは、新規インストール時は物理ホストにひとつ、「AJSROOT1」という名称で作成されます。また、最大20個まで作成することが可能です。\nスケジューラーサービスを意識するのは、主に各コマンド実行時です。\n(例)\nジョブの実行結果を出力する場合\n> ajsshow -F スケジューラーサービス名 ジョブ名\nコマンド実行時などに指定するジョブ名は、上位のジョブグループ名からスラッシュ区切りで指定します。この時、スケジューラーサービス名は不要です(上記のように、別オプションで指定します)。\n以下の構成の場合は「/JobGroup/RootJobnet/ジョブネット/PCジョブ」になります。\n※ジョブネットエディタ画面やジョブネットモニタ画面の左上では、「スケジューラーサービス名:/ジョブネットパス」が確認できます。この形式は「ユニット完全名」と呼ばれ、各ユニットを右クリック→[ユニット完全名を記憶]にてコピーすることが可能です。\n組み込みDB(_JF0)\nJP1/AJS3に登録されているジョブやスケジュールなどを格納するデータベースです。新規インストール時には「_JF0」というデータベースが構築されています。スケジューラーサービスと同様に、組み込みDBも複数構築することが可能です。\n組み込みDBは、データベースごとにサービスが独立しています。よって、_JF0を停止したとしても、_JF1が起動していれば、_JF1上のジョブ(上記の場合AJSROOT3配下のジョブ)は実行が可能です。\nまた、スケジューラーサービスと同様に、組み込みDBを分割してジョブを実行することでデータベースへの負荷を分散できます。\nまとめ\n2022年最初のブログはJP1用語について取り上げました。\nJP1のマニュアルには詳細な情報が記載されていますが、用語を知っていないと理解できない内容も多いかと思います。\n「せっかくマニュアルを調べたのに意味がわからなかった」が少しでも解消されれば幸いです。\nなお、弊社ではJP1の基本用語だけでなく、便利な使い方や設計ノウハウなどを無料セミナーでも紹介しています。どなたでもお気軽にご参加いただけますでの、ご興味がある方は\nコチラから\n詳細ご覧ください。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 (JP1/AJS3) 09-00以降\nJP1/File Transmission Server/FTP (JP1/FTS/FTP) 09-00以降\nJP1/Automatic Job Management System 3 for Enterprise Applications (JP1/AJS3 for EAP) 09-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n栗山 綾美\n2012年、株式会社アシスト入社。セキュリティ製品を担当後、2013年より\nJP1の顧客サポートを担当。「JP1認定シニアコンサルタント」の資格保有者。\nサポートの経験を活かしたブログを目指します。\n趣味は、夢と魔法の国(と、冒険とイマジネーションの海)に行くこと。\nページトップへ戻る\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202202-12.6.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1全般】JP1新バージョン「V 12.6」の 新機能を一挙紹介！\nContent:\nJP1全般\n2022.02.25\n【JP1全般】JP1新バージョン「V 12.6」の 新機能を一挙紹介！\nJP1の最新バージョン「Version 12.6」が2022年1月24日にリリースされました。\nそこで本記事では、Version 12.6の主な新機能と、JP1 Cloud Serviceの新サービスである\n「JP1 Cloud Service/Operations Integration」(以下、Ops I)についてご紹介します。\nアシストが厳選するおススメ機能の詳細は、別記事でご紹介予定です。\n※本記事には、2022年3月リリース予定の製品情報も含まれています。\n「ジョブ管理製品」の新機能一覧\n●\nJP1/AJS3\n・Azureサービス（Azure Blob storage、Azure Logic Apps）と連携するカスタムジョブを提供。\n・AWSとAzure上での、DNS書き換えによる引き継ぎ方式のクラスタ構成をサポート。\n・ファイル監視ジョブでネットワークを介したファイルの監視をサポート。\n・ファイル監視ジョブがファイルを監視する際に呼び出すOSコマンドが無応答になった場合に、エージェントの\n統合トレースログにメッセージを出力し、異常を検知可能に。\n・ajsrerunコマンドのリトライオプションの追加。\n・DBaaS連携を行う際、Amazon RDS for SQL Serverの「SQL Server 2019」に対応。\n・Web GUIの自動更新間隔やセッションタイムアウト時間を設定可能に。\n・DockerおよびPodmanのコンテナ上にJP1/AJS3 - Agentを導入可能に。\n「資産管理製品」の新機能一覧\n●\nJP1/ITDM2\n・Azure Virtual Desktopの利用ユーザーの操作ログを管理可能に。\n・ソフトウェア検索を任意のタイミング、管理対象機器に対してコマンドで実行可能に。\n・LSPを使用せずに操作ログを取得可能。これにより、その他のソフトウェアの動作を阻害せずに操作ログを\n取得可能に。\n・Mac OS X Catalina​ / Big Surを管理対象としてサポート。\n・IT資産費用レポートで「ハードウェア資産の費用」「ソフトウェアライセンスの費用」「その他の費用」の\n総計を確認可能に。\n・操作ログのエクスポート機能で操作ログ取得元エージェントの操作日時（UTC）、タイムゾーン、操作日時（ローカルタイム）を出力可能に。\n・管理台数の上限を30万台まで拡張。\n・Asset Consoleにおけるソフトウェア名の名寄せの自動化を実装。\n「IT運用自動化」の新機能一覧\n●\nJP1/AO\n・Red Hat Enterprise Linux 8に対応。\n●\nJP1/NP\n・Microsoft Edge、Google Chromeに対応。\n運用オペレーションの統制・統合を実現するプラットフォーム、Ops I\nOps IはIT部門の運用変革の加速化、およびDX推進を背景として提供されたサービスです。システムごとにサイロ化した運用オペレーションの統制・統合を実現するほか、ハイブリッドクラウド・マルチクラウド環境や先進的な運用ツールなどとの連携により、運用品質向上や全体最適化、運用ガバナンスに関する負担軽減を可能とします。\nOps IはSRE*(Site Reliability Engineering)に基づいて開発されています。具体的には、運用オペレーションをコードで行う「Operation as Code」の実現により、従来はシステムごとに人手に依存して行ってきた作業を各システムで再利用可能にすることで、属人化の排除と運用統制を両立させ全体最適化を図ります。\nSREとは\nGoogle社が提唱・実践しているシステム運用の方法論です。システムが高い信頼性と拡張性を保てるよう、IT運用の様々な問題をソフトウェア活用によって解決します。\n海外の大企業の多くが、SREを採用。国内でもクラウド・ネイティブ企業などを中心にSREを取り入れ始めています。\nまとめ\nV12.6がリリースされました。\nJP1/AJS3 では、Azureサービスとの連携やDNS書き換えによる引き継ぎ方式のクラスタ構成のサポート等、クラウドとの連携が強化されました。\nまた、ネットワークを介したファイルの監視がサポートされる等、多くのお客様からご要望頂いていた機能がついにサポートされるようになりました。\n更に、Ops Iによって運用のコード化（Operations as Code）を実現し、DX推進に向けたIT運用の変革を支援します。\nマルチクラウド・ハイブリッドクラウド管理の強化やコンテナ・マイクロサービス化への対応など、JP1はシステムを取り巻く環境の変化にあわせた機能拡張を続けています。\nぜひ、v12.6へのバージョンアップをご検討ください！今後とも、JP1をよろしくお願いします。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 (JP1/AJS3) 12-60以降\nJP1/IT Desktop Management 2 (JP1/ITDM2) 12-60以降\nJP1/Automatic Operation (JP1/AO) 12-60以降\nJP1/Navigation Platform (JP1/NP) 12-60以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n岩井 美由希\n2019年入社時よりJP1のサポートセンターにて勤務。2021年よりお客様向けの研修講師も担当しています。お客様からよくいただくご質問等をもとに、JP1のお役立ち情報を発信したいと思います。\n大阪在住。日本酒と猫が好きです。\n関連している記事\nJP1全般\n2025.06.27\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2026年3月に限定サポートが終了するVersion9から、JP1の最新バージョンである Version13に移行するにあたって検討すべきことをまとめました。\nJP1全般\n2025.02.27\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\nJP1サポート技術者が、お客様によくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介します。\nJP1全般\n2024.09.30\n【JP1全般】JP1新バージョン「V 13.1」の 新機能を一挙紹介！\n2024年9月30日にリリースされたJP1の新バージョン「Version 13.1」の新機能一覧をご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202202-manual.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\nContent:\nJP1全般\n2025.02.27\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\nJP1技術者としてサポートしている際に、お客様への説明のためにWeb上に公開されている日立製作所社の外部サイトを紹介する事が多々あります。\nそこで本記事では、知っておくと便利なサイトを一挙にご紹介します。\nライセンスの基本的な考え方と最適な利用について押さえるべきポイントをご紹介します。こちらも合わせてぜひご覧ください！\nよくご紹介するマニュアル箇所\nマニュアルは仕様をご説明する際に毎回ご案内しています。ここでは Version13のマニュアルサイトをご紹介しますが、バージョンごとに内容が異なる場合があります。そのため、ご利用中のバージョンのマニュアルをご確認するようにしてください。\nJP1 Version 13マニュアル\n※Version 8～Version 12も同じサイトで確認可能です。\nまた、下表のとおりVersion13のマニュアルを例にして、特にご質問の多い「Versionごとの機能差異」や「各製品のプロセスとファイアーウォール通過方向」、「ウィルス対策ソフト除外フォルダ」が記載されている箇所を紹介します。\nVersionごとの機能差異\nプロセス／ファイアウォール通過方向\nウィルス対策ソフト除外フォルダ\nジョブ管理\nJP1/AJS3\nJP1/AJS3\n統合管理\nJP1/IM\nJP1/IM\nJP1/Base\nJP1/Base\nネットワーク管理\nJP1/NNMi\nJP1/NNMi\nJP1/SSOプロセス\n▼Windowsの場合\nインストールディレクトリ配下\n▼Linuxの場合\n（1）/opt/CM2 配下\n（2）/var/opt/CM2 配下\n（3）/etc/opt/CM2 配下\nJP1/SSOファイアウォール\n資産管理\nJP1/ITDM2\nJP1/ITDM2\n※エージェント製品やオプション製品に関しては、別途各マニュアルよりご確認ください。\n動作環境対応状況\nVersion12・Version13でサポートされているOSやクラスタソフトなどの動作環境を確認できるサイトを紹介します。JP1やOSをバージョンアップする際など、ご利用の製品バージョンがOSに対応しているかなどを事前にご確認ください。\n※Version11以前については、各ベンダーへお問い合わせください。\n動作環境・対応状況・サポート範囲\n上記サイトで確認できること\nOS対応状況\nクラウドプラットフォーム対応状況\n仮想化プラットフォーム対応状況\nクラスタソフト対応状況（オンプレミス環境）\nクラスタソフト対応状況（クラウド環境）\nブラウザ対応状況　など\nライフサイクルポリシー（EOS・EOL・EOSL）\nお使いのJP1のサポート期限を把握することで、リプレース時期の目安になります。ライフサイクルに関する外部サイトは\nコチラ\nをご覧ください。また、利用期限の目安は下表をご参照ください。\n製品出荷開始\n製品販売終了\n標準サポート終了\n限定サポート終了\nVersion9\n2011/03\n2016/01末\n2021/03末\n2026/03末\nVersion10\n2014/03\n2019/01末\n2024/03末\n2029/03末\nVersion11\n2016/09\n2023/06末\n2028/09末\n2033/09末\nVersion12\n2019/09\n2026/09末\n2031/09末\n2034/09末\nVersion13\n2023/06\n2029/06末\n2034/09末\n2039/09末\n※\n2025年2月時点の情報です。製品によっては、上記とは販売終了、サポート時期が異なるものがございます。詳細はJP1の販売元にお問い合わせください。\n※\nVersion9の限定サポート終了が\n2026年3月末\nに予定されています。限定サポート終了後は\n問題解決支援、改良版提供、情報提供が行われなくなります\nのでご注意ください。\nライセンス\nJP1には、以下3つのライセンス形態があります。\n・プロセッサ数ライセンス\n・インストールライセンス\n・管理数ライセンス\nライセンスの考え方を詳しく知りたい方向けに、\nJP1ブログ記事\nをご用意していますので、ご参照ください。\n今すぐ概算費用が知りたい、要件にあった正確な費用が知りたい場合は、\nコチラ\nよりお問い合わせください。\n参考情報\n弊社とサポートサービスをご契約中のお客様は、日立製作所が重大度が高いと判断した障害のみを集めたページを、専用サイトより閲覧することができます。\n※サイトにない情報につきましては、アシストに直接お問い合わせください。\nクリックして拡大\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 - Manager（JP1/AJS3 - Manager）\nJP1/Integrated Management 3 - Manager（JP1/IM3）\nJP1/Network Node Manager i（JP1/NNMi）\nJP1/SNMP System Observer（JP1/SSO）\nJP1/Extensible SNMP Agent （JP1/ESA）\nJP1/SNMP System Observer - Agent for Process（JP1/SSO - AP）\nJP1/IT Desktop Management 2（JP1/ITDM2）\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n2022年7月に中途入社。JP1のサポートセンターにて勤務。分かりやすい回答をご案内できるように心掛けています。2023年4月より本ブログ記事を担当することになりました。\n趣味は旅行です。特に京都が好きで、よく行きます。\n関連している記事\nJP1全般\n2025.06.27\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2026年3月に限定サポートが終了するVersion9から、JP1の最新バージョンである Version13に移行するにあたって検討すべきことをまとめました。\nJP1全般\n2024.09.30\n【JP1全般】JP1新バージョン「V 13.1」の 新機能を一挙紹介！\n2024年9月30日にリリースされたJP1の新バージョン「Version 13.1」の新機能一覧をご紹介します！\nJP1全般\n2024.07.01\n【JP1全般】JP1のライセンス体系について分かりやすく解説\nJP1のライセンス体系について基本的な考え方を解説します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202204-ajs3.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】Azure Blob StorageのファイルをJP1で監視してみよう！\nContent:\nジョブ管理\n2022.04.28\n【JP1/AJS3】Azure Blob StorageのファイルをJP1で監視してみよう！\n機能の概要\n昨年、Amazon Simple Storage Service（以下、Amazon S3）と連携する機能をテーマに「\n【JP1/AJS3】Amazon S3のファイルをJP1で監視してみよう！\n」のブログを執筆しました。この度、Microsoft Azure のサービスの1つである、Azure Blob Storage と連携が可能な機能が提供されたため、ご紹介します。\n日立製作所から提供されている「Azureサービス連携ツール」を用いると、JP1/AJS3とAzure Blob Storage を連携させるカスタムジョブ（以下、BlobStorage連携ジョブ）が利用できます。BlobStorage連携ジョブを利用すると、Azure コマンド ライン インターフェイス（以下、Azure CLI）によるコマンド処理で、Azure Blob\nStorage 上の任意のコンテナー内のBLOB（ファイル）のダウンロード/アップロード、削除やコピーの他、作成/削除/更新を契機とするファイル監視を行えます。\nそのため、例えば、JP1/AJS3 で Azure Blob Storage 上 の任意のコンテナー内に存在する特定のファイルが更新されるまで監視を行い、更新されたらエージェントホストにダウンロードを行うといった処理が可能です。\n前提条件\n大まかな条件は下記の通りです。\nエージェントホストにて、Azure CLI 2.0 以降 を導入\nJP1/AJS3 - Manager および JP1/AJS3 - Agent 12-00以降\nJP1/AJS3 - View（ジョブを定義する側）環境：Microsoft .NET Framework 4.5 以降\nエージェントホストから、Azure Blob Storage へアクセスできるよう、認証情報の設定を行う（※）\n（※）…az storage blob list コマンドを用いて、エージェントホストから対象の\nコンテナーに保存されているファイルが参照できることをご確認ください。\nその他、前提条件の詳細につきましては貴社のJP1保守契約先にご確認ください。\nBlobStorage連携ジョブの事前準備\n本ブログでは、Windows 環境を前提にご紹介します。\nジョブ実行先ホストのセットアップ\n1. Azureサービス連携ツールを入手\nご契約いただいている保守先から入手します。\nアシストとご契約いただいているお客様は、ユーザーサイトから入手可能です。\n詳細は弊社サポートセンターまでお問い合わせください。\n2.Azureサービス連携ツール（ajsazフォルダ）を任意のパスに配置\n例) \"C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\ajsaz\"\n※注意※\n・後述するカスタムジョブで指定する実行プログラムのパスになります\n・Windowsホストの場合は「%windir%\\System32」配下以外に配置してください\n・共有ディスクやNFS以外のローカルディスクに配置してください\n3. 「Azureサービス連携ツールのパス\\log」の書き込み・読み込み権限を設定\n4. Azure CLI 2.0 をインストール後の対応として、インストールしたサーバーで下記を実施\nJP1/AJS3 - AgentもしくはJP1/AJS3 - Managerのサービスを再起動\n5. Azure CLIコマンドが正常に動作するように、認証情報ファイルを用意\n認証情報ファイルとは、Azure のサービスに接続するために使用する Azureの認証情報を記述した\nファイルです。このファイルを利用し、カスタムジョブ実行時にAzureのサービスに接続します。\n認証ファイルは、利用する認証方式によって記載する必須項目が異なります。\n認証方式の種類は下記の通りです。\n認証方式\n①\n②\n③\n④\n⑤\n⑥\n⑦\n⑧\nユーザーアカウント（USER）\n◯\n◯\n◯\n✕\n✕\n✕\n✕\n✕\nサービスプリンシパル\nパスワードベース（SVPP）\n◯\n✕\n✕\n◯\n◯\n◯\n✕\n✕\n証明書ベース（SVPA）\n◯\n✕\n✕\n◯\n✕\n◯\n◯\n✕\nマネージドID\nシステム割り当て（MIDS）\n◯\n✕\n✕\n✕\n✕\n✕\n✕\n✕\nユーザー割り当て（MIDU）\n◯\n✕\n✕\n✕\n✕\n✕\n✕\n◯\n（凡例）◯：必須指定項目です\n✕：指定できない項目です（指定しても無視します）\n①～⑧の項目は、ファイル内に定義する必要のある項目を表しています。\n①～⑧の具体的な項目は下記の通りです。\n#\n記載形式\n①\nAuthenticationMethods=<認証方式><改行>\n②\nUserName=<ユーザー名><改行>\n③\nUserPass=<パスワード><改行>\n④\nServicePrincipalName=<サービスプリンシパル名><改行>\n⑤\nServicePrincipaPass=<サービスプリンシパル名に対するパスワード><改行>\n⑥\nTenantname=<テナント名><改行>\n⑦\nCAFile=<証明書のファイル名><改行>\n⑧\nIdentity=<ID><改行>\n① AuthenticationMethods=<認証方式><改行>\n次のいずれかの認証方式を指定します。\nUSER\n：ユーザーアカウント方式\nSVPP\n：サービスプリンシパル（パスワードベース）方式\nSVPA\n：サービスプリンシパル（証明書ベース）方式\nMIDS\n：マネージドID（システム割り当て）方式\nMIDU\n：マネージドID（ユーザー割り当て）方式\n② UserName=<ユーザー名><改行>\nユーザーアカウント方式で使用するユーザー名を指定してください。\n③ UserPass=<パスワード><改行>\nユーザーアカウント方式で使用するパスワードを指定してください。\n④ ServicePrincipalName=<サービスプリンシパル名><改行>\nサービスプリンシパル（パスワードベース）方式またはサービスプリンシパル（証明書ベース）\n方式で使用するサービスプリンシパル名を指定してください。\n⑤ ServicePrincipalPass=<サービスプリンシパル名に対するパスワード><改行>\nサービスプリンシパル（パスワードベース）方式で使用するパスワードを指定してください。\n⑥ TenantName=<テナント名><改行>\nサービスプリンシパル（パスワードベース）方式またはサービスプリンシパル（証明書ベース）\n方式で使用するテナント名を指定してください。\n⑦ CAFile=<証明書のファイル名><改行>\nサービスプリンシパル（証明書ベース）方式で使用する証明書ファイル名を指定してください。\n⑧ Identity=<ID><改行>\nマネージドID（ユーザー割り当て）方式で使用するクライアント ID、オブジェクト ID またはリソース IDを\n指定してください。\n本ブログでご紹介する方法では、認証方式「ユーザーアカウント」を採用します。\nこの場合、①～③の項目を認証情報ファイルに指定します。\n認証情報ファイルのモデルファイルを用いて、作成します。\nモデルファイルの格納先は、下記の通りです。\nAzureサービス連携ツールのパス\\AZConf\\ajsazjob_authinfo.conf.model\n例）\"C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\ajsaz\\AZConf\\ajsazjob_authinfo.conf.model\"\n認証情報ファイルの記載例は下記の通りです。\nAuthenticationMethods=USER\nUserName=KKATEST@ashisuto.co.jp\nUserPass=パスワードを記載します\nJP1/AJS3 - View側のセットアップ\nBlobStorage連携ジョブは、カスタムジョブです。\nそのため、ユーザーがカスタムジョブを事前に作成する必要があります。\nJP1/AJS3 - View を導入している端末で作業を行います。\n1. Azureサービス連携ツールに含まれている、ajsazdefフォルダを任意のパスに配置\n※注意※\n・JP1製品のインストールパス配下以外に配置してください\n・共有ディスクやNFS以外のローカルディスクに配置してください\n・JP1/AJS3 - Viewをインストールしているドライブと同じドライブに配置してください\n今回の手順では、「Hitachi」フォルダ配下に「JP1AJS2Vtool」フォルダを作成した上で、「ajsazdef」フォルダを配置します。\n2.Azureサービス連携ジョブのアイコンファイル（ajsazdef\\image\\custom）を\n「JP1/AJS3 - Viewインストール先フォルダ\\image\\custom」に配置\n3.下記設定でカスタムジョブを登録\n・名前：任意\n・コメント：任意\n・定義プログラム：項番1のパス\\bin\\ajsazbsdef.bat\n例：\"C:\\Program Files (x86)\\Hitachi\\JP1AJS2Vtool\\ajsazdef\\bin\\ajsazbsdef.bat\"\n・実行プログラム：「\nAzureサービス連携ツール（ajsazフォルダ）を任意のパスに配置\n」の\n項番1で配置したパス\\bin\\ajsazbs.exe\n例：\"C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\ajsaz\\bin\\ajsazbs.exe\"\n・バージョン：0600\n・クラス名　：AZBSPC\nBlobStorage連携ジョブの定義方法\n本ブログでは、BlobStorage連携ジョブを用いて\n・コンテナー内の任意のファイルを監視\n・更新を契機に監視対象ファイルをエージェントホストにダウンロード後\n・そのファイルをもとにPCジョブで処理を行う\nというケースを例に、BlobStorage連携ジョブの定義方法をご紹介します。\nBlobStorage連携ジョブ（ファイル監視）\n1.\nカスタムジョブメニューから、登録済み\nのBlobStorage\n連携ジョブをドラッグアンドドロップ\n2. BlobStorage連携ジョブの詳細定義画面を開き[詳細]ボタンを押下\n3. ファイルの更新を監視できるよう、下記の通り設定\n操作種別：\nBLOBに対する操作種別を選択します。BLOBの転送、削除に関する操作をする場合は[ファイル操作]を選択します。BLOBの監視を行う場合は[ファイル監視]を選択します。\n操作対象：\nストレージアカウント名\n[操作対象]で指定するストレージアカウント名に、アップロード先・ダウンロード元・\nコピー元・削除先・監視先のストレージアカウント名を入力します。\nコンテナー名\n[操作対象]で指定するコンテナー名に、アップロード先・ダウンロード元・コピー元・\n削除先・監視先のコンテナー名を入力します。\n監視対象(BLOB)：\n監視対象のBLOB名を入力します。\n監視操作：\n監視対象のBLOBへの監視操作をOR条件で選択します。\n監視間隔：\nファイル操作が完了しているかを監視する間隔を入力します。\n認証情報ファイル：\nAzure CLIで使用する認証情報を記載したファイル名を入力します。\nオプション設定：\nAzure CLIの追加オプションを入力します。同じオプションが重複して指定された場合は、あとから指定された内容が有効になるので重複していないかは[コマンドラインプレビュー]にてご確認ください。\n[コマンドラインプレビュー] エリア：\n[更新]ボタンをクリックすると、プレビュー表示エリアに、Windows側で実行する場合のエスケープ処理を行ったあとのAzure CLIコマンドラインを表示します。\nBlobStorage連携ジョブ（ダウンロード）\n1. カスタムジョブメニューから、登録済みのBlobStorage連携ジョブをドラッグアンドドロップ\n2. BlobStorage連携ジョブの詳細定義画面を開き[詳細]ボタンを押下し、ダウンロードの場合は、\n下記の通り設定\n※ダウンロード先に、エージェントホスト側でのファイルの保存先フォルダを指定します。\nファイルの操作：\nBLOBに対する操作を[ダウンロード][アップロード][コピー][削除]の中から選択します。\nダウンロード元(BLOB)：\n単一ファイル指定/ワイルドカード指定\n[ダウンロード][アップロード][コピー][削除]対象のファイルが1つのファイルか、複数のファイルかを\n選択します。\n[BLOB名]\n[ファイルの操作]で選択した種別に応じて指定可能な項目名が変化します\n- ダウンロード元(BLOB)\n- アップロード先(BLOB)\n- コピー元(BLOB)\n- コピー先(BLOB)\n- 削除対象(BLOB)\nダウンロード先（ファイルパス）：\n[ファイルの操作]で選択した種別に応じて指定可能な項目が変化します。\n- ダウンロード先(ファイルパス)\n- アップロード先(BLOB)\n- コピー先(BLOB)\n動作確認\n１．下記の通りジョブを定義し、実行登録\n２．監視対象のコンテナー内にあるファイルは下記状況\n３． 監視対象のコンテナー内にあるファイルを更新し、タイムスタンプが変わることを確認\n４．更新を検知し、コンテナーから、ファイルをエージェントホストにダウンロードされることを確認\n５．ダウンロード処理と後続のジョブが完了し、正常終了\nまとめ\n今回はJP1 V12-00から利用可能なBlobStorage連携ジョブについてご紹介しました。\nAzure Blob Storage との連携のため、ストレージアカウントやコンテナーの指定、Azure特有の認証情報の設定ファイルの準備が必要ですが、おおまかな作業の流れは、以前ご紹介した\nAmazon S3連携ジョブ\nと同様です。\nエージェントホストから Azure Blob Storage へアクセスできれば、簡単に実装可能なため、JP1で Azure Blob\nStorage との連携を検討されている方は、ぜひご活用ください。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 (JP1/AJS3) 12-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n引間 康将\n2013年、株式会社アシスト入社。Oracle製品を担当後、2015年よりJP1の顧客サポートを担当。「超サポとは感情に働きかけるサポート」を信念にお客様にご満足いただけるサポートを提供できるよう、奮闘中。\n趣味は、バイクツーリングと筋トレ。\nページトップへ戻る\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202205-migration.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】JP1 Version 8 限定サポート終了間近！移行前チェックポイント6選\nContent:\nジョブ管理\n2022.05.30\n【JP1/AJS3】JP1 Version 8 限定サポート終了間近！移行前チェックポイント6選\n2006年に販売を開始したJP1 Version 8も、2023年3月末で限定サポート期間が終了になります。サポート終了後は、製品に関するお問い合わせだけではなく、修正パッチの提供、バージョン 9以降へのバージョンアップメディア提供も終了になります。\n本ブログでは、限定サポート終了間近のJP1/Automatic Job Management System 2(以降、JP1/AJS2） から、JP1/Automatic Job Management System 3（以降、JP1/AJS3） バージョン9以降に移行するにあたり、押さえておくべきポイントをご紹介します。\n本ブログをお客様の計画的、安全なバージョン移行にお役立ていただければ幸いです。\nJP1のサポート期間について\nJP1のサポートサービス期間（ライフサイクル）は次の図のようになっています。\nサポートサービスの種類\n1) 標準サポートサービス\n製品出荷開始から10年間、製品販売終了からは5年間提供します。\n販売期間が5年以上に延長された場合も、販売終了から5年間提供します。\n2) 限定サポートサービス\n標準サポートサービスと同様に問題解決支援、改良版提供、情報提供の役務を提供しますが、問題対策版（パッチを含む）の提供は、既存の問題対策版の提供のみとなります。料金は標準サポートサービスと同額、期間は標準サポートサービス終了後、5年間とします。\nJP1 Version 8は、最後に出荷されたJP1 Version 8.5の出荷開始から15年が経過するため、2023年3月末に限定サポートサービスが終了することになりました。\n既にサポート終了まで1年を切っている現在(2022年5月)、JP1 Version 8をご利用のお客様はお早めに移行の計画を立てて頂く必要があります。\nJP1のライフサイクルは\nこちら\nからもご確認頂けます。\nCHECK①　スケジューラーデータベースの違い\n1-1　データベースサイズの見積り\nJP1/AJS2からJP1/AJS3で最も大きく変化した点が、スケジューラーデータベースがISAMデータベースから組み込みDBに変更になったことです。\n組み込みDBになったことで、大規模環境にも対応し、また、システム規模に合わせてデータベースのサイズが選択できるようになりました。またオンラインバックアップ機能(\n過去記事\n)もできるなど、様々な機能が追加されています。\n既存の環境でどれくらいのジョブ数が実行されているかをご確認の上、移行先に適したデータベースサイズを選択してセットアップしてください。\n規模\nジョブ数\n大規模\n総ユニット数：48,000～240,000程度\n1日に実行されるユニット数：30,000～120,000\n中規模\n総ユニット数：5,000～48,000程度\n1日に実行されるユニット数：5,000～30,000\n小規模\n総ユニット数：～5,000程度\n1日に実行されるユニット数：～5,000\n1-2　処理性能\nJP1/AJS3で「組み込みDBにアクセスする回数が多い機能」を利用する場合、ISAMデータベースを使用するJP1/AJS2より処理に時間がかかることがあります。\n組み込みDBにアクセスする回数の多い操作は以下が該当します。これらの操作はユニット(ジョブ、ジョブグループなどの総称)数によって負荷が高くなる場合があります。\n・ JP1/AJS3 の起動\n・ JP1/AJS3 - View または JP1/AJS2 - View からの操作\n・ ユニットを操作するコマンド\n移行時においては、トータルのユニット数やジョブネット構成の検討を行い、マシンスペックを実際の処理数にあわせて見積もってください。また、運用を想定したテストを十分行ってください。\nCHECK②　エージェント管理機能の追加\nJP1/AJS3では、エージェント定義先がISAMデータベースから組み込みDBに変更になりました。(QUEUEジョブ、サブミットジョブは引き続きISAMデータベースで使用可能)\nまた、エージェントホストの論理的な名称である「実行エージェント名」で実行先ホストを指定できるエージェント管理機能も実装されました。\nJP1/AJS2とJP1/AJS3ではエージェントの登録コマンドが以下のように変更になりました。\n※JP1/AJS3環境で、jpqimportコマンドを実行可能ですが、PCジョブやUNIXジョブを実行してもエージェント定義が認識できず実行エラーになります。\n〇 JP1/AJS2の場合の定義例\njpqimport -dt isam -ci ジョブ実行環境構成定義ファイル名\n〇 JP1/AJS3の場合の定義例\najsagtadd -a 実行エージェント名 -c 時刻-時刻=ジョブ実行多重度\nCHECK③　環境設定パラメーター定義方法\n環境設定パラメーターとは、JP1/AJS2、およびJP1/AJS3の運用に必要な各種情報を定義するためのデータベースです。\nJP1/AJS2までは定義ファイルに環境設定パラメーター定義を記述し、jbssetcnfコマンドで定義する必要がありましたが、JP1/AJS3では、環境設定パラメーターを設定する専用のコマンド「jajs_config」コマンドが提供されました。\njbssetcnfコマンドは、定義内容に誤りがあった場合もそのまま読み込むため、定義ミスによりJP1/AJS2に障害が発生することがありました。\nJP1/AJS3から提供されるようになった「jajs_config」コマンドでは、定義ミスがあった場合はコマンドがエラーになるため、ミスのない正しい定義による環境構築が可能です。\n〇　JP1/AJS2の場合の定義例\njbssetcnf 定義ファイル名\n〇　JP1/AJS3の場合の定義例\njajs_config -k [定義キー] \"環境設定パラメーター\"=定義内容\n＊注意＊\nWindows版のJP1/AJS2の［マネージャー環境設定］ダイアログボックスは、V9以降で廃止になりました。\nCHECK④　Outlookを使用しないメール送信機能\nWindows環境のJP1/AJS2でメール送信ジョブを実行したい場合、マイクロソフト社のOutlookが必要でしたが、JP1/AJS3 Version 10以降では Outlookを使用せずにメール送信が行えるようになりました(※)。\nまた、JP1/AJS2でメール送信ジョブをサービスで実行する場合にはExchange Serverとの連携が必要でしたが、JP1/AJS3のメール送信ジョブではSMTPプロトコルをサポートするメールサーバとの連携においてもサービスとして動作できるようになりました。\n※メール受信監視ジョブを使用したい場合は、JP1/AJS3でもOutlookが必要です。\nCHECK⑤　デフォルト値の違い\nJP1/AJS3 Version 11以降では、インストール時のデフォルトの環境設定パラメーターの値が製品の推奨値に変更されました。\n変更後の値は推奨値であるためそのままお使いいただいて基本的には問題ありませんが、以前の初期値に変更して運用するかを必要に応じて検討してください。\n詳細は下記のマニュアルをご参照ください。(下記マニュアルはJP1 Version 12.6です。)\nJP1/Automatic JobManagement System 3 構築ガイド\n付録C\nJP1/AJS3で設定する環境設定項目の推奨値\nCHECK⑥　データベースメンテナンス方法\nJP1/AJS2では、日々の運用で発生するファイルサイズの肥大化およびフラグメンテーション化による業務実行性能劣化を防ぐために、定期的なISAMデータベースの再編成が必要でした。\nJP1/AJS3の組み込みDBでも定期的なメンテナンスが必要です。\nなお、JP1 Version 12.1以降で自動メンテナンスする機能が実装されたため、毎日定時に自動でメンテナンスが行えます。\nメンテナンスはJP1/AJS3のサービスが起動中でも実施でき、ジョブの実行にも影響を与えません。\n(ジョブ実行に影響を受けてメンテナンス処理が実施されなくなる場合はあります)\nまとめ\n今回、限定サポート終了が近いJP1/AJS2からJP1/AJS3への移行において押さえておいて頂きたいチェックポイントを6つご紹介しました。\n本ブログでも過去に一部ご紹介していますが、JP1/AJS2から最新のJP1/AJS3 V12.6までの間にお客様の運用改善のための様々な追加機能が実装されています。\n参考：\nV12.1の新機能ブログ\n、\nV12.5の新機能ブログ\n、\nV12.6の新機能ブログ\n新機能の中には、弊社がお客様の声を元に開発元に要望して実現したものも複数あります。今後も引き続きお客様の運用にあわせた機能拡張を要望して参ります。\n本ブログを参考に、計画的にJP1/AJS3へ移行を行い、最新のJP1の便利機能を活用ください。\n弊社では豊富な実績とノウハウを元にJP1バージョンアップ支援サービス 「一期一会」をご提供しています。ご興味がございましたらお気軽にご相談ください。\n●バージョンアップ支援サービス一期一会の詳細はコチラ\nhttps://www.ashisuto.co.jp/product/theme/itsm/jp1_versionup.html\n製品正式名称\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 2 (JP1/AJS2) 08-00以降\nJP1/Automatic Job Management System 3 (JP1/AJS3) 09-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n居城 美紀\n1999年入社。BI系のサポートを経て2003年よりJP1担当。\n2020年9月より本ブログ記事を担当することになりました。\nJP1サポートセンターの生き字引としてJP1のお役立ち情報を発信したいと思います。\n京都在住。最近は韓国コスメを色々試すことが楽しみです。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202206-ajs3.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup][Design]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】ネットワークを介したファイル監視をサポート！設定方法や注意点は？\nContent:\nジョブ管理\n2022.06.29\n【JP1/AJS3】ネットワークを介したファイル監視をサポート！設定方法や注意点は？\nJP1/Automatic Job Management System 3（以下、JP1/AJS3）ではV12.6より、ファイル監視ジョブでネットワークを介したファイル（※）を監視する機能がサポートされました。\n（※）…ネットワークを介したファイルの例\nWindows：ネットワークドライブおよびUNCで参照できるファイル\nUNIX：NFSマウントで参照できるファイル\nネットワークを介したファイルの監視機能を使用するには事前設定が必要です。\n本ブログでは設定方法についてご紹介します。\n第1章　機能の概要\nV12.5までは、ネットワークを介したファイルをファイル監視ジョブで監視することはサポートされていませんでしたが、V12.6での機能拡張により、実行先サーバのJP1/AJS3がV12.6以降であればネットワークを介したファイル監視がサポートされるようになりました。これにより、以下のような運用が可能です。\n・JP1/AJS3を導入していないサーバ上のファイルを監視する\n・NAS上のファイルを監視する\n次章以降で、ネットワークを介したファイルを監視する際の前提条件と事前設定についてご紹介します。\n第2章　前提条件\n本機能を使用するには、ファイル監視ジョブを実行するサーバにて、事前に以下の設定が必要です。\n実行サーバがWindowsの場合\nJP1/AJS3サービスの起動ユーザーの変更が必要です。起動ユーザーに指定するユーザーには、以下の権限を設定しておいてください。\n・Administrators権限\n・監視対象ファイルに対する変更権限\nまた、該当ユーザーにはローカル セキュリティ ポリシーにて以下の権限も設定しておいてください。\n・ローカルログオンを許可する\n・サービスとしてログオン\n・プロセスレベルトークンの置き換え\n・プロセスのメモリークォータの増加\n詳細については以下のマニュアルをご参照ください。\nJP1 Version 12　JP1/Automatic Job Management System 3 設計ガイド（システム構築編）\n4.2.3　JP1/AJS3のサービスの設定を変更する必要がある場合（Windows限定）\n(1)　JP1/AJS3が提供するサービスのアカウントの変更について\n実行サーバがUNIXの場合\n監視対象ファイルに対してスーパーユーザーが参照権限を持つように設定してください。\n第3章　事前準備\n本機能を使用する場合、実行サーバでJP1/AJS3の環境設定パラメーター「NetworkFilewatch」を設定します。\n※環境設定パラメーター「NetworkFilewatch」に「Y」を指定した場合、メモリー所要量の再見積もり\nおよびカーネルパラメーターの調整が必要です。\n詳細についてはJP1/AJS3のリリースノートをご参照ください。\n設定方法は以下のとおりです。\n1. JP1/AJS3のサービスを停止する。\nJP1/AJS3のサービスおよびプロセスがすべて停止していることを確認してください。\n2. 次のコマンドを実行して、環境設定パラメーターを設定する。\n▽実行サーバがWindowsの場合\n> jajs_config -k [JP1_DEFAULT\\JP1AOMAGENT] \"NetworkFilewatch\"=\"Y\"\n▽実行サーバがUNIXの場合\n# /opt/jp1ajs2/bin/jajs_config -k \"[JP1_DEFAULT\\JP1AOMAGENT]\" \"NetworkFilewatch\"=\"Y\"\n※論理ホスト環境の場合は、「JP1_DEFAULT」を論理ホスト名に置き換えて実行してください。\n3. JP1/AJS3を再起動する。\n設定した内容が反映されます。\nファイル監視ジョブの設定イメージ\n実行サーバがWindowsの場合、監視対象ファイル名をUNCパスで指定します。ネットワークドライブ名から始まるパスは指定できません。\nUNIXの場合、NFSマウントでマウントしたドライブからフルパスで指定します。\n第4章　注意事項\n(1) 以下の場合は注意が必要です。\n・Windows環境でNFSなど、SMB以外のプロトコルで共有しているファイルを監視する場合\n・UNIX/Linux環境でネットワークを介したファイルを監視する場合\n上記の場合、他ホスト（＝ファイル監視ジョブを実行しているホスト以外のホスト）上のプロセスが監視\n対象のファイルをオープンしているかどうか確認できません。\nこのため、監視中に他ホストのプロセスによってファイルが更新中であっても、ファイルが生成されたと\n判断してしまう場合があります。\n【対処法】\n上記のようにファイル更新が完了するまでに監視条件が成立してしまうことが懸念される場合は、\n更新するファイルを直接監視するのではなく、ファイル更新が終わった時点で処理の完了を示す\nフラグファイルを作成し、そのフラグファイルを監視対象とする運用を推奨します。\n(2)第3章に記載のとおり、環境設定パラメーター「NetworkFilewatch」に「Y」を指定した場合、メモリー所要\n量の再見積もりおよびカーネルパラメーターの調整が必要です。そのため、ファイル監視ジョブでローカル\nファイルだけを監視する場合は、「NetworkFilewatch」を「N」で運用してください。\n(3)ネットワークを介したファイルの監視中にネットワーク障害が発生した場合、ローカルファイルを監視する\n別のファイル監視ジョブもイベント検知が遅延することがあります。\nまとめ\n多くのお客様からご要望のあった、ファイル監視ジョブでネットワークを介したファイルを監視する機能がついにサポートされました。これにより、NASなど、JP1/AJS3を導入できないサーバ上のファイルも監視できるようになり、運用の幅が広がりました。\nアシストでは、JP1のメーカーである日立製作所と「JP1エンハンス会議」を運営し、お客様からお問い合わせいただいた内容やご意見をもとに、製品の改善要求を行っております。今後もメーカーと協力し、製品の品質改善に取り組んでまいりますので、お気づきの点がありましたらぜひアシストまでお問い合わせください。\n製品正式名称\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3 (JP1/AJS3) 12-60以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n岩井 美由希\n2019年入社時よりJP1のサポートセンターにて勤務。\n2021年よりお客様向けの研修講師も担当しています。お客様からよくいただくご質問等をもとに、JP1のお役立ち情報を発信したいと思います。\n大阪在住。日本酒と猫が好きです。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202207-iesup.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1全般】Internet Explorer 11 (IE11)サポート終了に伴うJP1製品の対応まとめ\nContent:\nJP1全般\n2022.07.26\n【JP1全般】Internet Explorer 11 (IE11)サポート終了に伴うJP1製品の対応まとめ\n2022年6月16日（日本時間）に、Windows10上でのInternet Explorer 11（以降、IE11と表記）のMicrosoft社によるサポートが終了しました。Windows8.1やサーバOSなど等では引き続きサポートが継続されますが、主流のWindows10での利用はサポートされません。\nJP1各製品でも管理画面等でIE11を使用していましたが、Microsoft社のサポート終了に伴い、今後は別ブラウザやMicrosoft Edge、Microsoft Edge（IEモード）をご利用いただくことになります。\n本ブログでは、IE11を使用している主要なJP1製品の、バージョンごとの対応状況についてご紹介します。\nジョブ管理製品\n＜JP1/Automatic Job Management System 3（以降、JP1/AJS3）＞\nJP1/AJS3では、JP1/AJS3 Web Consoleの機能にてWebブラウザを使用します。\n※Web Consoleの機能はV11以降の機能であるため、V10以前の場合は影響ありません。\nWeb Consoleは、V11-00-09以降のバージョンではMicrosoft EdgeのIEモードに、V12-10以降のバージョンでMicrosoft Edgeに対応しています。\n下表に記載されているJP1バージョン以前をお使いの場合は、次のいずれかをご検討ください。\n・Windows10以外でのIE11継続利用またはMicrosoft Edge以外のサポートブラウザの利用\n・Microsoft Edge対応バージョンへのJP1バージョンアップ/リビジョンアップ\nJP1バージョン\nMicrosoft Edge\nMicrosoft Edge\n（IEモード）\nV11-00-09以降\nV11-10-xx\nV11-50-xx\n✕\n◯\nV12-00-xx\n✕\n◯\nV12-10以降\n◯\n✕\n統合管理製品\n＜JP1/Integrated Management（以降、JP1/IM）＞\nJP1/IMでは「WWWページ版IM-View機能」と、「JP1/IM - Viewからブラウザ起動を行う機能」でブラウザを使用します。\n※各機能につきましては\n後述のマニュアルにてご確認ください\n「WWWページ版IM-View機能」と「JP1/IM - Viewからブラウザ起動を行う機能」はそれぞれ下表に記載のJP1バージョンでMicrosoft Edgeに対応しています。\n下表に記載されているJP1バージョン以前をお使いの場合は、次のいずれかをご検討ください。\n・Windows10以外でのIE11継続利用またはMicrosoft Edge以外のサポートブラウザの利用\n・Microsoft Edge対応バージョンへのJP1バージョンアップ/リビジョンアップ\n機能\nJP1バージョン\nMicrosoft Edge\nMicrosoft Edge\n（IEモード）\nWWWページ版IM-View機能\n10-00-06以降\n10-10-05以降\n10-50-02以降\n✕\n◯\n11-00-03以降\n11-01-31以降\n11-10-31以降\n11-50-32以降\n✕\n◯\nViewからブラウザ起動\n10-00-06以降\n10-10-05以降\n10-50-02以降\n◯\n✕\n11-00-03以降\n11-01-31以降\n11-10-31以降\n11-50-32以降\n◯\n✕\n＜JP1/Integrated Management 2（以降、JP1/IM2)＞\nJP1/IM2では「統合オペレーション・ビューアー機能」と「JP1/IM - Viewからブラウザ起動を行う機能」にてWebブラウザを使用します。\n「統合オペレーション・ビューアー機能」「JP1/IM - Viewからブラウザ起動を行う機能」はそれぞれ下表に記載のバージョンでMicrosoft Edgeに対応しています。\n下表に記載されているJP1バージョン以前をお使いの場合は、次のいずれかをご検討ください。\n・Windows10以外でのIE11継続利用またはMicrosoft Edge以外のサポートブラウザの利用\n・Microsoft Edge対応バージョンへのJP1バージョンアップ/リビジョンアップ\n機能\nJP1バージョン\nMicrosoft Edge\nMicrosoft Edge\n（IEモード）\n統合オペレーション・ビューアー\n12-00-34以降\n12-10-07以降\n12-50以降\n◯\n✕\nViewからブラウザ起動\n12-00-32以降\n◯\n✕\n各機能の参考マニュアル\n「WWWページ版IM-View機能」\nJP1 Version 11　JP1/Integrated Management - Manager 構築ガイド\n4.19　WWWページ版のJP1/IM - Viewを使用する場合の設定\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213A0830/IMKT0204.HTM\n「JP1/IM - Viewからブラウザ起動を行う機能」\nJP1 Version 11　JP1/Integrated Management - Manager 運用ガイド\n5.11.4　JP1イベントを発行したアプリケーションをモニター起動する\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213A0930/IMUN0116.HTM\n「統合オペレーション・ビューアー機能」\nJP1 Version 12　統合管理 基本ガイド\n付録C　統合オペレーション・ビューアーでシステムの事象を監視・管理する方法について\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D5000/IMQR0069.HTM\nパフォーマンス管理製品\n＜JP1/Performance Management（以降、JP1/PFM）＞\nJP1/PFMでは管理画面の操作にWebブラウザを使用します。V12.5以降でMicrosoft Edgeに対応しています。\nそれ以前のJP1バージョンをお使いの場合は、次のいずれかをご検討ください。\n・Windows10以外でのIE11継続利用またはMicrosoft Edge以外のサポートブラウザの利用\n・Microsoft Edge対応バージョンへのJP1バージョンアップ/リビジョンアップ\nJP1バージョン\nMicrosoft Edge\nMicrosoft Edge\n（IEモード）\n10-00-xx\n10-10-xx\n10-50-xx\n✕\n✕\n11-00-xx\n11-10-xx\n11-50-xx\n✕\n✕\n12-00-xx\n12-10-xx\n✕\n✕\nV12-50以降\n◯\n✕\nネットワーク管理製品\n＜JP1/Cm2/Network Node Manager i、JP1/Network Node Manager i（以降、JP1/Cm2/NNMi、JP1/NNMi）＞\nJP1/Cm2/NNMi、JP1/NNMi（Advance含む）は管理画面の操作にWebブラウザを使用します。\nV12以降でMicrosoft Edgeに対応しています。\nそれ以前のJP1バージョンをお使いの場合は、次のいずれかをご検討ください。\n・Windows10以外でのIE11継続利用またはMicrosoft Edge以外のサポートブラウザの利用\n・Microsoft Edge対応バージョンへのJP1バージョンアップ/リビジョンアップ\nJP1バージョン\nMicrosoft Edge\nMicrosoft Edge\n（IEモード）\n09-00-xx\n09-10-xx\n09-50-xx\n✕\n◯\n10-00-xx\n10-10-xx\n10-50-xx\n✕\n◯\n11-00-xx\n11-10-xx\n11-50-xx\n✕\n◯\nV12-00以降\n◯\n✕\n＜JP1/Cm2/SNMP System Observer、JP1/SNMP System Observer（以降、JP1/Cm2/SSO、JP1/SSO)＞\nJP1/Cm2/SSO、JP1/SSOでは管理画面の操作にWebブラウザを使用します。V12-00-04以降でMicrosoft Edgeに対応しています。\nそれ以前のJP1バージョンをお使いの場合は、次のいずれかをご検討ください。\n・Windows10以外でのIE11継続利用またはMicrosoft Edge以外のサポートブラウザの利用\n・Microsoft Edge対応バージョンへのJP1バージョンアップ/リビジョンアップ\nバージョン\nMicrosoft Edge\nMicrosoft Edge\n（IEモード）\n09-50-07以降\n✕\n◯\n10-00-03以降\n10-10-xx\n10-50-xx\n✕\n◯\n11-00-xx\n11-10-xx\n11-50-xx\n✕\n◯\n12-00-04以降\n12-50以降\n◯\n✕\n資産配布管理製品\n＜JP1/IT Desktop Management 2、JP1/IT Desktop Management 2 - Operations Director（以降、JP1/ITDM2、ITDM2-OD）＞\nJP1/ITDM2、JP1/ITDM2-ODでは管理画面の操作、AssetConsoleの操作画面および操作ログの取得対象としてWebブラウザを使用します。\nV12-10-08、V12-50-04以降でMicrosoft Edge（管理画面の操作のみ）およびIEモード（管理画面、AssetConsoleの操作画面、操作ログ取得）に対応しています。\nそれ以前のJP1バージョンをお使いの場合は、次のいずれかをご検討ください。\n・Windows10以外でのIE11継続利用またはMicrosoft Edge以外のサポートブラウザの利用\n・Microsoft Edge対応バージョンへのJP1バージョンアップ/リビジョンアップ\n製品名\nMicrosoft Edge\nMicrosoft Edge\n（IEモード）\n12-10-08以降\n12-50-04以降\n△（管理画面の操作のみ）\n◯\nIT運用自動化製品\n＜JP1/Automatic Operation（以降、JP1/AO)＞\nJP1/AOでは管理画面の操作にWebブラウザを使用します。下表のバージョン以降でMicrosoft Edgeに対応しています。\nそれ以前のJP1バージョンをお使いの場合は、次のいずれかをご検討ください。\n・Windows10以外でのIE11継続利用またはMicrosoft Edge以外のサポートブラウザの利用\n・Microsoft Edge対応バージョンへのJP1バージョンアップ/リビジョンアップ\n製品名\nMicrosoft Edge\nMicrosoft Edge\n（IEモード）\n11-51-07以降\n◯\n✕\n12-00-01以降\n12-01-02以降\n12-10-02以降\n12-50以降\n◯\n✕\n＜JP1/Navigation Platform（以降、JP1/NP)＞\nJP1/NPでは管理画面の操作（業務編集画面）やクライアント実行環境（業務実行画面）にWebブラウザ（IE11）を使用します。\n下表のバージョン以降でMicrosoft Edgeに対応しています。\nそれ以前のJP1バージョンをお使いの場合は、次のいずれかをご検討ください。\n・Windows10以外でのIE11継続利用またはMicrosoft Edge以外のサポートブラウザの利用\n・Microsoft Edge対応バージョンへのJP1バージョンアップ/リビジョンアップ\n製品\nMicrosoft Edge\nMicrosoft Edge\n（IEモード）\n11-50以降\n✕\n◯\n12-00以降\n12-10以降\n12-50以降\n✕\n◯\n12-60以降\n◯\n✕\n参考情報\nJP1のV12のブラウザ対応状況につきましては下記のサイトに掲載があります。\n（情報は随時更新されます）\nJP1 - ブラウザ対応状況(V12のみ)\nIE11、Edge以外のサポートブラウザに関しては、各製品のリリースノートをご参照ください。リリースノートは、製品に同梱されているメディア、もしくは弊社JP1ユーザー様向け専用Webサイトでもご確認いただけます。\nまとめ\n今回はIEサポート終了にともなう主なJP1製品の対応状況についてご紹介いたしました。\nお使いのJP1製品で、Microsoft Edge対応バージョンへのバージョンアップ/リビジョンアップをご希望の場合や、本ブログに記載以外のバージョンやJP1製品で対応状況を確認されたい場合、弊社営業またはサポートセンタへお問い合わせいただければと思います。\n製品正式名称(略称表記)\nJP1/Automatic Job Management System 3 (JP1/AJS3)\nJP1/Integrated Management 2 - Manager (JP1/IM2)\nJP1/Cm2/Network Node Manager i (JP1/Cm2/NNMi)\nJP1/Network Node Manager i (JP1/NNMi)\nJP1/Cm2/SNMP System Observer (JP1/Cm2/SSO)\nJP1/SNMP System Observer (JP1/SSO)\nJP1/Performance Management (JP1/PFM)\nJP1/IT Desktop Management 2 (JP1/ITDM2)\nJP1/IT Desktop Management 2 - Operations Director (JP1/ITDM2-OD)\nJP1/Automatic Operations(JP1/AO)\nJP1/Navigation Plattform(JP1/NP)\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n西尾 高治\n2003年入社。JP1のフィールドエンジニアを経て2015年よりJP1サポートセンターにて勤務。\n2020年9月より本ブログ記事を担当することになりました。JP1を利用されている方に少しでもお役に立てる情報を提供したいと思います。\n奈良在住。最近は家庭菜園にハマっています。\nページトップへ戻る\n関連している記事\nJP1全般\n2025.06.27\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2026年3月に限定サポートが終了するVersion9から、JP1の最新バージョンである Version13に移行するにあたって検討すべきことをまとめました。\nJP1全般\n2025.02.27\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\nJP1サポート技術者が、お客様によくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介します。\nJP1全般\n2024.09.30\n【JP1全般】JP1新バージョン「V 13.1」の 新機能を一挙紹介！\n2024年9月30日にリリースされたJP1の新バージョン「Version 13.1」の新機能一覧をご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202208-itdm2.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/ITDM2】情報漏洩の徹底防止！USBデバイスの制御機能を使いこなそう！\nContent:\n資産管理\n2022.09.09\n【JP1/ITDM2】情報漏洩の徹底防止！USBデバイスの制御機能を使いこなそう！\n2022年6月、兵庫県尼崎市の全市民46万人分の個人情報が入ったUSBメモリが、一時所在不明となりニュースになりました。この事をきっかけとして、USBデバイスの管理見直しを検討されるJP1/ITDM2ユーザ様も多く、サポートセンターにも本機能について多数のお問い合わせをいただきました。\nそこで今回のブログでは、JP1/ITDM2のデバイス制御機能の概要や利用方法についてご紹介します。\nJP1/ITDM2 の USBデバイス制御機能とは\nJP1/ITDM2 では、\n・登録済みのUSBメモリ以外の使用禁止\n・特定のUSBデバイスすべてを使用禁止（読み書き禁止）\n・特定の種別のUSBデバイスについては書き込み抑止のみ行う\nといった制御ができます。\nこの制御機能により、使用を許可していないUSBデバイスが利用者のPCに接続された場合に、管理者はすぐに把握ができます。\nJP1/ITDM2 の USBデバイス制御機能でできること\n使用を抑止する機能\n使用抑止の対象となるデバイスの一覧を、下記の図で示します。\nなお、抑止対象としたいデバイスが、JP1/ITDM2 で抑止可能となるかについては、OSのデバイスマネージャーで、「何のデバイスとして認識されるか」によって決まります。JP1/ITDM2 で抑止対象とする前提条件の詳細は、マニュアルの\nこちら\nを確認ください。\n赤枠の単位で、書き込みのみ抑止する設定も可能です。\n登録済みのUSBメモリのみ使用を許可する機能\nUSBメモリについては、管理者側で許可登録したデバイスのみ使用を許可できます。これにより、社内で管理している業務用のUSBメモリのみ使用を許可し、私物のUSBメモリは使用を禁止することができます。\n使用を許可する設定は2種類あります。\n1.個別に許可する設定\nJP1/ITDM2ではUSBデバイスの識別時に、USBデバイスの「デバイスインスタンスID」を利用します。ユニークなデバイスインスタンスIDを持つUSBデバイスは、各デバイス毎に個別に使用を許可できます。\n2.製品単位（メーカー単位）で許可する設定\n一方、USBデバイスによっては、デバイスインスタンスIDが変化したり、ユニークでないものが存在します。JP1/ITDM2ではデバイスインスタンスIDの一部を用いた前方一致による許可登録ができます。これにより、同じメーカーのUSBデバイスはすべて使用を許可するといった設定も可能です。\n設定方法\nデバイスの抑止設定\n本手順では、下記の流れを想定した手順をご紹介します。\n①現在適用済みのセキュリティポリシーのコピー\n②デバイスの抑止設定の有効化\n③セキュリティポリシーの適用\n以下、詳細手順です。\n①現在適用済みのセキュリティポリシーのコピー\n本番適用前の動作確認のために、新規でセキュリティポリシーを作成します。\n新規でセキュリティポリシーを作成するにあたって、JP1/ITDM2 導入時にデフォルトで適用されている「デフォルトポリシー」もしくは、既に運用でご利用いただいているセキュリティポリシーの設定をベースとするために、現在適用済みのセキュリティポリシーをコピーします。\n1.[セキュリティ]画面を選択後、[セキュリティポリシー一覧]を開きます。\n▲クリックで画像拡大\n2.コピー対象となるセキュリティポリシーを選択し、画面右上 [操作メニュー]より、[ポリシーをコピーする]を\nクリックします。\n▲クリックで画像拡大\n3.[セキュリティポリシー名]に任意の名称を指定します。\n▲クリックで画像拡大\n②デバイスの抑止設定の有効化\n1.[禁止操作]を選択し、[有効]状態にします。\n▲クリックで画像拡大\n2.[機器の使用抑止]欄にある[使用抑止デバイスの一覧]にて、抑止対象としたいデバイスにチェックを入れま\nす。\n▲クリックで画像拡大\n3.[抑止メッセージ表示デバイスの一覧]にて、必要に応じて表示対象とするデバイスにチェックを入れてくださ\nい。\nJP1/ITDM2が該当のUSBデバイスを抑止した際に、抑止した旨のメッセージを利用者端末側に表示させることができます。（表示メッセージのサンプルは、「③セキュリティポリシーの適用」の項番3で確認いただけます）\nその後、[OK]ボタンを押下し、セキュリティポリシーの設定を保存します。\n▲クリックで画像拡大\nここまでの作業により、セキュリティポリシーの作成と、作成したセキュリティポリシーに対して、デバイスの抑止設定の追加が完了します。続いて、特定のPCに対して、作成したセキュリティポリシーを適用します。\n③セキュリティポリシーの適用\n1.[機器のセキュリティ状態]-[機器一覧(機器種別)]を選択し、セキュリティポリシーを適用したいエージェントPCに\nチェックを入れます。その後、[操作メニュー]より、[ポリシーを割り当てる]をクリックします。\n▲クリックで画像拡大\n2.[ポリシーの割り当て]画面にてプルダウンを開き、適用したいセキュリティポリシーを選択し、[OK]ボタンを\nクリックします。\n▲クリックで画像拡大\n3.[割り当てたポリシー]列にて、新しいセキュリティポリシーが割り当てられることを確認します。\n▲クリックで画像拡大\nここまでの作業により、マネージャーサーバ側でエージェントPCに対するセキュリティポリシーの割り当て作業が完了します。セキュリティポリシーが割り当てられますと、即時にエージェントPCに対して、新しいセキュリティポリシーが送信されます。エージェントPCにてセキュリティポリシーの設定を受信しますと、デバイス制御の設定が反映されます。\n抑止メッセージを表示する設定を行っていた場合、抑止対象のエージェントPCでUSBデバイスを使用すると下記メッセージがエージェントPC側に表示されます。\n登録済みのUSBデバイスのみ許可する設定\n本手順では、下記の流れを想定した手順をご紹介します。\n①[登録済みのUSBデバイスは使用を許可する]の設定を有効化\n②USBデバイスの許可登録\n以下、詳細手順です。\n①[登録済みのUSBデバイスは使用を許可する]の設定を有効化\n前述の「デバイスの抑止設定」にて作成したセキュリティポリシーに対して、「登録済みのUSBデバイスは使用を許可する」の設定を有効にします。\n1.[禁止操作]を選択し、[USBデバイス]の[抑止設定]列にて、[登録済みのUSBデバイスの使用を許可する]にチェック\nを入れ、[OK]ボタンを押下します。\n※[使用を許可する資産を限定する]の設定に関する詳細は、\nこちら\nのブログで紹介しております。\n▲クリックで画像拡大\n②USBデバイスの許可登録\nUSBデバイスの許可登録を行います。JP1/ITDM2 - Agent を導入している端末をご用意ください。\n1.Windows のスタートメニューより、[JP1_IT Desktop Management 2 - Agent] 内にある [USBデバイスの登\n録] メニューをクリックします。\n2.USBデバイスの登録画面が表示されることを確認し、登録したいUSBデバイスをPCに接続します。接続後、\n登録可能なUSBデバイスの場合、下記の通り情報が表示されるため、[登録]ボタンをクリックします。\n▲クリックで画像拡大\n3.USBデバイスの登録画面にて、下記の通りチェックを外し、[OK]ボタンを押下します。\n▲クリックで画像拡大\n4.USBデバイスの情報がマネージャーサーバに通知されます。\n▲クリックで画像拡大\nここまでの作業により、許可登録対象のUSBデバイスの情報をマネージャーサーバに登録できます。しかし、このままでは抑止の除外対象（ホワイトリスト）に登録されません。この後の作業により、登録されたUSBデバイスを、管理者側で許可対象にします。\n5.[資産]画面を選択し、[ハードウェア資産]-[資産一覧(部署)]を選択します。\n▲クリックで画像拡大\n6.フィルタのアイコンをクリックし、USBデバイスの情報のみ表示する設定にします。\n▲クリックで画像拡大\n7.登録作業を行ったUSBデバイスの情報が表示されることを確認し、チェックを入れ、[状態を変更]ボタンを押\n下します。\n▲クリックで画像拡大\n8.[資産状態]を[運用中]に変更し、その他必須項目を入力後、[OK]ボタンを押下します。\n▲クリックで画像拡大\nここまでの作業により、登録されたUSBデバイスが抑止の除外対象（ホワイトリスト）に登録されます。ホワイトリストは順次エージェントPCに送信されます。\n使用を許可していないUSBデバイスの接続状況の確認方法\n本機能を利用し、実際にエージェントPC側でUSBデバイスが抑止されると、JP1/ITDM2 の Web管理画面より、どの端末で何回抑止が行われたか確認可能です。\n1.[レポート]-[セキュリティ詳細レポート]-[禁止操作の状況]を開きます。\n▲クリックで画像拡大\n2.[オプション]より、[対象操作]に[機器の操作]を選択し、[適用]ボタンをクリックします。\n▲クリックで画像拡大\n管理対象となっているエージェントPCの中で、抑止処理が行われた回数を確認できます。USBデバイスで何かを行おうとしたユーザーを洗い出すための参考情報として活用いただき、情報漏洩対策をご検討ください。\nデバイス制御機能に関するよくあるご質問\nデバイス制御機能について、サポートセンターに多く寄せられたご質問と回答についてまとめます。\n●スマートフォンやタブレットは、許可登録できますか？\n許可登録できません。上記デバイスは、Windows ポータブルデバイスとして認識されることが多く、\n抑止するか否かの設定でご利用ください。\n●デジタルカメラは、許可登録できますか？\nデジタルカメラの機種によっては、USBメモリと同じデバイスとしてOS側で認識される事例がございま\nした。その場合は、許可登録できます。機種によっては、Windows ポータブルデバイスとして認識\nされる場合もございます。\n●デジタルカメラを許可登録していたが、資産情報の[機器種別]を「USBデバイス」から任意の機器種別\nに変更したところ、抑止されるようになってしまいました。\n[登録済みのUSBデバイスの使用を許可する]の機能が有効となる資産は、[機器種別]が「USBデバイス」\nのもののみとなります。[機器種別]を「USBデバイス」に戻してご利用ください。\n●1度許可登録をしたUSBメモリを再度PCに接続し直したところ、抑止されてしまいました。\nJP1/ITDM2のデバイス制御は、各デバイスのデバイスインスタンスIDをもとに行います。\nそのため、接続する度にデバイスインスタンスIDが変更されるようなUSBメモリについては、各デバイ\nスインスタンスID毎に許可登録を行っていただくか、前述しました製品単位での許可設定で対応いただ\nく必要があります。また、パスワード機能が搭載されているUSBメモリの場合、パスワード解除前と\nパスワード解除後によって、デバイスインスタンスIDが変わることがあります。その場合は、\nパスワード解除前とパスワード解除後の状態で、USBデバイスの許可登録を行うことで対処できる\n場合があります。\n●マウスやヘッドセットは抑止されてしまいますか？\n抑止対象となりません。JP1/ITDM2 における抑止対象となるデバイスについては、\nこちら\nの図を確認\nください。\n●書き込み抑止の設定を有効、かつ [登録済みのUSBデバイスの使用を許可する] の機能を利用している場合、\n登録済みのUSBデバイスについては、読み込みも書き込みもできるのですか？\n書き込み抑止の設定を有効にしつつ、登録済みのUSBデバイスについては読み込みも書き込みも許可す\nるといった設定はできません。登録済みのUSBデバイスについては、読み込みのみ可能です。\nまとめ\n今回は、JP1/ITDM2 におけるデバイス制御の基本機能の概要から、利用方法や、よくあるご質問内容をご紹介しました。JP1/ITDM2 では、USBデバイスの抑止だけでなく、抑止の履歴情報を保持しており、レポート機能によって情報漏洩に繋がる恐れのあるPCを特定できます。現在適用済みのセキュリティポリシーをコピーし、簡単にデバイス制御のテストを行えるため、まだ本機能をご利用いただいていない方は、この機会に是非ご活用ください。\n製品正式名称(略称表記) および機能対象バージョン\n製品正式名称(略称表記) および機能対象バージョン\nJP1/IT Desktop Management 2 (JP1/ITDM2) 10-50以降\nJP1/IT Desktop Management 2 - Operations Director(JP1/ITDM2-OD)\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n引間 康将\n2013年、株式会社アシスト入社。Oracle製品を担当後、2015年よりJP1の顧客サポートを担当。「超サポとは感情に働きかけるサポート」を信念にお客様にご満足いただけるサポートを提供できるよう、奮闘中。\n趣味は、バイクツーリングと筋トレ。\nページトップへ戻る\n関連している記事\n資産管理\n2021.06.28\n【JP1/ITDM2】MacもWindowsもJP1でまとめて資産管理！\nJP1/ITDM2は、Mac版エージェントを利用することでMacOSの資産管理が可能です。本ブログではMac版エージェントを利用するための事前準備や手順を解説します。\n資産管理\n2021.03.22\n【JP1/ITDM2】JP1 V12.5新機能のご案内『資産管理製品編』\n2021年1月21日にリリースされたJP1の新バージョン「Version 12.5」の新機能の中から、資産管理製品の新機能を厳選してご紹介します！\n資産管理\n2020.11.30\n【JP1/ITDM2】拠点ごとに！部署ごとに！ 社内ポリシーに合わせて、柔軟に USBメモリの使用を制御する方法\n社内ポリシーに合わせて、拠点や部署ごとに柔軟にUSBメモリの使用を制御する方法をご紹介します。\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202211-base.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup][Design]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/Base】ユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい\nContent:\nJP1全般\n2022.11.15\n【JP1/Base】ユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい\nJP1/AJS3やJP1/IM2などのJP1製品で使用されるユーザーは「JP1ユーザー」ですが、任意のサーバに対してジョブやコマンドを実行する際には、対象のサーバ上の「OSユーザー」の権限が必要になります。\n今回は、ジョブやコマンドを実行したいサーバ上でJP1ユーザーとOSユーザーを対応づける「ユーザーマッピング」の考え方をご紹介します。\nJP1ユーザーとユーザーマッピングとは\n改めて、JP1によりジョブやコマンドを実行する際に必要なユーザーと権限の考え方を説明します。JP1へのログインや、JP1の操作を行うには一部の製品を除き「JP1ユーザー」が必要です。このJP1ユーザーは、あくまでJP1の操作に関してのみ必要となるユーザーです。\nでは、サーバ上でJP1を通じてコマンドを実行する際には、コマンド実行はどのユーザーの権限で行われるのでしょう？それは、当然OSのユーザー権限です。\nそのため、ジョブやコマンドを実行したいサーバ上で、JP1ユーザーと OSユーザーを対応づける必要があります。これを「\nユーザーマッピング\n」といいます。\nなお、ユーザーマッピングはジョブを実行するサーバやコマンド実行するサーバすべてで必須ですが、JP1ユーザーの認証を行う「認証サーバ」（※）については任意の1台のみで問題ありません。\n※「認証サーバ」はJP1ユーザーのログイン時の認証や、操作権限の管理を行うためのサーバです。システム内の任意の1台を指定します。また、構成によっては予備として「セカンダリ認証サーバ」を設定することも可能です。\n＜ユーザーマッピングイメージ＞\nJP1ユーザーの作成、確認方法\nJP1ユーザーは JP1/Baseで作成しますが、Windows版、UNIX/Linux版ともにインストール時に jp1adminというJP1ユーザーが作成されます。jp1adminはWindows版の場合はインストール時に指定したOSユーザー、\nUNIX/Linux版の場合はOSの管理者ユーザーがマッピングされます。\nデフォルトで作成されるjp1admin以外のJP1ユーザーを手動で作成する場合、「jpsadduser」コマンド、またはGUI（Windows版のみ）より作成できます。以下、JP1ユーザーの作成手順を記載します。\n＜Windowsの場合（GUI）＞\n１．スタート→[プログラム]→[JP1_Base]→[JP1_Base Setup]を起動しします。\n２．[JP1/Base環境設定]画面よりJP1ユーザーの[追加]をクリックします。\n３．表示された画面で、作成するJP1ユーザー名およびパスワードを入力し、[OK]をクリックします。\n手順1.～3.をコマンドで実行する場合は下記の通りです。\n＜Windowsの場合（コマンド）＞\n> jbsadduser -p パスワード JP1ユーザー名\n＜UNIXの場合（コマンド）＞\n#/opt/jp1base/bin/jbsadduser -p パスワード JP1ユーザー名\n実行例\n>jbsadduser -p p@ssw0rd jp1user01\nUser Name = jp1user01\n正常終了しました\n４．[認証サーバ]タブで、作成したJP1ユーザーが登録されていることを確認します。\n手順1.～4.をコマンドで実行する場合は下記の通りです。\n＜Windowsの場合（コマンド）＞\n> jbslistuser\n＜UNIXの場合（コマンド）＞\n#/opt/jp1base/bin/jbslistuser\n実行例\n>jbslistuser\njp1user account[0]:jp1admin\njp1user account[1]:jp1user01\nコマンドのオプションを含む詳細については以下のマニュアルをご参照ください。\nJP1 Version 12　JP1/Base 運用ガイド\n15．コマンド\njbslistuser\njbsadduser\nJP1ユーザーと業務グループの参照・操作制限について\n本ブログでの詳細説明は省略しますが、JP1ではJP1各製品のJP1資源に対するアクセス権限および操作権限をJP1ユーザーごとに制限できます。\nどのような操作、参照ができるかを「JP1権限レベル」で、グループ単位で権限を指定する場合は「JP1資源グループ」で定義します。\nJP1権限レベルとJP1資源グループの詳細につきましては、下記マニュアルをご参照ください。\nJP1 Version 12　JP1/Integrated Management 2 - Manager 導入・設計ガイド\n4.1.4　業務グループの参照・操作制限の仕組み\n7.4.3　業務グループの参照・操作権限\nJP1 Version 12　JP1/Automatic Job Management System 3 導入ガイド\n7.1.1　JP1/Baseのユーザー認証機能を使ったユーザー管理\nJP1 Version 12　JP1/Automatic Job Management System 3 設計ガイド（業務設計編）\n6.4.1　アクセス権限についての検討項目\n※上記はJP1/IM2およびJP1/AJS3について記載しておりますが、JP1権限レベルはJP1ユーザーを使用する製品毎に設定があります。詳細については各製品のマニュアルをご参照ください。\nユーザーマッピングの設定、確認方法\n作成したJP1ユーザーへのOSユーザーのマッピングはGUI（Windows版のみ）または「jbssetumap」コマンドにて行います。\nWindowsの場合、事前にパスワード管理情報にOSユーザーとパスワードが登録してある必要があります。以下の手順で、JP1ユーザーにマッピングしたいOSユーザーを事前に登録してください。\n＜Windowsの場合（GUI）＞\n１.　スタート→[プログラム]→[JP1_Base]→[JP1_Base Setup]を起動し、\n[ユーザーマッピング]タブを開き、パスワード管理の[設定]をクリックします。\n２．パスワード管理の画面が表示されますので、[新規登録]をクリックします。\n３．ユーザー名にOSのユーザー名を、パスワードにOSユーザーのパスワードを入力して[OK]をクリックします。\n４．OSユーザー登録後、[ユーザーマッピング]タブにて[JP1ユーザー]の[追加]をクリックします。\n5．表示された画面に、マッピングしたいJP1ユーザーと、JP1ユーザーがジョブやリモートコマンド（自動アクション）などの操作命令を出すサーバホストを設定します。サーバホストに「*」を指定すると、すべてのサーバホストからの操作が有効になります。\n６．[OK]をクリックし、下記画面にてマッピングするOSユーザーを選択し、[追加]をクリックします。\n（OSユーザー追加前）\n（OSユーザー追加後）\n７.　[OK]をクリックし、マッピングしたJP1ユーザーが登録されていることを確認します。\n＜Windowsの場合（コマンド）＞\n「jbsumappass」コマンドにてOSユーザー名とパスワードをJP1/Baseに登録できます。\n【形式】\njbsumappass [-h 論理ホスト名]\n-u OSユーザー名\n[-p パスワード]\n実行例：OSユーザー「osuser01」、パスワード「passwd」を登録する場合\n>jbsumappass -u OSユーザー名 -p パスワード\n実行例\n>jbsumappass -u osuser01 -p passwd\nKAVA0735-I  jbsumappass を起動しました．ﾕｰｻﾞｰ名 = osuser01\nKAVA0813-I  osuser01 を登録しました\n「jbssetumap」コマンドにてユーザーマッピングを行えます。\n【形式】\njbssetumap [-h 論理ホスト名]\n{-u JP1ユーザー名 | -ua}\n{-sh サーバホスト名 | -sha}\n-o OSユーザー名[,OSユーザー名...]\n[-no]\n実行例：サーバホスト名に「*」を指定する場合\n>jbssetumap -u JP1ユーザー名 -sha -o OSユーザー名\n実行例\n>jbssetumap -u jp1user01 -sha -o osuser01\nKAVA0667-I jbssetumap は起動されました． 論理ホスト名 = JP1_DEFAULT.\nKAVA0791-I jbssetumap は正常に実行されました．\n「jbsgetumap」コマンドにてマッピングしたJP1ユーザとOSユーザー情報を表示します。\n【形式】\njbsgetumap [-h 論理ホスト名]\n実行例\n>jbsgetumap\njp1admin:*:administrator\njp1user01:*:osuser01\n上記例では、\nJP1ユーザー：jp1adminに、OSユーザー：administratorが、\nJP1ユーザー：jp1user01に、OSユーザー：osuser01\nというユーザーがマッピングされている状態となります。\n＜UNIXの場合＞\n「jbssetumap」コマンドにてユーザーマッピングを行えます。\n【形式】\njbssetumap [-h 論理ホスト名]\n{-u JP1ユーザー名 | -ua}\n{-sh サーバホスト名 | -sha}\n-o OSユーザー名[,OSユーザー名...]\n[-no]\n実行例：サーバホスト名に「*」を指定する場合\n#/opt/jp1base/bin/jbssetumap -u JP1ユーザー名 -sha -o OSユーザー名\n「jbsgetumap」コマンドにてマッピングしたJP1ユーザとOSユーザー情報を表示します。\n実行例：物理ホストの場合\n#/opt/jp1base/bin/jbsgetumap\njp1admin:*:root\njp1user01:*:osuser01\n上記例では、\nJP1ユーザー：jp1adminに、OSユーザー：rootが、\nJP1ユーザー：jp1user01に、OSユーザー：osuser01\nというユーザーがマッピングされている状態となります。\nコマンドでのユーザーマッピングに関する操作や、コマンドのオプションを含む詳細については以下のマニュアルをご参照ください。\nJP1 Version 12　JP1/Base 運用ガイド\n8.　ユーザー管理の設定\n15.　コマンド\njbssetumap\njbsgetumap\n！JP1ユーザーへのOSユーザーマッピング時の注意事項！\nJP1ユーザーに管理者権限のあるOSユーザーをマッピングすると、操作権限の設定に関係なく、すべてのJP1資源を操作できます。このため、JP1ユーザーに対してJP1資源に対する操作制御をしたい場合は、JP1ユーザーに「管理者権限以外の権限を持つOSユーザー」をマッピングしてください。\nただし、JP1/AJS3の環境設定パラメーター「ADMACLIMIT」が「yes」に設定されている場合、マッピングするOSユーザーに関係なく、JP1ユーザーに設定されたJP1権限レベルに従ってアクセス制限を行います。（ADMACLIMITのデフォルト値は「no」です）\n詳細については前述した\n6.4.1　アクセス権限についての検討項目\nおよび下記マニュアルをご参照ください。\nJP1 Version 12　JP1/Automatic Job Management System 3 構築ガイド\n20.11.2　JP1/AJS3共通情報の環境設定パラメーターの詳細\n(4)　ADMACLIMIT\nユーザーマッピング時のその他注意事項\nユーザーマッピングの操作を行う際の注意事項をご紹介します。\n●Windows環境でJP1/IM - Manager、JP1/IM2 - Managerからリモートコマンドや自動アクションを\n実行する場合、マッピングするOSユーザーにOSの下記権限が必要です。\n「ローカル ログオン」\n「サービスとしてログオン」\n※OS権限は［ローカル セキュリティ ポリシー］から設定できます。\n●Windows環境でJP1/AJS3のジョブを実行する場合やJP1/Baseでローカルアクションを実行する場合、\nマッピングするOSユーザにOSの下記権限が必要です。\n「ローカル ログオン」\n※OS権限は［ローカル セキュリティ ポリシー］から設定できます。\nUAC機能有効時には下記権限も必要です。\n「バッチジョブとしてログオン」\n●JP1/AJS3からジョブを実行中にユーザーマッピングの設定を変更すると、ジョブがエラーとなることが\nあるため、ジョブ実行中はユーザーマッピングの設定変更を行わないでください。\n●UNIX/Linux環境でJP1/AJS3からジョブを実行する場合、マッピングするOSユーザーのホーム\nディレクトリは必ず作成してください。ホームディレクトリがない場合、ジョブ実行に失敗します。\n●Windows環境でマッピングしたOSユーザーのパスワードを変更した場合、GUIまたはjbsumappass\nコマンドを実行し、JP1/Baseに登録されているOSユーザーのパスワードを再設定してください。\n＜GUIで行う場合＞\n１．スタート→[プログラム]→[JP1_Base]→[JP1_Base Setup]を起動し、[ユーザーマッピング]タブを\n開き、パスワード管理の[設定]をクリックします。\n２. パスワード管理の画面が表示されますので、パスワードを変更したいOSユーザーを選択し、\n[パスワード変更]をクリックします。\n３. 変更後のパスワードを入力し、[OK]をクリックします。\n＜Windowsの場合（コマンド）＞\n【形式】\njbsumappass [-h 論理ホスト名]\n-u { OSユーザー名 | 情報検索用ユーザー名 }\n[-p パスワード]\n実行例：物理ホストの場合\n>jbsumappass -u administrator -p p@ssw0rd!\nKAVA0735-I jbsumappass を起動しました．ﾕｰｻﾞｰ名 = administrator\nKAVA0825-I administrator のﾊﾟｽﾜｰﾄﾞを変更しました\n※UNIX/Linux版の場合、OSパスワード変更時の対応は不要です。\nまとめ\nユーザーマッピング関連の「KAVU4571-W エージェント(エージェントホスト名)でユーザーマッピング(JP1ユーザー名)に失敗しました」メッセージはJP1サポートセンターで1、2を争うよくあるお問い合わせの一つです。\nこちらはユーザーマッピングしたOSユーザーのパスワードが変更されていなかったり、必要なOS権限が付与されていない場合等に出るものとなります。\n本ブログにて、JP1ユーザーとユーザーマッピングについて、基本的な内容からよくお問い合わせいただく注意点などについてご紹介いたしました。JP1からジョブやコマンドを実行する際は、ユーザーマッピングされたOSユーザーで実行されますので、実行するジョブやコマンドで問題があった際はマッピングされたOSユーザーの観点でも一度御確認いただければと思います。\n尚、サポートセンターではJP1ユーザーに関するFAQも含め、多くのFAQを揃えておりますので、併せて御確認いただければと思います。\n製品正式名称(略称表記)\nJP1/Automatic Job Management System 3 (JP1/AJS3)\nJP1/Integrated Management - Manager (JP1/IM)\nJP1/Integrated Management 2 - Manager (JP1/IM2)\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n西尾 高治\n2003年入社。JP1のフィールドエンジニアを経て2015年よりJP1サポートセンターにて勤務。\n2020年9月より本ブログ記事を担当することになりました。JP1を利用されている方に少しでもお役に立てる情報を提供したいと思います。\n奈良在住。最近は家庭菜園にハマっています。\nページトップへ戻る\n関連している記事\nJP1全般\n2025.09.30\n【JP1全般】JP1新バージョン「V 13.5」の 新機能を一挙紹介！\n2025年9月30日にリリースされたJP1の新バージョン「Version 13.5」の新機能一覧をご紹介します！\nJP1全般\n2025.06.27\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2026年3月に限定サポートが終了するVersion9から、JP1の最新バージョンである Version13に移行するにあたって検討すべきことをまとめました。\nJP1全般\n2025.02.27\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\nJP1サポート技術者が、お客様によくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（35）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（15）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.09.30\nJP1全般\n【JP1全般】JP1新バージョン「V 13.5」の 新機能を一挙紹介！\n2025.08.29\nジョブ管理\n【JP1 CS】JP1 CS ジョブ分析で、ジョブ運用の“見えない課題”を「見える化」しよう！\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202301-sso.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/SSO】JP1 V12.6新機能 SSOコンソールでユーザリソースを定義するには\nContent:\nネットワーク管理\n2023.01.31\n【JP1/SSO】JP1 V12.6新機能 SSOコンソールでユーザリソースを定義するには\nJP1/SNMP System Observer（JP1/SSO） V12.6の新機能で、SSOコンソールに [ユーザリソース定義作成] 画面が追加されました。\nユーザリソース定義とは\nルーターなどのネットワーク機器のリソースや、JP1/Extensible SNMP Agent（JP1/ESA）では取得できないサーバ固有のリソースデータを取得する場合に使用する機能です。\nJP1/SSOで収集するリソース条件をユーザリソースとして定義することで、監視対象機器から任意のMIBを収集し、あらかじめ定義したMIB式で計算した結果を収集・監視できます。\nV12.5まで\nは、ユーザリソース定義を行う際、リソースごとに決められた形式でユーザリソース定義ファイルを作成した後、ssocolconfコマンドでユーザリソース設定ファイルに変換する手順が必要でした。\nこのため、ユーザリソース定義のためにJP1/SSOサーバにログインする必要があったり、定義間違いが発生しやすい、工数が多いなど、不便な点がありました。\nV12.6では\n、SSOコンソールに [ユーザリソース定義作成] 画面が追加されました。これにより、ユーザリソースの定義、変換までをGUIで実施可能になりました。\nこの新機能には以下のメリットがあります。\n・Webブラウザの操作で定義するため、ユーザリソース定義のためにJP1/SSOサーバへのログインが不要(※)\n・各パラメーターごとに入力欄が設けられているため、定義ミスを防ぐことが可能\n・定義ファイル変換時のコマンド実行が不要\n(※)…定義を反映するためにサーバにログインし、関連するJP1/SSOのプロセスを再起動する必要があります。\n本記事では、[ユーザリソース定義作成] 画面の使用方法をご紹介します。\n[ユーザリソース定義作成] 画面の使用方法\n[ユーザリソース定義作成] 画面はSSOコンソールから表示できます。\nWebブラウザでSSOコンソールにログインすると、以下の画面が表示されます。\n[ユーザリソース定義作成] メニューをクリックすると、[ユーザリソース定義作成] 画面が表示されます。\nユーザリソース定義を行う手順は大まかに以下のとおりです。\n1. ユーザリソースの各定義項目の入力\n2. ユーザリソース設定ファイルの作成\n3. 関連するプロセスの再起動\n詳細手順をそれぞれ説明します。\n1. ユーザリソースの各定義項目の入力\n[ユーザリソース定義作成] 画面で [リソース] のリストボックス横にある [追加] ボタンをクリックすると、各定義項目の入力欄が表示されます。\n入力欄にユーザリソースの各定義項目を入力してください。\n定義内容はユーザリソース定義ファイルと同様です。\n定義内容の詳細は以下のマニュアルをご参照ください。\nJP1/SNMP System Observer\n7.　定義ファイル\n7.3　SSOの定義ファイル\n7.3.14　ユーザリソース定義ファイル\n定義画面のイメージは以下のとおりです。\nなお、今回は回線利用量を求める定義を例としてご紹介します。\n2. ユーザリソース設定ファイルの作成\n[ユーザリソース定義作成] 画面下部の [作成] ボタンをクリックし、ユーザリソース設定ファイルを作成します。\nここで作成したユーザリソース設定ファイルは、以下のパスに作成されます。\nWindowsの場合：\nインストールディレクトリ\\conf\\sso\\rsc\\リソースカテゴリ名\nLinuxの場合：\n/etc/opt/CM2/SSO/conf/rsc/リソースカテゴリ名\n各ボタンの詳細は以下のとおりです。\n項目\n説明\n[一時保存]\n入力した内容を一時保存します。なお、一時保存をせずに他のメニュー画面を表示して\n再びユーザリソース定義作成画面に戻ると、入力内容がリセットされます。\n[作成]\n入力した内容からユーザリソース設定ファイルを作成します。\n[ダウンロード]\n入力した内容からユーザリソース定義ファイルを ダウンロードします。\nssocolconfコマンドの-sオプションに、ダウンロードした ユーザリソース定義ファイルを\n指定することで、 ユーザリソース設定ファイルを作成することも可能です。\n[クリア]\n入力した内容をクリアします。\n[リソース] のリストボックスで選択されているリソースの定義内容だけがクリアされます。\n定義内容に誤りがある場合は、「定義データに誤りがあります。」というエラーが出力され、誤っている項目が赤色で表示されます。\n3.関連するプロセスの再起動\nJP1/SSOサーバにログインします。\nssocollectd、ssocolmng、ssorptdのデーモンプロセスを再起動すると、ユーザリソースの定義が反映されます。\n1.　ssocollectd、ssorptdデーモンプロセスの停止\n※ssocollectd停止時に、ssocolmngデーモンプロセスも停止されます。\n> ssostop ssocollectd\n> ssostop ssorptd\n2.　停止したデーモンプロセスの開始\n> ssostart ssocollectd\n> ssostart ssocolmng\n> ssostart ssorptd\n[ユーザリソース定義作成] 画面を使用する場合の注意事項\n[ユーザリソース定義作成] 画面を使用する場合、以下の注意事項があります。\n・[ユーザリソース定義作成] 画面でのユーザリソース設定ファイルの作成と、ssocolconfコマンドでの\nユーザリソース設定ファイルの作成を同時に行わないでください。\n・[ユーザリソース定義作成] 画面を使用する場合、SSOコンソールにログインするユーザーには\n管理者権限が必要です。\n・[ユーザリソース定義作成] 画面ではユーザリソース定義の削除・変更はできません。\n従来どおり、該当するユーザリソース設定ファイルの削除、再作成にてご対応ください。\n・[ユーザリソース定義作成] 画面はSSOコンソールからのみ表示できます。\nWindowsの [スタート] メニュー、またはssoguistartコマンドから起動できるウィンドウでは\n使用できません。\nまとめ\nSSOコンソールに [ユーザリソース定義作成] 画面が追加されたことで、ユーザリソースの定義から、ユーザリソース設定ファイルの作成までの一連の作業をGUIでまとめて実施可能になりました。\nユーザリソース定義は使いこなすことで様々なサーバやネットワーク機器の監視が行えるようになる便利な機能です。\n定義ファイルの作成手順は今回の新機能により簡易化されましたので、JP1/ESAが対応していないサーバや各種機器の監視が必要な場合は、ぜひ一度ユーザリソース定義をお試しください。\n製品正式名称（略称表記）および機能対象バージョン\nJP1/SNMP System Observer (JP1/SSO) 12-60以降\nJP1/Extensible SNMP Agent (JP1/ESA) 09-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n岩井 美由希\n2019年入社時よりJP1のサポートセンターにて勤務。2021年よりお客様向けの研修講師も担当しています。お客様からよくいただくご質問等をもとに、JP1のお役立ち情報を発信したいと思います。\n大阪在住。日本酒と猫が好きです。\n関連している記事\nネットワーク管理\n2024.02.22\n【JP1/NNMi】入門編！JP1の基本用語を理解しよう！\nJP1/NNMiのヘルプやマニュアルを読む上で理解しておきたい、JP1の基本用語について解説します。\nネットワーク管理\n2020.12.22\n【JP1/NNMi】そのアラート重要なの？！JP1/NNMiのヘルスチェック機能が出力する「NNMi稼働状態ステータス」とは\nJP1/NNMiのヘルスチェック機能が出力する「NNMi稼働状態ステータス」メッセージの確認方法をご紹介します。\nネットワーク管理\n2020.03.30\n【JP1/NNMi】不要なエラーイベント発行を「抑止」！ 定期メンテナンス時に、計画的に死活監視を停止する方法\n不要なエラーイベント発行を「抑止」！ 定期メンテナンス時に、計画的に死活監視を停止する方法をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202305-logfiletrap1.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup][Design]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/Base】JP1初心者向け！ログファイル監視の設定方法を解説（前編）\nContent:\n統合管理\n2023.05.09\n【JP1/Base】JP1初心者向け！ログファイル監視の設定方法を解説（前編）\n本記事では前編・後編に分けて、JP1でのログファイルトラップ設定方法を解説します。\nJP1のログファイルトラップとは？\nJP1のログファイルトラップとは、JP1や外部のアプリケーションで記録される\nログファイルを監視し、条件に一致したログが出力された場合にJP1イベント（JP1で管理できる形）として発行\nする機能です。この機能を使用することで、ログファイルに出力されたエラーなどの重要なログをJP1/Integrated Management（JP1/IM）で一元管理することができます。\nJP1のログファイルトラップには 2つの設定方法があり、いずれかを実施する必要があります。\n1.JP1/Baseコマンド\n従来からある設定手順です。\n監視対象となる各サーバで設定\nする必要があります。\nJP1/Baseコマンドで設定するケース\n・JP1/IMにおいてIM構成管理をセットアップしていない場合\n・旧バージョンからの運用を踏襲したい場合\n2.JP1/IMによるIM構成管理\nバージョン09-00から実装された設定手順です。\n監視対象のサーバではなく\n情報の集約先となるJP1/IMでの設定\nで完結します。\nJP1/IMのIM構成管理で設定するケース\n・GUIの操作でログファイル監視を設定したい場合\n・バージョン09-00以降を利用中で、JP1/IM構成管理をセットアップしている場合\nJP1/IMによるログファイルトラップの設定方法（後編）を確認する\n前編では、\nJP1/Baseコマンドを使用したログファイルトラップの設定方法\nについて解説します。\n目次\n【JP1/Base】ログファイルトラップの設定\n【JP1/Base】ログファイルトラップ起動・停止・自動起動設定\n【JP1/Base】ログファイルトラップの設定変更\nよくあるお問い合わせ\n【JP1/Base】ログファイルトラップの設定\nここでは、JP1/Baseの定義ファイルの設定手順を説明します。\n1．「ログファイルトラップ動作定義ファイル」を、以下のディレクトリに「jevlog.conf」の名称で新規作成し、テキストエディタで開きます。\nなお、ログファイルトラップ動作定義ファイルは、任意のディレクトリやファイル名での作成も可能です。\n作成先\nWindowsの場合\nJP1/Baseのインストール先フォルダ\\conf\\jevlog.conf\nUNIX/Linuxの場合\n/etc/opt/jp1base/conf/jevlog.conf\n2．処理内容を定義ファイルに記載し、保存します。\n編集例\nFILETYPE=SEQ\nACTDEF=<Error>999 \"E-APP\"\n※説明\nSEQ形式のシーケンシャルファイルを対象とし、文字列「E-APP」を含むメッセージが出力された場合に、重大度を「エラー」、イベントIDを「00000999」のイベントに変換\n代表的な設定パラメータ\nパラメータ\n説明\n構文\nFILETYPE\n読み込むログファイルの形式を指定します\nFILETYPE={ SEQ | SEQ2 | SEQ3 | WRAP1 | WRAP2 | HTRACE | UPD }\nRECTYPE\nログファイルのログの区切りを指定します。省略した場合は、可変長で「\\n」が1行の区切りとなります\nRECTYPE={ VAR { ’\\n’| ’1行の終了文字’ | ’1行の終了記号’} | FIX レコード長 }\nMARKSTR\n監視の対象外にしたい文字列を指定します\nMARKSTR=\"文字列\"\nACTDEF\n発行するJP1イベントの重大度およびイベントID、監視対象の文字列を指定します\nACTDEF=<重大度>イベントID \"文字列\"\n【参考マニュアル】設定パラメータの詳細\nJP1 Version 12 JP1/Base 運用ガイド\n16. 定義ファイル\n-\nログファイルトラップ動作定義ファイル\n【JP1/Base】ログファイルトラップ起動・停止・自動起動設定\nJP1/Baseのコマンドを実行し、ログファイルトラップを起動・停止・自動起動設定する手順を説明します。\nログファイルトラップの起動手順\n「jevlogstart」コマンドを実行し、ログファイルトラップを起動します。\njevlogstartコマンドを実行するとログファイルトラップが起動し、ID番号が標準出力、およびsyslogに出力されます。\nID番号は、後述するログファイルトラップの停止や、定義ファイルの更新時に利用するため、控えておいてください。jevlogstart実行時に監視名を指定する場合、ID番号の控えは不要です。\n実行コマンド\nWindowsの場合\n> jevlogstart -a ERROR_LOG \"C:\\log\\test.log\"\nUNIX/Linuxの場合\n# /opt/jp1base/bin/jevlogstart -a ERROR_LOG \"/home/test.log\"\njevlogstartコマンドの代表的なオプション\nオプション\n説明\n-a 監視名\nID番号に代わる別名として任意の監視名を指定できます。例では「ERROR_LOG」を監視名に指定しています。\n-f 動作定義ファイル名\n「ログファイルトラップ動作定義ファイル」がデフォルトの格納先に無い場合は、「ログファイルトラップ動作定義ファイル」の指定が必要です。\n※前述の手順で「jevlog.conf」を作成した場合は、省略可能。\n-m イベント化するデータの最大長（バイト）\nログファイルを読み込むとき、ログファイルの1行を、何バイト（1〜1,024）までJP1イベントにするのかを指定します。省略した場合は512バイトです。\nイベント化するデータは「-mで指定したバイト数 - 1バイト」になります。\n-t ファイル監視間隔（秒）\nログファイルの監視間隔（1〜86400秒）を指定します。省略した場合は10秒です。\nログファイル名\n監視するログファイル名を256バイト以内で指定します。指定できるファイル名の数はWindowsでは32個、UNIX/Linuxでは100個までです。\n【参考マニュアル】コマンドの詳細\nJP1 Version 12 JP1/Base 運用ガイド\n15. コマンド\n-\njevlogstart\n設定したログファイルトラップをJP1イベントで確認する\n監視対象のログファイルにログが書き込まれた後、設定した文字列でトラップされ、JP1/IMに通知されることをご確認ください。\n​JP1イベントの転送\n監視対象サーバでログファイルトラップしたJP1イベントをJP1/IMに通知させるには、JP1イベントの転送設定が必要です。JP1イベント転送の仕組みについては下記のマニュアルをご参照ください。\n【参考マニュアル】JP1イベント転送設定の詳細\nJP1 Version 12　JP1/Base 運用ガイド\n10.1.5　JP1イベントの転送設定を変更する\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D6520/BASE0250.HTM\n【参考マニュアル】構成定義の詳細\nJP1 Version 12　JP1/Integrated Management 2 - Manager 導入・設計ガイド\n8.4.3　システムの階層構成の管理\nhttps://itpfdoc.hitachi.co.jp/manuals/3021/30213D5120/IMDS0306.HTM\nログファイルトラップの停止手順\nログファイルトラップを停止する場合は、「jevlogstop」コマンドを実行します。\n実行コマンド\nWindowsの場合\n> jevlogstop { ID番号 | -a 監視名 | ALL }\nUNIX/Linuxの場合\n# /opt/jp1base/bin/jevlogstop { ID番号 | -a 監視名 | ALL }\n【参考マニュアル】コマンドの詳細\nJP1 Version 12 JP1/Base 運用ガイド\n15. コマンド\n-\njevlogstop\nログファイルトラップの自動起動設定\n「jevlogstart」コマンドを実行しログファイルトラップを起動したのみでは、OSのシャットダウン時に停止されたまま、次回のOS起動時は開始されません。OS起動時に、ログファイルトラップを自動で開始させたい場合は、「ログファイルトラップ起動定義ファイル」を作成する必要があります。\nログファイルトラップ起動定義ファイルを作成することで、ログファイルトラップ管理サービス（デーモン）起動時にログファイルトラップが起動します。\n1．ログファイルトラップ起動定義ファイルを作成します。\n作成先\nWindowsの場合\nJP1/Baseのインストール先フォルダ\\conf\\event\\jevlog_start.conf\nUNIX/Linuxの場合\n/etc/opt/jp1base/conf/event/jevlog_start.conf\n2．ファイルをテキストエディタで編集します。\n形式\nSTART_OPT=[<起動LANG>]監視名:jevlogstartコマンドオプション\n設定例\nSTART_OPT=ERROR_LOG:jevlogstart \"C:\\log\\test.log\"\n※説明\n監視名「ERROR_LOG」、監視ファイル名「C:\\log\\test.log」として設定\n【参考マニュアル】設定内容の詳細\nJP1 Version 12 JP1/Base 運用ガイド\n16. 定義ファイル\n-\nログファイルトラップ起動定義ファイル\n【参考マニュアル】jevlogstartコマンドのオプション詳細\nJP1 Version 12 JP1/Base 運用ガイド\n15. コマンド\n-\njevlogstart\n【JP1/Base】ログファイルトラップの設定変更\nログファイルトラップ動作定義ファイルの変更後は、ID番号もしくは監視名を指定した上で、リロードや再起動のコマンドを実行し、反映します。\nMARKSTRまたはACTDEFパラメータを変更した場合、リロードもしくは再起動で変更が反映します。\nMARKSTRまたはACTDEFパラメータ以外を変更した場合、反映には再起動が必要です。\n実行コマンド（リロード）\nWindowsの場合\n> jevlogreload { ID番号 | -a 監視名 }\nUNIX/Linuxの場合\n# /opt/jp1base/bin/jevlogreload { ID番号 | -a 監視名 }\n実行コマンド（再起動）\nWindowsの場合\n>jevlogstop { ID番号 | -a 監視名 }\n>jevlogstart\nUNIX/Linuxの場合\n# /opt/jp1base/bin/jevlogstop { ID番号 | -a 監視名 | ALL }\n# /opt/jp1base/bin/jevlogstart\n【参考マニュアル】コマンドの詳細\nJP1 Version 12 JP1/Base 運用ガイド\n15. コマンド\n-\njevlogreload\n-\njevlogstop\n-\njevlogstart\nよくあるお問い合わせ\nQ：どのような形式のログファイルを監視できますか？\nA：監視できるログファイルの形式は以下の7つです。\n・シーケンシャルファイル（SEQ）\n・シーケンシャルファイル（SEQ2）\n・シーケンシャルファイル（SEQ3）\n・ラップアラウンドファイル（WRAP1）\n・ラップアラウンドファイル（WRAP2）\n・マルチプロセス対応トレースファイル（HTRACE）\n・UPDタイプのログファイル（UPD）\n※シーケンシャルファイル（SEQ3）、UPDタイプのログファイル（UPD）はバージョン10以降で対応しています。\n【参考マニュアル】\nJP1 Version 12 JP1/Base 運用ガイド\n2.4.4 監視できるログファイル\nQ：監視できない形式のログファイルはありますか？\nA：以下のようなファイルはログファイルトラップで監視できません。\n・ネットワークファイル\n共有フォルダなどのファイルを対象とした場合、ネットワークの障害や遅延の際に動作を保証できません。\n・排他制御されるファイル\nログファイルトラップは、ログファイルを読み込みモードで開きます。読み込みモードでログファイルへアクセスできない場合は監視できません。\nQ：IM構成管理とJP1/Baseのコマンドでの設定は、どちらを使った方が良いでしょうか？\nA：それぞれの方法で管理できるログトラップの最大件数が異なるため、環境に応じて選択してください。\nIM構成管理では、一つのホストで管理できるログファイルトラップの最大件数が100件。JP1/Baseの設定では、ログファイルトラップ起動定義ファイルで指定できるログファイルトラップの最大件数が200件となっています。\nもし監視対象のログファイルが100件より多くなる場合は、JP1/Baseで設定してください。\nまた、IM構成管理の場合、マネージャーからGUI画面上で設定・反映することができます。JP1/Baseのコマンドから設定する際は、監視対象のホストにログインして設定する必要があり、設定後にはリロードコマンドなどの実行が必要になります。操作面としては、IM構成管理を使用した方が、管理しやすいと言えます。\nまとめ\nJP1/Baseのコマンドを使用したログファイルトラップの設定方法をご紹介しました。\nログファイルトラップは、弊社でも多くのお問い合わせをいただいています。中には、自動起動設定を忘れてしまった、編集箇所によって再起動すべきところをリロードコマンドを流してしまった、そもそも編集後にコマンドを流すのを忘れてしまった、など、うっかりミスも多くあります。設定した後は、必ず実際の監視対象であるログファイルが検知され、JP1側で表示されることをご確認ください。\n後編ではJP1/IMのIM構成管理を使用した方法をご紹介します！\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Integrated Management (JP1/IM) 09-00以降\n※本記事ではJP1/IM2 (バージョン12以降) もJP1/IMと表記しています。\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n2022年7月に中途入社。JP1のサポートセンターにて勤務。分かりやすい回答をご案内できるように心掛けています。2023年4月より本ブログ記事を担当することになりました。\n趣味は旅行です。特に京都が好きで、よく行きます。\n関連している記事\n統合管理\n2023.05.16\n【JP1/IM】JP1初心者向け！ログファイル監視の設定方法を解説（後編）\n定期的なサーバ再起動やメンテナンス時に、不要な通報通知を抑止する方法をご紹介します。\n統合管理\n2021.10.28\n【JP1/TELstaff】JP1イベントを素早く確認！JP1/TELstaffで簡単にチャットツールと連携\nJP1/TELstaff は電話やパトランプ、メール通知を柔軟に設定出来るソフトウェアですが、V12より、LINE WORKSおよびSlackへの通知が正式にサポートされました。ここでは具体的な設定手順についてご紹介します\n統合管理\n2021.03.29\n【JP1/IM2】JP1×チャットツールで実現！素早く・手軽なJP1イベントの確認手順\n素早く・手軽にJP1イベントを確認するため、JP1イベントとSlackおよびGoogle Chatとの連携手順をご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202305-logfiletrap2.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup][Design]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/IM】JP1初心者向け！ログファイル監視の設定方法を解説（後編）\nContent:\n統合管理\n2023.05.16\n【JP1/IM】JP1初心者向け！ログファイル監視の設定方法を解説（後編）\n本記事では、前編・後編に分けてJP1でのログファイルトラップ設定方法について解説します。前編では、JP1/Baseのコマンドを使用した設定方法について解説しました。後編では、JP1/Integrated Management（JP1/IM）のIM構成管理を使用した設定方法について解説します。\nJP1/Baseによるログファイルトラップの設定方法（前編）を確認する\nなお、JP1/IM と JP1/Baseのバージョンは11-10以降の画面を例示しています。\nバージョン11-01以前の場合、プロファイル管理の挙動に違いがありますので、ご注意ください。\n【参考マニュアル】プロファイル管理の詳細\nJP1 Version 12　JP1/Integrated Management 2 - Manager 導入・設計ガイド\n7.　IM構成管理によるシステムの階層構成の管理\n7.5\nプロファイルの管理\n目次\n【IM構成管理】ログファイルトラップの設定\n【IM構成管理】ログファイルトラップ起動・停止・自動起動設定\n【IM構成管理】ログファイルトラップの設定変更\nよくあるお問い合わせ\n【IM構成管理】ログファイルトラップの設定\nここでは、IM構成管理を使用した設定手順を説明します。前提として、次の条件を満たす必要があります。\n・IM構成管理をセットアップしている。\n・IM構成管理への監視対象となるホストの登録と、システム階層構成の定義がされている。\n・IM構成管理でホスト情報が収集済みである。\n・監視対象のホスト側に、ログファイルが存在している。\n​【参考マニュアル】IM構成管理セットアップの詳細\nJP1 Version 12　JP1/Integrated Management 2 - Manager 構築ガイド\n1.　インストールとセットアップ（Windowsの場合）\n-\n1.4　IMデータベースの構築（Windowsの場合）\n2.　インストールとセットアップ（UNIXの場合）\n-\n2.4　IMデータベースの構築（UNIXの場合）\n＜ログファイルトラップ設定手順＞\n1．スタートメニューから［JP1_Integrated Management2 - View］－［構成管理］を選択して、『IM構成管理』画面を開きます。\n2．『IM構成管理』画面で［IM構成］タブをクリックします。監視対象のサーバを右クリックして、［プロファイル表示］を選択します。\n3．『プロファイル表示／編集』画面で［JP1/Base］を右クリックして、［排他編集設定］を選択します。\n4．［ログファイルトラップ情報］を右クリックして［プロファイル追加］を選択します。\n5．『プロファイル追加』画面で、任意の監視名を設定し、［OK］ボタンをクリックします。ここでは例として監視名に「ERROR_LOG」を設定します。\n6．［起動オプション］と［設定内容］を設定します。\n編集例\nSEQ形式のシーケンシャルファイルを対象とし、文字列「E-APP」を含むメッセージが出力されたとき、重大度をエラー、イベントIDを「00000999」のイベントに変換\n設定項目\n内容\n編集例\n起動オプション\n監視ログファイル名\n監視対象ログファイル名を指定します\nC:\\log\\test.log\n追加オプション\njevlogstart（監視開始コマンド）の\nオプションを指定します\n-\n設定内容\nパラメータを使って\n監視条件を指定します\nFILETYPE=SEQ\nACTDEF=<Error>999 \"E-APP\"\n代表的な設定パラメータ\nパラメータ\n説明\n構文\nFILETYPE\n読み込むログファイルの形式を指定します\nFILETYPE={ SEQ | SEQ2 | SEQ3 | WRAP1 | WRAP2 | HTRACE | UPD }\nRECTYPE\nログファイルのログの区切りを指定します。省略した場合は、可変長で「\\n」が1行の区切りとなります\nRECTYPE={ VAR { ’\\n’| ’1行の終了文字’ | ’1行の終了記号’} | FIX レコード長 }\nMARKSTR\n監視の対象外にしたい文字列を指定します\nMARKSTR=\"文字列\"\nACTDEF\n発行するJP1イベントの重大度およびイベントID、監視対象の文字列を指定します\nACTDEF=<重大度>イベントID \"文字列\"\n【参考マニュアル】jevlogstartコマンドのオプション詳細\nJP1 Version 12　JP1/Base 運用ガイド\n15.　コマンド\n-\njevlogstart\n【参考マニュアル】設定パラメータの詳細\nJP1 Version 12　JP1/Base 運用ガイド\n16.　定義ファイル\n-\nログファイルトラップ動作定義ファイル\n7．［設定内容の保存／反映］項目の、［反映内容］が［反映する］に選択されていることを確認し、［実行］で設定を反映します。\n［反映する］を選択した場合は以下の確認メッセージが表示されるので、［はい］をクリックすると、監視対象のサーバに設定内容が反映されます。\nポイント\n［保存する］を選択した場合は、設定内容はJP1/IMサーバにのみ保存され、監視対象のサーバには反映されません。\nIM構成管理でのログファイルトラップ設定手順は以上です。設定後は、ログファイルトラップを起動してください。\n【IM構成管理】ログファイルトラップ起動・停止・自動起動設定\n​IM構成管理の画面から、ログファイルトラップを起動・停止・自動起動する設定について説明します。本設定には、「監視対象のサーバでJP1/Base LogTrapサービスが起動している」という前提条件があります。\n＜起動・停止手順＞\n1．スタートメニューから［JP1_Integrated Management2 - View］－［構成管理］を選択して、『IM構成管理』画面を開きます。\n2．『IM構成管理』画面で［IM構成］タブをクリックします。監視対象のサーバを右クリックして、［プロファイル表示］を選択します。\n3．『プロファイル表示／編集』画面で［JP1/Base］を右クリックして、［排他編集設定］を選択します。\n4．『プロファイル表示／編集』画面でログファイルトラップの監視名を右クリックし、監視を開始したい場合は［プロセス起動］、停止したい場合は［プロセス停止］を選択します。\nポイント\nプロセス起動をすると、監視名が活性化します。\nプロセス停止をすると、監視名がグレーアウトします。\n​＜自動起動設定手順＞\n監視対象サーバが再起動したとき、または監視対象サーバのログファイルトラップサービスが再起動したときに、ログファイルトラップを自動で起動するかどうかを設定できます。\n1．スタートメニューから［JP1_Integrated Management2 - View］－［構成管理］を選択して、『IM構成管理』画面を開きます。\n2．『IM構成管理』画面で［IM構成］タブをクリックします。監視対象のサーバを右クリックして、［プロファイル表示］を選択します。\n3．『プロファイル表示／編集』画面で［JP1/Base］を右クリックして、［排他編集設定］を選択します。\n4．［プロファイル表示/編集］画面の［起動オプション］の［ログファイルトラップサービスが起動したときに自動でプロセス起動する］チェックボックスで指定します。\n※［ログファイルトラップサービスが起動したときに自動でプロセス起動する］チェックボックスは、JP1/IM - Managerサーバのバージョンが11-10以降かつ監視対象サーバのJP1/Baseのバージョンが11-10以降の場合で、共通定義情報のLOGFILETRAP_AUTO_START_CONTROLが00000001（有効）のときだけ表示されます。\n5．［設定内容の保存／反映］項目で、［反映する］を指定し［リロード］もしくは［再起動］を選択したうえで［実行］を選択します。\n【IM構成管理】ログファイルトラップの設定変更\n​既に設定されている内容を変更する場合の手順を説明します。\n＜設定変更手順＞\n1．スタートメニューから［JP1_Integrated Management2 - View］－［構成管理］を選択して、『IM構成管理』画面を開きます。\n2．『IM構成管理』画面で［IM構成］タブをクリックします。監視対象のサーバを右クリックして、［プロファイル表示］を選択します。\n3．『プロファイル表示／編集』画面で［JP1/Base］を右クリックして、［排他編集設定］を選択します。\n4．［ログファイルトラップ情報］を展開して監視名を選択します。\n5．変更した項目により、反映方法が異なります。\n・MARKSTRまたはACTDEFパラメータを変更した場合、［反映する］を指定し\n［リロード］または［再起動］\nを選択したうえで［実行］を選択します。\n・MARKSTRまたはACTDEFパラメータ\n以外\nを変更した場合、［反映する］を指定し\n［再起動］\nを選択したうえで［実行］を選択します。\nポイント\n［保存する］を選択した場合は、設定内容はJP1/IMサーバにのみ保存され、監視対象のサーバには反映されません。プロセスが停止している場合は、［ファイルの送付］を選択します。\n［設定内容の保存／反映］項目の内容\n反映内容\n反映する\n変更内容を監視対象のサーバに反映する場合に指定\n保存する\n変更内容をJP1/IMサーバに保存する場合に指定\n反映方法\nリロード\nMARKSTR、ACTDEFパラメータを変更した場合に指定\n再起動\nMARKSTR、ACTDEF以外のパラメータを変更した場合に指定\n【参考マニュアル】設定ファイル反映の詳細\nJP1 Version 12　JP1/Integrated Management 2 - Manager 構築ガイド\n3.　IM構成管理によるシステムの階層構成の設定\n-\n3.5.1(6)　設定ファイルの編集内容を反映する\n【参考マニュアル】反映操作の詳細\nJP1 Version 12　JP1/Integrated Management 2 - Manager 画面リファレンス\n5.　IM構成管理の画面\n-\n5.9.2　［設定ファイル］ページ\n設定したログファイルトラップをJP1イベントで確認する\n監視対象のログファイルにログが書き込まれた後、設定した文字列でトラップされ、JP1/IMに通知されることをご確認ください。\nよくあるお問い合わせ\nQ：どのような形式のログファイルを監視できますか？\nA：監視できるログファイルの形式は以下の7つです。\n・シーケンシャルファイル（SEQ）\n・シーケンシャルファイル（SEQ2）\n・シーケンシャルファイル（SEQ3）\n・ラップアラウンドファイル（WRAP1）\n・ラップアラウンドファイル（WRAP2）\n・マルチプロセス対応トレースファイル（HTRACE）\n・UPDタイプのログファイル（UPD）\n※シーケンシャルファイル（SEQ3）、UPDタイプのログファイル（UPD）はバージョン10以降で対応しています。\n【参考マニュアル】\nJP1 Version 12 JP1/Base 運用ガイド\n2.4.4 監視できるログファイル\nQ：監視できない形式のログファイルはありますか？\nA：以下のようなファイルはログファイルトラップで監視できません。\n・ネットワークファイル\n共有フォルダなどのファイルを対象とした場合、ネットワークの障害や遅延の際に動作を保証できません。\n・排他制御されるファイル\nログファイルトラップは、ログファイルを読み込みモードで開きます。読み込みモードでログファイルへアクセスできない場合は監視できません。\nQ：IM構成管理とJP1/Baseのコマンドでの設定は、どちらを使った方が良いでしょうか？\nA：それぞれの方法で管理できるログトラップの最大件数が異なるため、環境に応じて選択してください。\nIM構成管理では、一つのホストで管理できるログファイルトラップの最大件数が100件。JP1/Baseの設定では、ログファイルトラップ起動定義ファイルで指定できるログファイルトラップの最大件数が200件となっています。\nもし監視対象のログファイルが100件より多くなる場合は、JP1/Baseで設定してください。\nまた、IM構成管理の場合、マネージャーからGUI画面上で設定・反映することができます。JP1/Baseのコマンドから設定する際は、監視対象のホストにログインして設定する必要があり、設定後にはリロードコマンドなどの実行が必要になります。操作面としては、IM構成管理を使用した方が、管理しやすいと言えます。\nまとめ\nJP1/IMのIM構成管理を使用したログファイルトラップの設定方法をご紹介しました。従来はJP1/Baseコマンドのみで設定可能でしたが、IM構成管理のGUI画面を使用できるため、コマンドを知らなくても簡単に設定できるようになりました。JP1/Baseコマンドを使用して設定している環境の場合は、どちらを使うか改めて見直してみても良いかもしれません。もし見直しを検討される場合は、運用が複雑になるのを防ぐために、併用せずにどちらかの方法に統一することをお勧めします。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Integrated Management (JP1/IM) 09-00以降\n※本記事ではJP1/IM2 (バージョン12以降) もJP1/IMと表記しています。\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n2022年7月に中途入社。JP1のサポートセンターにて勤務。分かりやすい回答をご案内できるように心掛けています。2023年4月より本ブログ記事を担当することになりました。\n趣味は旅行です。特に京都が好きで、よく行きます。\n関連している記事\n統合管理\n2023.05.09\n【JP1/Base】JP1初心者向け！ログファイル監視の設定方法を解説（前編）\n定期的なサーバ再起動やメンテナンス時に、不要な通報通知を抑止する方法をご紹介します。\n統合管理\n2021.10.28\n【JP1/TELstaff】JP1イベントを素早く確認！JP1/TELstaffで簡単にチャットツールと連携\nJP1/TELstaff は電話やパトランプ、メール通知を柔軟に設定出来るソフトウェアですが、V12より、LINE WORKSおよびSlackへの通知が正式にサポートされました。ここでは具体的な設定手順についてご紹介します\n統合管理\n2021.03.29\n【JP1/IM2】JP1×チャットツールで実現！素早く・手軽なJP1イベントの確認手順\n素早く・手軽にJP1イベントを確認するため、JP1イベントとSlackおよびGoogle Chatとの連携手順をご紹介します！\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/202404-pfm-agentless.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/PFM】 エージェントレス管理の落とし穴　よく発生するエラー その原因と解決策5選\nContent:\nパフォーマンス管理\n2024.04.25\n【JP1/PFM】 エージェントレス管理の落とし穴　よく発生するエラー その原因と解決策5選\nパフォーマンス監視ツールである JP1/Performance Management には、監視対象ホストにエージェントを導入して監視するエージェント型製品と監視対象ホストにエージェントを導入せず監視するエージェントレス型製品があります。\n本記事では、エージェントレス型製品である JP1/Performance Management - Remote Monitor for Platform（以下、JP1/PFM-RM） での発生しがちなエラーとその解決策について、ご紹介します。\nJP1/PFM-RMの製品構成\n※\n本記事では、構築事例の多いJP1/PFM-RMサーバのOSが Windowsの場合について記載しています。\n※\n本記事における Windows OSの設定画面キャプチャは、Windows Server 2019で取得したものです。異なるバージョンの場合は、表示される項目名、レイアウトなどが異なる可能性があります。\n監視対象のOSの違いによる設定方法の違い\n監視対象として設定できるOSは、Windows、UNIX/Linuxがあります。OSによってリモート接続方法が異なります。\nWindowsの場合\nUNIX／Linuxの場合\n接続方法\nWMI(※1)\nSSH\n設定の流れ\nDCOMを設定\n↓\nファイアウォールを設定\n↓\nWMIの名前空間を設定\n↓\nUACを設定\nSSHサーバーの公開鍵認証を有効に設定\n↓\n秘密鍵／公開鍵を作成\n↓\n秘密鍵をJP1/PFM-RMホストへ配置\n↓\n公開鍵を監視対象ホストに配置\n参考マニュアル(※2)\n3.1.5　WMIの接続設定方法\n3.1.6　Windows版のSSHの接続設定方法\n※1\nWMI（Windows Management Instrumentation）：Windws OSに対する管理インフラストラクチャ\n※2\n本記事のマニュアル記載箇所は、一部を除き以下マニュアル箇所の項目を掲載しています。\nJP1 Version 12\nJP1/Performance Management - Remote Monitor for Platform\n3.　インストールとセットアップ\nエラー発生時の基本確認事項\n監視対象の設定後、パフォーマンスデータが収集できず、監視ができない場合の確認ポイントは以下の3点です。この3点を確認し、後述の「\n接続時によく発生するエラー\n」に記載の確認および対応を行ってください。\n1.System Status（PD）レコードのReasonフィールドの確認\n2.Windowsのツールを使用してのWMIの接続確認\n3.ヘルスチェックステータスの確認\n1.System Status（PD）レコードのReasonフィールドの確認\nSystem Status（PD）レコードの Reason フィールドには、接続エラーの原因が格納されます。JP1/PFM-Web Console にて、デフォルトで用意されているレポートを出力することでこの内容を確認できます。\n具体的な手順は以下の通りです。\na.[エージェント階層]にて対象エージェントを選択\nb.[レポートの表示]にて、デフォルトレポートの「Target Host Status」を選択\nc.出力されたレポートの Reason の値を確認\nReasonフィールドの確認手順\n2.Windowsのツールを使用してのWMIの接続確認\nJP1/PFM-RM ホストにおいて、Windowsのツール（wbemtest.exe）で監視対象ホストに接続できるか確認してください。具体的な手順は以下の通りです。\nWMIの接続確認手順\n詳細な手順はマニュアル「\n(5)　WMIの接続確認をする\n」をご確認ください。\n3.ヘルスチェックステータスの確認\nJP1/PFM-Web Console にて、対象エージェントを選択し、[アラームの状態の表示]で表示されるヘルスチェックステータスを確認してください。\n[エージェント階層]-[アラームの状態の表示]選択画面\n接続時によく発生するエラーと対応方法\n接続エラーの原因でよく発生する3ケースと、その対応方法5つをWMIの接続確認結果およびヘルスチェックステータスの値も併せ、表に整理しました。\nケース#\nPDレコードReason\nWMI接続確認結果\nヘルスチェックステータス\n対応\n1\nConnection failed\n0x800706ba\n0x80041003\nホスト停止\n①\n状態不明\n➁\n動作中\n➂\n2\nAuthorization failed\n0x80070005\n④\n3\nCollection timeout\n正常\n⑤\n5つの対応方法について、それぞれご説明します。\n対応①\nこのエラーは、監視対象ホストとネットワーク的に接続できない場合に発生します。ファイアウォールの設定などを見直し、JP1/PFM-RMホストと監視対象ホストが疎通できるようにしてください。なお、WMI接続では、135/tcp、DCOMは動的ポート（Windowsの標準は 49152～65535）を使用します。\n対応②\nこのエラーは、監視対象の設定で Target Host 指定が正しくない場合に発生します。下記ファイル の「Target Host=」 の値が監視対象ホスト名として正しく設定されているか確認してください。\n＜JP1/PFM-RM 導入フォルダ＞\\agt7\\agent\\インスタンス名\\targets\\監視対象ホスト名.ini\n監視対象ホスト名が正しくない場合は、jpcconf target setup コマンドで修正します。監視対象ホスト名の変更手順は、マニュアル「\n3.6.3　監視対象の更新\n」をご確認ください。\n対応➂\nこのエラーは主に以下のどちらかに該当している可能性があります。\n・監視対象の設定で指定している監視対象ホストのユーザーアカウントのパスワード期限が切れている。\n⇀対象のユーザーアカウントの状態を確認してください。\n・監視対象ホストにおいて、WMIの名前空間が正しく設定されていない。\n⇀設定有無および設定内容を確認してください。正しく設定されているかの確認および修正方法は\nマニュアル「\n（3）WMIの名前空間を設定する\n」をご確認ください。\n下図はマニュアルの設定手順において、監視対象に接続するユーザーが jp1admin の場合の設定例の画面キャプチャです。\n監視対象に接続するユーザーがjp1adminの場合の設定例\n対応④\nこのエラーは主に以下のどれかに該当している可能性があります。\n・監視対象のセットアップ時に指定している認証設定に漏れや誤りがある。\n⇀アカウント有無および設定内容を確認してください。なお、共通アカウントの使用有無によって\n確認方法が異なります。共通アカウントの使用有無の確認は、以下のファイルの\n「UseCommonAccount=」の値で確認できます。\n<PFM-RM 導入フォルダ>\\agt7\\agent\\インスタンス名\\targets\\監視対象ホスト名.ini\nUseCommonAccount=Y　：共通アカウント使用\nUseCommonAccount=N　：共通アカウント未使用\n▼UseCommonAccount=Y（共通アカウント使用）の場合\n共通アカウント使用の場合は、jpcconf acc displayコマンドで各設定を確認してください。\n共通アカウントのタイプが wmi の確認コマンドは以下の通りです。\njpcconf acc display コマンドの実行結果\n認証情報\n説明\n<1>\nUser\n共通アカウント設定で指定している監視対象のアカウントです。\n<2>\nPassword\n共通アカウント設定で指定している監視対象のアカウントのパスワードです。現在の設定値は確認できないため、OS側でパスワードの再設定を行います。\n<3>\nDomain\n共通アカウント設定で指定している監視対象ホストが所属しているドメイン名です。\n設定内容の変更は、jpcconf acc setup コマンドで行ってください。\n▼UseCommonAccount=N（共通アカウント未使用）の場合\n共通アカウント未使用の場合はjpcconf target displayコマンドで各設定を確認してください。\nインスタンス：inst1、監視対象ホスト：Win2019-11、の確認コマンドは以下の通りです。\njpcconf target display コマンドの実行結果\n認証情報\n説明\n<1>\nUser\n監視対象に接続するためのアカウントです。\n<2>\nPassword\n監視対象に接続するためのアカウントのパスワードです。現在の設定値は暗号化されており、確認できないため、jpcconf target setup コマンドで再設定を行います。\n<3>\nDomain\n監視対象のホストが所属するドメイン名です。\n設定内容の変更は、jpcconf target setup コマンドで行ってください。\n参考マニュアル\nJP1 Version 12　JP1/Performance Management リファレンス\n3.コマンド\njpcconf acc display\njpcconf acc setup\njpcconf target display\njpcconf target setup\nJP1 Version 12　JP1/Performance Management - Remote Monitor for Platform\n3.6　PFM - RM for Platformの運用方式の変更\n3.6.3　監視対象の更新\n・監視対象ホストにおいて、DCOM設定が正しく設定できていない。\n⇀設定有無および設定内容を確認してください。正しい設定はマニュアル\n「\n（1）DCOM を設定する　（b）監視対象ホストでの設定\n」をご確認ください。\n下図はマニュアルの設定手順において、監視対象に接続するユーザーがjp1admin の場合の設定例の画面キャプチャです。\n監視対象に接続するユーザーがjp1adminの場合の設定例\n・監視対象ホストにおいて、UACの設定が正しく設定できていない。\n→設定有無および設定内容を確認してください。正しい設定はマニュアル\n「\n（4）UACを設定する\n」をご確認ください。\nUACの設定では、監視対象ホストに対して、「LocalAccountTokenFilterPolicy（レジストリ）を\n設定する」または「UACを無効化する」設定と2つの方法があります。以下の\n方法①\n、\n方法②\nどちらかの方法を行ってください。\n＜方法①：レジストリの確認＞\n以下のキー配下に値の名前：LocalAccountTokenFilterPolicy、値のデータ：1 が設定されているか\nを確認します。\nHKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\nレジストリの確認方法\n設定されていない場合は、以下のコマンドを実行します。対象のレジストリは、UACのリモート制限の\nエントリーキーです。「1」を設定することでリモート制御が許可されます。\nコマンドは改行せず1行で実行してください。\nreg add HKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System /v LocalAccountTokenFilterPolicy /t REG_DWORD /d 1 /f\n＜方法②：UACの無効化＞\n1.[コントロールパネル]−[ユーザー アカウント]−[ユーザーアカウント制御設定の変更]の\nスライダーが「通知しない」の一番下に設定されているかを確認します。設定されて\nいない場合は下図の通りにします。\nユーザーアカウント制御設定画面\n2.[コントロールパネル]−[管理ツール]−[ローカル セキュリティ ポリシー］における\n[セキュリティオプション]の「ユーザーアカウント制御：管理者承認モードですべての\n管理者を実行する」が「無効」であるかを確認します。設定されていない場合は下図の\n通りにします。\n※\nUACの無効化設定を反映するには、OSの再起動が必要です。\nローカルセキュリティポリシー画面\n対応⑤\n監視対象ホストに負荷が掛かっている可能性があるため、監視対象の負荷状況を確認してください。\nまとめ\nJP1/PFM-RM で監視がうまくいかない場合、エラー原因がマニュアルではわかりづらく、よくサポートセンターにお問合せを頂きます。今回のブログでは発生しがちなエラーケースとその対応をまとめてみました。\nトラブル発生時には、本記事が迅速な問題解決に繋がることを期待しています。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Performance Management - Remote Monitor for Platform(JP1/PFM-RM) 09-00以降\nJP1/Performance Management - Web Console(JP1/PFM-Web Console) 09-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n井上 勉孝\n1991年、株式会社アシスト入社。メインフレームのパフォーマンス管理製品から始まり、主に運用系製品を担当し、2017年からJP1の顧客サポートを担当。\n趣味は、ソフトバレーボールとストレッチ。\n関連している記事\nパフォーマンス管理\n2020.09.28\n【JP1/PFM】ツール自体は大丈夫？ 予期せぬ監視停止などのトラブルを防ぐ、「JP1/PFM」のヘルスチェック！\n予期せぬ監視の停止などを防ぐため、JP1自身の健康状態の管理「ヘルスチェック」を行い、JP1自体の不調を素早く検知する方法をご紹介します。\nパフォーマンス管理\n2019.09.30\n【JP1/PFM】パフォーマンス低下をいち早くキャッチ！JP1/IMとの連携で監視を一元管理\nJP1/PFMとJP1/IMを連携させることで、JP1/PFMが検知したパフォーマンス劣化をいち早くキャッチし、詳細レポートをJP1/IMから参照できるようになります。\nジョブ管理\n統合管理\nパフォーマンス管理\nネットワーク管理\n資産管理\n2019.02.07\n【JP1】Version 12の新機能一覧\n2019年1月22日、統合システム運用管理製品「JP1」から3年ぶりとなるメジャーバージョン「Version 12」がリリースされました。新製品に実装された機能を紹介します。\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/JP1_SAP.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】JP1 x SAP 使い慣れたAJS3の画面からSAPジョブを一元管理！\nContent:\nジョブ管理\n2024.08.15\n【JP1/AJS3】JP1 x SAP 使い慣れたAJS3の画面からSAPジョブを一元管理！\nJP1/AJS3をご利用のお客様で、SAPシステムやSAP BWシステムに対する処理をJP1/AJS3で一元管理されたいと思われたことがある方はいませんか？\nJP1/Automatic Job Management System 3 for Enterprise Applications（以下、JP1/AJS3 for EAP）を\nJP1/AJS3ホストに導入することで、JP1/AJS3のジョブ運用のフローにSAPシステムへの処理を組み込むことができます。\nJP1/AJS3 for EAPは以下の3つの機能を提供しています。\n・SAPシステムのバックグラウンドジョブの制御\n・SAP BWシステムのインフォパッケージの開始\n・SAP BWシステムのプロセスチェーンの開始\n本記事では、SAPのバックグラウンドジョブ制御をご紹介します。\n目次\nJP1/AJS3 for EAPのシステム構成\nJP1/AJS3 for EAPを使う3つのメリット\nJP1/AJS3 - Viewでジョブを定義するための事前設定\nJP1/AJS3 - Viewでジョブを定義する\nV12以前のLinux版 JP1/AJS3 for EAPを使用する場合\nJP1/AJS3 ✖ 基幹システム連携　～ SAP編 ～ 動画のご案内\nJP1/AJS3 for EAPのシステム構成\nJP1/AJS3 for EAPのシステム構成をご紹介します。\nJP1/AJS3 for EAPは、SAPシステムのXBPインターフェースを介して、SAPシステムのバックグラウンドジョブを制御します。XBPインターフェースは、外部アプリケーションがSAPシステム内のジョブ管理やバッチ処理を行うためのインターフェースです。\nSAPシステムとの通信を確立するためには、JP1/AJS3 for EAPをインストールしたホストに\nSAP NetWeaver RFC Libraryを配置し、RFC（Remote Function Call）を用いて接続します。SAPシステムへのJP1モジュールなどの導入は不要です。\nJP1/AJS3 for EAPを使う3つのメリット\nJP1/AJS3 for EAPを使うメリットを3つご紹介します。\n・SAPを含めた複数システムのジョブ運用を一元化\n・SAPジョブの一時バリアント設定機能（V12以降）\n・SAPジョブのジョブログ「SAP MSG-Type」で終了判定が可能（V12以降）\nそれぞれのメリットについてご紹介します。\nSAPを含めた複数システムのジョブ運用を一元化\nJP1/AJS3のスケジューリング機能、Windows／UNIXなど周辺システムで稼働するジョブ、SAPジョブを連携することで、システム全体のジョブ運用を一元管理することができます。\nジョブネットエディタ画面\nJP1/AJS3 for EAPで制御できるバックグラウンドジョブは、トランザクションコードSM36（SAPのバックグラウンドジョブの定義画面）で定義および実行できるバックグラウンドジョブです。\nJP1/AJS3 for EAPでは、JP1/AJS3 - Viewを使用してSAPのジョブ定義が可能です。JP1/AJS3 - Viewの定義画面は、SM36の画面と同様の設定項目があり、SM36の操作に慣れた方であれば容易に設定することができるかと思います。\nSAPジョブの一時バリアント設定機能（V12以降）\nJP1/AJS3 for EAPの一時バリアント機能を設定することで、ABAPプログラムのバリアント値を動的に定義して実行することができます。これにより、ABAPプログラムの作り込みを行うことなく先行ジョブの情報をSAPジョブのバリアントの値に指定してジョブを実行することが可能になります。\n＜注意＞\nV13のLinux版JP1/AJS3 for EAPのカスタムジョブでは、マクロ変数を使って一時バリアントに値を引き継ぐことができません。一時バリアント値を使用したい場合は、V12までのカスタムジョブの作成方法で作成するか、もしくはUNIXジョブにjr3bjsubコマンドを指定して使用してください。\nSAPジョブのジョブログ「SAP MSG-Type」で終了判定が可能（V12以降）\nV11までの JP1/AJS3 for EAPでは、jr3bjsubコマンドの戻り値のみでしか判定できませんでした。そのため、終了／中止以外のジョブ制御には、ジョブログをテキストファイルとして出力し、出力内容を検索して判定する処理をユーザーが作りこむ必要がありました。\nV12以降では、ジョブの終了時の戻り値をジョブログの「SAP MSG-Type」の出力内容を元にして、戻り値「4」を返却できるようになりました。\n下の図は、ジョブログのMSG-TypeのW（警告）を元に処理を分岐する場合のジョブネットです。\nJP1/AJS3 - Viewでジョブを定義するための事前設定\nJP1/AJS3 - ViewでSAPジョブを定義／実行するために必要となる事前設定をご説明します。\nここでご紹介する設定は、JP1/AJS3 for EAPを使用する全てのJP1/AJS3 - Viewで行う必要があります。\n本手順はJP1/AJS3 for EAP V13に基づいています。\nV12以前のLinux版 JP1/AJS3 for EAPでJP1/AJS3 - Viewを使ってジョブを定義する場合は、\nこちら\nをご覧ください。\n1. JP1/AJS3 for EAPが提供するファイルをJP1/AJS3 - Viewホストに手動でコピー\nコピー元（JP1/AJS3 for EAP導入サーバー）\nWindowsの場合\nインストール先フォルダ\\Program\\jr3cjdfx.exe （定義プログラム）\nインストール先フォルダ\\Program\\jr3cjdfx.ini （初期化ファイル）\nインストール先フォルダ\\Conf\\eapctrlconf.model.windows\n（eapctrlconfファイルのモデルファイル（Windows用））\nLinuxの場合\n/opt/jp1_am_r3/bin/jr3cjdfx.exe （定義プログラム）\n/opt/jp1_am_r3/bin/jr3cjdfx.ini （初期化ファイル）\n/etc/opt/jp1_am_r3/conf/eapctrlconf.model.windows\n（eapctrlconfファイルのモデルファイル（Windows用））\nコピー先（JP1/AJS3 - Viewホスト）\n任意のフォルダ\\jr3cjdfx.exe （定義プログラム）\n任意のフォルダ\\jr3cjdfx.ini （初期化ファイル）\n任意のフォルダ\\eapctrlconf（eapctrlconf.model.windows からファイル名を変更\n2.JP1/AJS3 - Viewインストールホスト上で、カスタムジョブを登録\na. スタートメニューから［JP1_Automatic Job Management System 3 - View］→\n［カスタムジョブ登録］を選択します。\nb. カスタムジョブの登録画面で［新規登録］をクリックします。\nカスタムジョブ登録画面\nc. ［カスタムジョブ登録情報］ダイアログボックスが表示されます。以下に設定例を記載します。\nWindowsの場合の設定内容\nカスタムジョブ登録情報設定画面\n名前\n任意\nコメント\n任意\n定義プログラム\n手順1で\nJP1/AJS3 - Viewホスト\nにコピーした定義プログラム「jr3cjdfx.exe」のフルパス\n任意のフォルダ\\jr3cjdfx.exe\n例）C:\\Program Files (x86)\\Hitachi\\JP1AJS2V\\ajs3_custom\\jr3cjdfx.exe\n実行プログラム\nJP1/AJS3 for EAPインストールホスト\nのカスタムジョブ実行プログラム「jr3bjsub」へのパス\nJP1/AJS3 for EAPインストール先フォルダ\\Program\\jr3bjsub.exe\n例）C:\\Program Files (x86)\\Hitachi\\JP1AMR3\\Program\\jr3bjsub.exe\nバージョン\n0600（固定）\nクラス名\nJP1AMR3（固定）\nジョブ種別\n［PCジョブ］を選択（固定）\nLinuxの場合の設定内容\nカスタムジョブ登録情報設定画面\n名前\n任意\nコメント\n任意\n定義プログラム\n手順1で\nJP1/AJS3 - Viewホスト\nにコピーした定義プログラム「jr3cjdfx.exe」のフルパス\n任意のフォルダ\\jr3cjdfx.exe\n例）C:\\Program Files (x86)\\Hitachi\\JP1AJS2V\\ajs3_custom\\jr3cjdfx.exe\n実行プログラム\n/opt/jp1_am_r3/bin/jr3bjsub（固定）\nバージョン\n0600（固定）\nクラス名\nJP1AMR3UX（固定）\nジョブ種別\n［PCジョブ］を選択（固定）\n※Linuxの場合も［PCジョブ］を選択します。\nd. ［OK］ボタンをクリックして「カスタムジョブ登録情報」と「カスタムジョブ登録画面」を\n閉じます。\ne. JP1/AJS3 - Viewでジョブネットを開いて、［カスタムジョブ］に追加したJP1/AJS3 for EAPの\nアイコンがあることを確認します。\nジョブネットエディタ画面\nJP1/AJS3 - Viewでジョブを定義する\nジョブ定義の設定手順を説明します。\n1. 作成したカスタムジョブをドラッグアンドドロップして詳細定義画面を開きます。\nジョブネットエディタ画面\n2. ［詳細情報の設定］の［詳細…］ボタンをクリックします。\n※\nJP1/AJS3 for EAPのインストールホストがJP1/AJS3 - Managerのインストールホストと異なる場合、JP1/AJS3 for EAPをインストールしたエージェントの実行エージェント名を［実行エージェント］に設定します。\nジョブの詳細定義画面\n3. ［R/3 システム］タブで接続先のSAPを設定します。\nR/3ジョブ定義画面-[R/3システム]\n特定のアプリケーションサーバーに接続する\n接続するアプリケーションサーバーを直接指定する場合に選択します。\nホスト名\n接続するアプリケーションサーバー（またはSAPルーター）のホスト名を指定します。\nシステム番号\nSAPシステムでのシステム番号を指定します。\nクライアント\nログオン先のSAPクライアント番号を指定します。\nユーザー名\nSAPジョブを登録するユーザーのユーザー名を指定します。\nパスワード\n［ユーザー名］で指定したSAPジョブの実行ユーザーに対してパスワードまたは拡張パスワードを指定します。\n拡張パスワードを使用する\nSAPシステム側で拡張パスワードルールが適用されている場合にチェックします。\n言語\n使用する言語を1バイトの英字で指定します。\n・日本語の場合：J\n・英語の場合　：E\n参考\nあて先で［sapnwrfc.iniを使用して接続する］を選択することでsapnwrfc.iniファイルを使用することも可能です。\nsapnwrfc.ini ファイルとは\nSAP環境で使用される SAP NetWeaver RFCライブラリの設定ファイルです。JP1/AJS3 for EAPで\nsapnwrfc.iniを使うことで以下のメリットがあります。\n・sapnwrfc.iniファイルにSAPの接続先を定義することで、個々のジョブで接続定義を設定する\n必要がなく、接続先情報を一括管理できます。\n・接続先情報が変更になった場合、個々のジョブの修正をすることなく、sapnwrfc.iniファイル\nの設定を修正することで対応できます。\n・複数SAPシステムへの接続先を定義することができます。\nsapnwrfc.iniファイルのサンプルファイル\nJP1/AJS3 for EAPでは、sapnwrfc.iniファイルのサンプルファイルが提供されています。サンプル\nファイルは以下に格納されています。\n▼Windowsの場合\nインストール先フォルダ\\Sample\\sapnwrfc.ini\n例）C:\\Program Files (x86)\\Hitachi\\JP1AMR3\\Sample\\sapnwrfc.ini\n▼Linuxの場合\n/opt/jp1_am_r3/sample/sapnwrfc.ini\nsapnwrfc.iniファイルの配置場所と読み込みの優先順位\n以下のいずれかに配置したsapnwrfc.iniファイルが読み込まれます。\n＜環境変数RFC_INIにsapnwrfc.iniが指定されていない場合＞\nJP1/AJS3 for EAPの作業ディレクトリにあるsapnwrfc.iniファイルが読み込まれます。\nデフォルトでは以下のディレクトリが使用されます。\n▼Windowsの場合\n%ALLUSERSPROFILE%\\Hitachi\\JP1\\JP1_DEFAULT\\JP1AJS2\\tmp\\sapnwrfc.ini\n例）C:\\ProgramData\\Hitachi\\jp1\\jp1_default\\JP1AJS2\\tmp\\sapnwrfc.ini\n▼Linuxの場合\n/var/opt/jp1ajs2/tmp/sapnwrfc.ini\nJP1/AJS3 for EAPの作業ディレクトリは、ジョブ制御用の環境設定ファイル（confファイル）\nに定義されています。詳細は以下のマニュアルをご覧ください。\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 for Enterprise Applications\n2.　インストールとセットアップ\n-\n2.3.1　JP1/AJS3 for EAP（ジョブ制御）の動作環境を設定する\n・command（コマンドセクション）\nWorkDir\n＜環境変数RFC_INIにsapnwrfc.iniが指定されている場合＞\n環境変数RFC_INIに指定したsapnwrfc.iniファイルだけが読み込まれます。\nJP1/AJS3 for EAPの作業ディレクトリにあるsapnwrfc.iniは無視されます。\nRFC_INI環境変数は、R/3ジョブごとにR/3ジョブ定義の［環境変数］タブで\n設定することも可能です。\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 for Enterprise Applications\n2.　インストールとセットアップ\n-\n2.3.6　ジョブ制御用のコマンドを使用する前に必要な作業\n4. ジョブ名を入力します。\nR/3ジョブ定義-[ジョブの定義]\nジョブ名\nSAPシステムで実行するSAPジョブステップ名を指定します。\nジョブクラス\nSAPシステムで実行するSAPジョブのジョブ実行時の優先度を指定します。\n定義されているジョブステップ\nSAPジョブを構成するジョブステップを指定します。\n実行先ホストを指定する\n登録したSAPジョブを実行するホストを指定する場合に設定します。\n指定しない場合は、アプリケーションサーバー間で負荷分散されて実行されます。\n実行先のアプリケーションサーバーを指定する\n登録したSAPジョブを実行するアプリケーションサーバーまたはジョブサーバーグループを指定する場合に設定します。指定しない場合は、登録したSAPジョブはアプリケーションサーバー間で負荷分散して実行されます。\n5. ジョブステップを登録するため［追加］ボタンをクリックします。\nR/3ジョブ定義-[ジョブの定義]\n6. ジョブステップで実行するプログラム名など、必要事項を入力して［OK］ボタンをクリックします。\nジョブステップ設定画面\n7. SAPのジョブログに出力される「MSG-Type」を元に、ジョブの戻り値を設定する場合は、［実行結果の出力先］の［設定］ボタンをクリックします。\nR/3ジョブ定義-[ジョブの定義]\n8. 設定画面で以下の項目を設定します。\n実行結果の出力先設定画面\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 for Enterprise Applications\n3.　JP1/AJSを利用したバックグラウンドジョブの実行\n- 3.1.1　SAPジョブを新規に登録する\n(3)　カスタムジョブの定義\nV12以前のLinux版 JP1/AJS3 for EAPを使用する場合\nV12以前のLinux版 JP1/AJS3 for EAPでは、カスタムジョブ用のGUI画面は提供されていません。カスタムジョブを登録することでJP1/AJS3 - ViewにJP1/AJS3 for EAPのアイコンを表示することはできますが、カスタムジョブの詳細定義画面はUNIXジョブと同様の定義画面が表示されます。\n詳細定義の［コマンド文］には、ジョブを登録するコマンド「jr3bjsub」を設定します。\nカスタムジョブの登録\n1. ​スタートメニューから［JP1_Automatic Job Management System 3 - View］→［カスタムジョブ登録］を選択します。\n2. カスタムジョブの登録画面で［新規登録］をクリックし、表示される［カスタムジョブ登録情報］画面で設定を行います。\nカスタムジョブの登録画面\n名前\n任意\nコメント\n任意\n定義プログラム\n未設定\n実行プログラム\n未設定\nバージョン\n0600（固定）\nクラス名\nJP1AMR3UX（固定）\nジョブ種別\nUNIXジョブ（固定）\nJP1/AJS3 - Viewでのジョブ登録\n1. JP1/AJS3 - Viewでジョブネットを開いて、［カスタムジョブ］から作成したカスタムジョブをドラッグアンドドロップして詳細定義画面を開きます。\nジョブネットエディタ画面\n2. カスタムジョブ画面で［コマンド文］にjr3bjsubコマンドを入力します。\n詳細定義画面\nコマンド文\n/opt/jp1_am_r3/bin/jr3bjsub -h SAPSYSTEM -s 01 -c 010 -u SAPUSER -p2 USERSAP -l J -jn ZABAPTEST -pa ZABAPTEST -rs -wait\njr3bjsubコマンドの引数\n-h ホスト名\n接続するSAPシステム（またはSAPルーター）のホスト名を指定します。\n-s NN\n「NN」にSAPシステムを識別するためのシステム番号を指定します。\n-c SAPクライアント\nログオン先のSAPシステムで有効なSAPクライアントのクライアント番号を指定します。\n-u SAPユーザー名\nログオン先のSAPシステムで有効なSAPユーザー名を指定します。\n-p2 拡張パスワード\n-uオプションに指定したSAPユーザーに対応する拡張パスワードを指定します。\n-l 言語\n使用する言語種別を１バイトの英字で指定します。\n-jn ジョブ名\n登録するSAPジョブの名称を指定します。\n-pa ABAPプログラム\nジョブステップとして追加するABAPプログラムの名称を指定します。\n-rs\nジョブの登録後にジョブをできる限り早くリリースします。\n-wait\nリリースしたジョブの実行が終了するまでジョブを監視します。\n参考マニュアル\nJP1 Version 12　JP1/Automatic Job Management System 3 for Enterprise Applications\n4.　コマンド\n-\njr3bjsub\nJP1/AJS3 ✖ 基幹システム連携　～ SAP編 ～ 動画のご案内\n【JP1×基幹システム連携（SAP編）】基幹システムと連携したジョブ実行管理方式 ～ SAP連携 ～\nJP1/AJS3 for EAPを利用するメリット、設定やデモンストレーションを約17分でまとめた動画です。JP1/AJS3 for EAPの具体的な操作方法やその効果を視覚的に理解することができます。個人情報などの入力無しで、どなたでもお好きな時間に視聴できますので、是非この機会にご覧ください！\n動画を視聴する\nまとめ\nJP1/AJS3 for EAPを使用して、JP1/AJS3でSAPシステムと連携する方法についてご紹介しました。\nJP1/AJS3は、柔軟なスケジューリング機能と複数のシステムにまたがるジョブを一元管理し、業務フローを自動化することで業務の効率性を高めることができます。\nJP1/AJS3をご利用されている方にとって、SAPシステムとの連携は業務プロセスの自動化や一元管理を可能にし、運用の効率化やエラーの削減に期待できます。\nジョブ管理でSAPシステムとの連携をお考えの場合は、JP1/AJS3 for EAPをご検討いただければと思います。\n※記載されている会社名、製品名は、各社の商標または登録商標です。\n製品正式名称(略称表記)\nJP1/Automatic Job Management System 3(JP1/AJS3)\nJP1/Automatic Job Management System 3 for Enterprise Applications(JP1/AJS3 for EAP)\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n保木 紗知子\n2002年入社、Oracle DatabaseやWebFOCUSをサポート、2023年から\nJP1製品のサポートを担当。2024年8月より本ブログ記事を担当することになりました。神戸在住。テーマパークが好きです。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/JP1_V13.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1全般】JP1新バージョン「V 13」の 新機能を一挙紹介！（第一弾）\nContent:\nJP1全般\n2023.06.29\n【JP1全般】JP1新バージョン「V 13」の 新機能を一挙紹介！（第一弾）\n2023年6月29日、JP1の最新バージョン「Version 13」がリリースされました。\nそこで本記事では、ジョブ管理製品と資産管理製品※のVersion 13の主な新機能と、新製品であるクラウドサービス上の業務連携を実現する\n「JP1/Automatic Job Management System 3 for Cloud Service Applications」（以下、JP1/AJS3 for CSA）\nについて速報版にてご紹介します。\nアシストが厳選するおススメ機能の詳細は、別記事でご紹介予定です。\n※その他カテゴリの最新バージョンは、後日リリース予定です。\n「ジョブ管理製品」の新機能一覧\n●\nJP1/AJS3\n・Web GUIに、JP1/AJS3の状態を監視できるマネジメントポータルを追加。\n・イベントジョブの監視処理性能を改善。\n・スケジュールできる最終年月日が2099年12月31日まで指定可能に。\n・時刻処理のオーバーフロー問題を改善し、2038年以降も製品を安全に利用可能に。\n・メールシステム連携機能でPostfixとの連携をサポート。\n・通信暗号化について、次に示す機能を追加。\n- TLS 1.3をサポート\n- 認証方式にECDSAを使用する暗号スイートをサポート\n・SSL通信で楕円曲線暗号（ECC）が利用可能に。\n・JP1/AJS3 for CSA（新製品）との連携をサポート。\n・JP1/AJS3 for EAPで新しく追加された、Linux版のカスタムジョブ定義プログラムに対応した標準カスタム\nジョブを追加。\n・V12以前のUNIX環境からV13のLinux環境へ移行する際のユニット定義の移行性を検証するツールを提供。\n・クラウドプラットフォーム（Amazon EC2）のオートスケール機能との連携で使用する、\nAWS CLI（Amazon Web Services Command Line Interface）対応のスクリプトを追加。\n・Linuxの英語環境で環境変数LANGの値にUTF-8を指定可能に。\n●\nJP1/AJS3\n-\nPO\n・Microsoft 365のExcelをサポート（条件有り）。\n・マップ出力時のユニット名の改行位置を指定可能に。\n・Linuxの英語環境で環境変数LANGの値にUTF-8を指定可能に。\n・Windows環境で、インストール時にシステム環境変数Pathにインストールパスを追加し、コマンド名のみの\n指定でコマンド実行が可能に。\n・時刻処理のオーバーフロー問題を改善し、2038年以降も製品を安全に利用可能に。\n●\nJP1/AJS3 - DA\n・Microsoft 365のExcelをサポート（条件有り）。\n・エラーチェック機能のチェック項目に、「有効範囲」のスケジュール制限に関する項目を追加。\n・通信暗号化機能でサポートするプロトコルに「TLS バージョン1.3」を追加。\n・JP1/AJS3 for EAP 13-00 に対応。\n・時刻処理のオーバーフロー問題を改善し、2038年以降も製品を安全に利用可能に。\n●\nJP1/AJS3 for EAP\n・SAP社およびクラウド事業者の提供するクラウド環境（SAP S/4HANA Cloud, private editionなど）との\n接続をサポート。\n・カスタムジョブ定義画面で指定したSAPシステムとの接続パスワードを難読化により保護。\n・Linux版でJP1/AJS3 - View上で動作するカスタムジョブ定義プログラムを追加。\n・時刻処理のオーバーフロー問題を改善し、2038年以降も製品を安全に利用可能に。\n●\nJP1/FTS/FTP\n・時刻処理のオーバーフロー問題を改善し、2038年以降も製品を安全に利用可能に。\n●\nJP1/Script\n・Scriptランチャサービスを使用してNetExecコマンドをログオン空間指定で実行した場合に、設定した\n優先順位に従い、マシンにログオンしている任意のユーザーのログオン空間でプログラムを実行可能に。\n・コマンドラインからスクリプトファイルの文法チェックが可能に。\n・時刻処理のオーバーフロー問題を改善し、2038年以降も製品を安全に利用可能に。\n「資産管理製品」の新機能一覧\n●\nJP1/ITDM2\n・Microsoft EdgeのネイティブモードおよびGoogle ChromeでWebアクセスの操作ログを取得可能に。\n・macOS Monterey 12、macOS Ventura 13をサポート。\n・リモートインストールマネージャーを用いた配布の場合、配布に優先度をつけ優先度の高いものから先に\n配布可能に。\n・VPN環境など端末のMACアドレスがランダムに変更されるケースを想定し、特定のMACベンダーのアドレスを\nネットワーク制御リストに登録しない機能をサポート。\n・Linuxのソフトウェア情報取得を自動的に定期実行可能に。\n・マルチテナントに対応し、複数のJP1/ITDM2のサーバを1台に集約可能に。\n・ジョブ実行状況をCSVで出力するコマンドを追加。\n・時刻処理のオーバーフロー問題を改善し、2038年以降も製品を安全に利用可能に。\nJP1/AJS3 for CSA（新製品）\nクラウド環境上のサービスや各種SaaSサービスを利用した業務の開発や運用の増加に伴い、従来型のITと組み合わせたハイブリッド、マルチクラウドでの運用形態に対応するため、V13では新製品であるJP1/AJS3 for CSAが提供されました。JP1/AJS3 for CSAにより、従来のJP1/AJS3で実現していた業務運用を踏襲しながら、既存の基幹業務とクラウドサービスを活用した業務の一元的な管理を実現します。\nJP1/AJS3 for CSAは、クラウドサービスとの連携に必要な認証・実行・監視・結果確認の一連の流れをGUI上で定義することができ、ローコードで連携用ジョブの作成が可能です。そのため、業務内容やサービス側の仕様変更にも、安全かつスピーディーに対応できます。\nまとめ\n待望のV13がリリースされました。V13では2038年問題にも対応し、長く安心してお使いいただける製品になりました。\nJP1/AJS3ではWeb Consoleの新機能として提供されたマネジメントポータルによって、業務の監視だけではなく、ジョブ管理システムが安定して動いているかを確認できるようになりました。これにより、JP1/AJS3システム内の問題箇所をいち早く特定し、素早い対処が可能になることが期待できます。\nまた、JP1/AJS3 for CSAによってクラウドサービスを含む業務の一元管理を実現しており、ハイブリッド・マルチクラウド時代に合わせてJP1は進化を続けています。\n今回ご紹介していないカテゴリのJP1製品も、V13がリリースされます。そちらについては、第二弾としてブログでご紹介予定です。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3（JP1/AJS3）13-00以降\nJP1/Automatic Job Management System 3 - Print Option（JP1/AJS3 - PO）13-00以降\nJP1/Automatic Job Management System 3 - Definition Assistant（JP1/AJS3 - DA）13-00以降\nJP1/Automatic Job Management System 3 for Enterprise Applications（JP1/AJS3 for EAP）13-00以降\nJP1/File Transmission Server/FTP（JP1/FTS/FTP）13-00以降\nJP1/Script 13-00以降\nJP1/IT Desktop Management 2（JP1/ITDM2）13-00以降\nJP1/Automatic Job Management System 3 for Cloud Service Applications（JP1/AJS3 for CSA）13-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n平野 実梨\n2021年入社時よりJP1のサポートセンターにて勤務。JP1をご利用の方のお役に立てる情報を発信したいと思います。\n京都在住。最近は動物の動画を見るのが癒し。\n関連している記事\nJP1全般\n2025.06.27\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2026年3月に限定サポートが終了するVersion9から、JP1の最新バージョンである Version13に移行するにあたって検討すべきことをまとめました。\nJP1全般\n2025.02.27\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\nJP1サポート技術者が、お客様によくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介します。\nJP1全般\n2024.09.30\n【JP1全般】JP1新バージョン「V 13.1」の 新機能を一挙紹介！\n2024年9月30日にリリースされたJP1の新バージョン「Version 13.1」の新機能一覧をご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/JP1_V13_1_2409.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][GCP][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1全般】JP1新バージョン「V 13.1」の 新機能を一挙紹介！\nContent:\nJP1全般\n2024.09.30\n【JP1全般】JP1新バージョン「V 13.1」の 新機能を一挙紹介！\n2024年9月30日、JP1の最新バージョン「Version 13.1」がリリースされました。\n本記事では、Version 13.1の主な新機能についてご紹介します。\n目次\n「ジョブ管理製品」の新機能一覧\n「統合管理製品」の新機能一覧\n「ネットワーク管理製品」の新機能一覧\n「資産・配布管理製品」の新機能一覧\n「ジョブ管理製品」の新機能一覧\n●\nJP1/AJS3\n・Web GUI（ジョブポータル）から選択した起動条件付きジョブネットの滞留している世代を、一括して\n実行中止操作可能に。\n・OpenshiftやKubernetesといったコンテナオーケストレーション上のコンテナに、JP1/AJS3 - Agentを\n導入可能に。\n・通信障害などの要因でエージェントからマネージャーへの通信が滞留した際、システム管理者向けに\n異常を知らせるメッセージを出力可能に。\n・エージェントからマネージャーへ通信する際の、通信タイムアウト時間およびタイムアウトの処理方式を\n改善。\n・ジョブ管理システム上で管理されている業務の登録状況や1日の実行状況を、マネジメントポータルで\n可視化して表示可能に。\n・マネジメントポータルで滞留している起動条件付きジョブネットの一覧を表示可能に。\n・マネジメントポータルの下記の画面に対し、JP1ユーザーごとに任意の自動更新間隔を設定可能に。\n・ サマリ画面\n・ スケジューラーサービス詳細画面\n・ データベース詳細画面\n・ 実行ホスト画面\n●\nJP1/AJS3 for CSA\n・クラウドのストレージサービス上に格納するオブジェクト（ファイル）の作成や更新といった事象発生を\n契機にして、JP1/AJS3上で後続の業務処理を実行する機能を提供。\n・クラウドサービスを活用した業務との連携を容易に実現するために、AWS、Azure、Google Cloudといった\nクラウド上のサービスと連携するサンプルコンテンツを提供。\n「統合管理製品」の新機能一覧\n●\nJP1/IM3\n・Google CloudのログをJP1/IM3に統合して監視するための連携ツールを提供。(※)\n・Oracle Databaseの空き容量や待ち時間などのパフォーマンス状況を監視可能に。(※)\n・SAPシステムで発生したログやCCMSアラートを監視可能に。(※)\n・Windows上のサービスやLinux上のサービス（Unit）のステータスを監視可能に。(※)\n・AIXのOSリソース状況や、シスログ・ログファイルを監視可能に。(※)\n・過去のデータをもとに将来の稼働情報を予測し、アラートを上げることが可能に。\n・ダッシュボードに表示している内容をCSVファイルとしてダウンロード可能に。\n・Webシナリオ（URL組み合わせ）にてユーザー操作を仮定したEnd to Endの外形監視が可能に。\n・VMware ESXiの稼働状況を監視可能に。\n・アラート設定ファイルを複数エージェントに一括して配布、適用ができ、SI作業が楽に。\n・VPNレス環境でJP1イベントをJP1 CS システム管理で一元管理・監視が可能に。\n※\n13-01の新機能です。\n「ネットワーク管理製品」の新機能一覧\n●\nJP1/NNMi\n・JP1/NNMiのGUI上から疑似オブジェクト（ノード、インターフェイス、L2接続線）を追加可能に。\n・IPアドレスの監視のON／OFFについて、IPv4とIPv6で分けて設定可能に。\n・JP1/NNMiコンソールの見た目が変更に。\n・TLSv1.3をサポート。\n・SAML（Security Assertion Markup Language）によるユーザー認証をサポート。\n「資産・配布管理製品」の新機能一覧\n●\nJP1/ITDM2\n・Microsoft Intuneと連携し、スマートデバイスやタブレットといった資産をJP1/ITDM2で一元管理可能に。\n(※)\n・中継システムで配布データの流量を制御可能に。(※)\n・Asset Consoleで稼働／不稼働の観点で機器を集計可能に。(※)\n・統括管理用サーバーと管理用中継サーバー間の通信を暗号化可能に。\n・コマンドプロンプト／PowerShellの操作ログを取得可能に。\n・Microsoft Intuneで管理するWindowsデバイスの情報をJP1/ITDM2へ取り込むことが可能に。\n※\n13-01の新機能です。\nまとめ\n2023年に登場したJP1のメジャーバージョンであるJP1 V13の最新リビジョンであるV13.1がリリースされました。\nJP1/AJS3では、V13で新登場したマネジメントポータルにさらに便利な機能が追加され、お客様のジョブ運用の状況把握がしやすくなった印象です。\nJP1/IM3は、クラウドからサーバー監視まで、お客様のご要望の多かった監視対象が数多く追加されています。\n2026年3月末、JP1 V9の限定サポートが終了になります。\nV13への移行をお考えのお客様は、V13.1の新機能をご確認頂き、バージョンアップを前向きにご検討頂ければと思います。\n少ない社内工数で確実なJP1バージョンアップを実現したい方は、アシストの\nJP1バージョンアップサービス\nをご検討ください。\n※\n記載されている会社名、製品名は、各社の商標または登録商標です。\n製品正式名称(略称表記) および機能対象バージョン\nJP1 Cloud Service (JP1 CS) 13-10以降\nJP1/Automatic Job Manaegement System 3 (JP1/AJS3) 13-10以降\nJP1/Automatic Job Manaegement System 3 for Cloud Service Applications (JP1/AJS3 for CSA) 13-10以降\nJP1/Integrated Management 3 - Manager (JP1/IM3) 13-10以降\nJP1/Network Node Manager i (JP1/NNMi) 13-10以降\nJP1/IT Desktop Management 2 (JP1/ITDM2) 13-10以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n関連している記事\nJP1全般\n2025.06.27\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2026年3月に限定サポートが終了するVersion9から、JP1の最新バージョンである Version13に移行するにあたって検討すべきことをまとめました。\nJP1全般\n2025.02.27\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\nJP1サポート技術者が、お客様によくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介します。\nJP1全般\n2024.07.01\n【JP1全般】JP1のライセンス体系について分かりやすく解説\nJP1のライセンス体系について基本的な考え方を解説します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/JP1_V13_2.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup][Design]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1全般】JP1新バージョン「V 13」の 新機能を一挙紹介！（第二弾）\nContent:\nJP1全般\n2023.10.19\n【JP1全般】JP1新バージョン「V 13」の 新機能を一挙紹介！（第二弾）\n2023年6月29日、JP1の最新バージョン「Version 13」がリリースされました。\n本記事では、第一弾に引き続き、下記目次記載の製品についてVersion 13の主な新機能をご紹介します。\n第一弾（ジョブ管理製品などの新機能）をみる\nまた、今回のJP1 Version 13では「JP1/Integrated Management 2」が「JP1/Integrated Management 3」（以下、JP1/IM3）として、製品名を新たに機能も大幅に拡張されました。そこで、JP1/IM3の気になる新機能についても、本記事でご紹介します。\nなお、アシストが厳選するおススメ機能の詳細は、別記事でご紹介予定です。\n目次\n「統合管理製品」の新機能一覧\n「ネットワーク管理製品」の新機能一覧\n「IT運用自動化製品」の新機能一覧\n大幅リニューアルした「JP1/IM3」の新機能をご紹介！\n「統合管理製品」の新機能一覧\n●\nJP1/IM3\n・ITシステムの健全性を可視化するダッシュボードを提供。\n・クラウドネイティブなアプリケーションやジョブのログ、メトリックを監視可能に。\n・自動アクションだけでなくリモートコマンド実行（手動実行）の結果も一元管理可能に。\n・ハイブリッドクラウド環境など、インターネット環境でのVPNレス化に対応。\n・JP1/IM3 - ManagerからJP1/IM3 - Agentをダウンロードしてインストール・セットアップが可能に。\n・Web UIから定義ファイルの操作が可能に。\n・マネージャーホストに必要な物理メモリーを約5割削減。\n・JP1/IM3の画面にJP1/NNMiの画面を埋め込み、統合的に運用可能に。\n●\nJP1/Base\n※JP1/Base V13は、JP1/AJS3およびJP1/IM3のコンポーネントとして提供されます。\n・SSL通信でTLS1.3が利用可能に。\n・SSL通信で楕円曲線暗号（ECC）を利用可能に。\n・オートスケール連携で使用するAWS CLI対応のスクリプトを追加。\n・2038年以降も使用可能に。\n・Linuxで使用できる文字コードに英語のUTF-8を追加。\n「ネットワーク管理製品」の新機能一覧\n●\nJP1/NNMi\n・ノード検出時にインシデントでユーザーに通知する機能を提供。\n・重複するノードが検出され、ノードが統合（削除）された場合にインシデントで通知可能に。\n・新規インストール時のデフォルトのHTTPポート/HTTPSポート番号を変更。\n・SNMPv3通信のサポート認証プロトコルとして以下のプロトコルを追加。\n- HMAC128-SHA-224\n- HMAC192-SHA-256\n- HMAC256-SHA-384\n- HMAC384-SHA-512\n・ヘルスインシデントを抑止し、JP1/NNMiコンソール下部に表示される注意事項の表示を抑止可能に。\n・コマンドによるノードフォームの「注」（ユーザーが編集できる注釈）の表示・更新・検索が可能に。\n●\nJP1/SSO\n・ユーザーリソース定義作成画面で、既存の定義の読み込みや編集、定義の反映が可能に。\n・SNMPv3通信のサポート認証プロトコルとして以下のプロトコルを追加。\n- HMAC128-SHA-224\n- HMAC192-SHA-256\n- HMAC256-SHA-384\n- HMAC384-SHA-512\n「IT運用自動化製品」の新機能一覧\n●\nJP1/AO\n・タスク投入時の実行タスク数の制限機能を提供。\n・サービス実行日時として指定できる日付を2099年12月31日まで拡張。\n・動作OS、エージェントレス接続先OSおよび、操作対象となる仮想サーバーの前提OSとして\nRed Hat Enterprise Linux 9をサポート。\n・JP1/NNMiなどの接続先JP1製品の新バージョンに追従。\n大幅リニューアルした「JP1/IM3」の新機能をご紹介！\nJP1/IM3はオンプレミスやクラウドネイティブが混在する環境を統合管理することで「ITシステムの健全性の評価」「ITシステムの最適化」を可能にする運用基盤として大幅に刷新されました。\n特に今回の新バージョンでは、複雑化したITシステムを管理する\nオブザーバビリティ\nとしての機能を強化しています。\nオブザーバビリティとは\n「可観測性」とも呼ばれ、クラウドネイティブなシステムにおける監視・可視化の方法として注目されています。\n従来のモニタリングでは、あらかじめ監視対象として設定されたログやシステムリソースを収集してエラーを検知し、設計書やドキュメントをもとにエラーへの対処を依頼したり、上位者に判断を仰ぐなどの対応が必要でした。\nこのような従来のモニタリング方法では、既知の異常に対しては対応可能ですが、クラウドやコンテナなど、あらかじめ設計しづらい、複雑で動的にスケールするようなサービスの監視は困難です。\nオブザーバビリティでは上記のように監視の事前定義が困難なシステムにおいても、システム全体をリアルタイムで監視し、収集したデータを関連づけて可視化、システム異常の原因分析を行い、問題の早期発見と解決を支援します。\nJP1/IM3ではオブザーバビリティ向上のため、大きく分けて以下2つの機能を強化しています。\n1.ITシステムの健全性を可視化\n2.クラウドネイティブアプリケーションの監視\n各機能についてご紹介します。\n1.ITシステムの健全性を可視化\nJP1/IM3では、統合オペレーション・ビューアーにて、ITシステムの健全性を可視化するダッシュボード画面が提供されています。\nダッシュボードはデフォルト画面としても提供されますが、Web UIで自由に編集することで、ご要件に合わせて使いやすくカスタマイズすることができます。\n障害発生の原因調査や傾向分析、各システムの稼働率の把握など、目的に合わせてダッシュボードを切り替えて利用したり、発生した事象（イベント）に関連するダッシュボードを呼び出すこともできます。\n2.クラウドネイティブアプリケーションの監視\nJP1/IM3では、クラウドネイティブなアプリケーションのログ監視、稼働監視、イベント管理に対応しました。\n特に、以下の監視機能が強化されています。\n・コンテナの動的IPアドレスに対応した監視\n・コンテナのクラスタ視点での稼働監視\n・クラウド利用におけるサーバーレスアプリケーションの監視\n・その他さまざまなSaaSのアラートのイベント監視\nこれにより、クラウドネイティブなシステムやオンプレミス環境、ハイブリット環境、マルチクラウド環境など様々なシステムの監視機能をJP1/IM3で一元管理可能になりました。\nまとめ\nJP1 V13では、特にJP1/IM3で大幅に機能がアップデートされました。障害の原因分析や、システムの健全性評価に活用できるダッシュボード画面により、ひと目でシステム全体を監視・評価可能になりました。\nまた、クラウドネイティブなシステムをはじめとする様々なシステムの一元管理が可能となったことで、複雑なシステムもJP1/IM3一つで管理することができます。これによって、これまでの単なる障害監視に加え、システム全体としての健全性の可視化に役立てられそうです。\nシステムの複雑化が加速し、運用管理の柔軟性と機敏性が求められるこれからのITシステムにおいて、\nぜひJP1/IM3をご活用ください！\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3（JP1/AJS3）13-00以降\nJP1/Integrated Management 3 - Manager（JP1/IM3）13-00以降\nJP1/Network Node Manager i（JP1/NNMi）13-00以降\nJP1/SNMP System Observer（JP1/SSO）13-00以降\nJP1/Automatic Operation（JP1/AO）13-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n岩井 美由希\n2019年入社時よりJP1のサポートセンターにて勤務。\n2021年よりお客様向けの研修講師も担当しています。お客様からよくいただくご質問等をもとに、JP1のお役立ち情報を発信したいと思います。\n大阪在住。日本酒と猫が好きです。\n関連している記事\nJP1全般\n2025.06.27\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2026年3月に限定サポートが終了するVersion9から、JP1の最新バージョンである Version13に移行するにあたって検討すべきことをまとめました。\nJP1全般\n2025.02.27\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\nJP1サポート技術者が、お客様によくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介します。\nJP1全般\n2024.09.30\n【JP1全般】JP1新バージョン「V 13.1」の 新機能を一挙紹介！\n2024年9月30日にリリースされたJP1の新バージョン「Version 13.1」の新機能一覧をご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/JP1_license_2406.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1全般】JP1のライセンス体系について分かりやすく解説\nContent:\nJP1全般\n2024.07.01\n【JP1全般】JP1のライセンス体系について分かりやすく解説\nJP1サポートセンターに寄せられるお問い合わせの中で、意外と多いのがライセンスに関するお問い合わせです。\n製品の新規導入時やシステム更改時など、ライセンスの確認は避けては通れません。しかし、JP1には様々な製品があり、複数のライセンス体系が存在するため、どの製品にどのライセンスが適用されるのか不明瞭になりがちです。また、必要なライセンス数の見積もりについても分かりづらいことが多いと思います。\n本ブログでは、JP1のライセンス体系について基本的な考え方を解説します。\n※\n本ブログでは、主にVersion12およびVersion13に関するライセンス情報を取り扱います。\n※\n記載されている内容は、2024年6月時点の情報です。予告なしに変更されることがありますので、あらかじめご了承ください。\n目次\nライセンスの種類\nインストールライセンスとは\n管理数ライセンスとは\nプロセッサライセンスとは\n各バージョンの統廃合\nよくある質問\nもっと詳しく知りたいときに　-オンデマンド動画のご案内-\nライセンスの種類\nJP1には3つのライセンスの種類があります。製品ごとにライセンスの種類を確認し、それぞれ利用する分のライセンスを見積もります。\nインストールライセンス\n管理数ライセンス\nプロセッサ数ライセンス\nそれぞれのライセンスについて説明します。\nインストールライセンスとは\nインストールライセンスに該当する製品の場合、製品をインストールする台数に応じてライセンスが必要です。例えば、Windows環境に2つ、Linux環境に2つ製品をインストールする場合、必要なライセンス数は4つです。\n主な対象製品：\nJP1/AJS3 - View\n、\nJP1/AJS3 - DA\n、\nJP1/AJS3 - EAP\n、\nJP1/SSO\nなど\n管理数ライセンスとは\n管理数ライセンスに該当する製品の場合、製品の管理対象ノードの数（サーバー数やネットワーク機器数）に応じてライセンスが必要です。\n主な対象製品：\nJP1/IM3\n、\nJP1/NNMi\n、\nJP1/ITDM2\n、\nJP1/AJS3 for CSA\nなど\nプロセッサ数ライセンスとは\nプロセッサ数ライセンスに該当する製品の場合、インストール先のプロセッサ数（コア数）にOS係数を掛けた分のライセンスが必要です。OS係数は、OSの種別ごとに決まっています。\n主な対象製品：\nJP1/AJS3 - Manager\n、\nJP1/AJS3 - Agent\n、\nJP1/FTS/FTP\n算出方法\n以下の式で必要ライセンスを算出します。\nコア数 × OSの係数= 必要ライセンス\nOS係数\n算出に必要なOS係数は以下のとおりです。\nOS\nOS係数\nWindows\n0.5\nLinux\n0.5\nAIX\n1.0\nHP-UX\n1.0\nSolaris\n1.0\n例えば、Windows（4コア）のサーバーが2台、AIX（8コア）のサーバーが1台の場合、必要なライセンスはWindowsで4つ、AIXで8つとなります。\nプロセッサ数ライセンスのポイント\n仮想環境・クラウド環境の場合\n物理CPUとvCPUの場合、基本的にはコア数の少ない方でカウントします。\n※vCPUとは仮想プロセッサーのことです。仮想マシンやクラウド環境上で割り当てたCPUを指します。\n▼物理コア数が把握できる場合\n・vCPUのコア数＜＝物理コア数\nライセンス数はvCPUのコア数となります。\n・vCPUのコア数＞物理コア数\nライセンス数は物理コア数となります。\n※物理コア数を上限とします。\n※クラウド環境によっては、物理コア数の情報が開示されています。\nご利用のクラウドベンダーにご確認ください。\n▼物理コア数が把握できない場合\nライセンス数はvCPUのコア数となります。\n各バージョンの統廃合\nJP1では新バージョンが出る際に製品の統廃合が行われることが多く、統廃合に伴ってライセンスも変更になる場合があります。ここでは各バージョンの主な統廃合を紹介します。\nVersion12→Version13\nVersion13のJP1/Baseは単体ライセンスは無くなり、JP1/AJS3 - Managerや、JP1/AJS3 - Agent、\nJP1/IM3 - Managerのコンポーネントとして提供されます。\nVersion13で統合される製品や名称が変更になる主な製品は、以下のとおりです。\nVersion12移行前の\nライセンス\nVersion13移行後の\nライセンス\nVersion13の変更点詳細\n統合管理\nJP1/IM2 - Manager\nJP1/IM3 - Manager\n稼動性能監視機能を統合しワンパッケージで提供\nJP1/Baseをコンポーネントとして含む\nJP1/IM2 - EG for NNMi\nJP1/IM3 - EG for NNMi\n名称変更\nJP1/Base\nライセンス移行パス無し\nJP1/Baseは、JP1/IM3 - Manager、\nJP1/AJS3 - Manager、\nJP1/AJS3 - Agentのコンポーネントとして提供\nジョブ管理\nJP1/AJS3 - Manager\nJP1/AJS3 - Manager\nJP1/Baseをコンポーネントとして含む\nJP1/AJS3 - Agent\nJP1/AJS3 - Agent\nJP1/Baseをコンポーネントとして含む\nパフォーマンス管理\nJP1/PFM - Manager\nJP1/IM3 - Manager\nパフォーマンス監視の機能をJP1/IM3で順次提供予定\nJP1/PFMエージェント製品\nJP1/IM3 - Manager\n（管理数ライセンス）\nに移行できる製品とでき\nない製品があります。\nネットワーク管理\nJP1/ESA\nJP1/IM3 - Manager\n（管理数ライセンス)\nリソース監視の機能はJP1/IM3で順次提供予定\nJP1/SSO - AP\nライセンス移行パス無し\nプロセス監視の機能はJP1/IM3で順次提供予定\nVersion11→Version12\nJP1/IM - ManagerはJP1/IM2 - Managerに名称変更しました。\nVersion10→Version11\nJP1/IM - ViewはJP1/IM - Managerに統合しました。\nJP1/IM - TELstaffはJP1/TELstaffに名称変更しました。\nJP1/AJS3 - POはJP1/AJS3 - Viewに統合しました。\nJP1/AJS3 - POMLはJP1/AJS3 - Managerに統合しました。また、JP1/AJS3 - POMLは、JP1/AJS3 - POMに名称変更しました。\nJP1/PFM - Baseは、JP1/PFM - Agent OptionやJP1/PFM - Remote Monitorに統合しました。\nよくある質問\nJP1/AJS3 - Web Consoleは、ライセンスが必要ですか？\nJP1/AJS3 - Web ConsoleはJP1/AJS3 - Managerのコンポーネントなので、\nライセンスは数える必要がありません。\nJP1/AJS3 - PO、JP1/AJS3 - POMは、ライセンスが必要ですか？\nVersion11以降のJP1/AJS3 - POは、JP1/AJS3 - Viewのコンポーネントです。\nJP1/AJS3 - Viewの1ライセンスには、JP1/AJS3 - POのライセンスが1つ含まれています。\nJP1/AJS3 - ViewとJP1/AJS3 - PO を1つのOS、またはそれぞれを異なるOSにインストールできます。\nVersion11以降のJP1/AJS3 - POMはJP1/AJS3 - Managerのコンポーネントなので、\nライセンスは数える必要がありません。\nJP1/IM2 - View（JP1/IM3 - View）は、ライセンスが必要ですか？\nJP1/IM2 - View（JP1/IM3 - View）の\nライセンスは不要です。\nJP1/IM2 - View（JP1/IM3 - View）は、JP1/IM2 - Manager（JP1/IM3 - Manager）のコンポーネントです。JP1/IM2 - View（JP1/IM3 - View）のインストール数に制限はありません。\nサーバー更改に伴い、現行サーバーと新サーバーを並行稼働させたい。ライセンスの追加購入は必要ですか？\n追加で新サーバー用のJP1ライセンス購入が必要です。\nインストールしているJP1製品分のライセンスをご用意ください。また、テスト目的で一時的にサーバーを複製しテスト後に廃棄する場合においても、並行稼働となります。この場合もインストールしているJP1製品分のライセンスが必要です。\nもっと詳しく知りたいときに　-オンデマンド動画のご案内-\nJP1は、ライセンス体系が複雑でユーザー様のお困りポイントの1つだと思います。Version13でのライセンスの考え方や、実践的なライセンスの活用方法を知りたい方向けのオンデマンド動画をご用意しています。\n動画では、Version13の製品情報を含めて「JP1のライセンスで押さえるべきポイント」を分かりやすく紹介しており、ライセンスを有効に活用するためのヒントが満載です。\nこの機会に是非チェックしてみてください。\n動画を視聴する\n徹底活用！賢いJP1ライセンスの買い方、使い方【約51分】\nこんな疑問や課題がある方におススメ\nJP1ライセンスの基本的な考え方を理解したい\n不要なライセンスを持っていないか確認したい\n保有ライセンスを超えて使っていないか不安\n動画を視聴する\n製品正式名称(略称表記)\nJP1/Automatic Job Management System 3 - Manager（JP1/AJS3 - Manager）\nJP1/Automatic Job Management System 3 - View（JP1/AJS3 - View）\nJP1/Automatic Job Management System 3 - Print Option（JP1/AJS3 - PO）\nJP1/Automatic Job Management System 3 - Print Option Manager（JP1/AJS3 - POM）\nJP1/Automatic Job Management System 3 - Print Option Manager License（JP1/AJS3 - POML）\nJP1/Automatic Job Management System 3 - Definition Assistant（JP1/AJS3 - DA）\nJP1/Automatic Job Management System 3 for Enterprise Applications（JP1/AJS3 for EAP）\nJP1/File Transmission Server/FTP（JP1/FTS/FTP）\nJP1/Automatic Job Management System 3 for Cloud Service Applications（JP1/AJS3 for CSA）\nJP1/Integrated Management 3 - Manager（JP1/IM3）\nJP1/Integrated Management 2 - Manager（JP1/IM2）\nJP1/Integrated Management - Manager（JP1/IM2）\nJP1/Integrated Management 3 - View（JP1/IM3 - View）\nJP1/Integrated Management 2 - View（JP1/IM2 - View）\nJP1/Integrated Management - View（JP1/IM2 - View）\nJP1/Integrated Management - TELstaff（JP1/IM - TELstaff）\nJP1/TELstaff\nJP1/Network Node Manager i（JP1/NNMi）\nJP1/SNMP System Observer（JP1/SSO）\nJP1/Extensible SNMP Agent （JP1/ESA）\nJP1/SNMP System Observer - Agent for Process（JP1/SSO - AP）\nJP1/Performance Management（JP1/PFM）\nJP1/IT Desktop Management 2（JP1/ITDM2）\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n2022年7月に中途入社。JP1のサポートセンターにて勤務。分かりやすい回答をご案内できるように心掛けています。2023年4月より本ブログ記事を担当することになりました。\n趣味は旅行です。特に京都が好きで、よく行きます。\n関連している記事\nJP1全般\n2025.06.27\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2026年3月に限定サポートが終了するVersion9から、JP1の最新バージョンである Version13に移行するにあたって検討すべきことをまとめました。\nJP1全般\n2025.02.27\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\nJP1サポート技術者が、お客様によくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介します。\nJP1全般\n2024.09.30\n【JP1全般】JP1新バージョン「V 13.1」の 新機能を一挙紹介！\n2024年9月30日にリリースされたJP1の新バージョン「Version 13.1」の新機能一覧をご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/JP1_support2023.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1全般】 No.1代理店を支えるアシストJP1サポートセンターのご紹介～95％以上のお客様満足度を維持し続けるために～\nContent:\nJP1全般\n2023.08.23\n【JP1全般】 No.1代理店を支えるアシストJP1サポートセンターのご紹介\n～95％以上のお客様満足度を維持し続けるために～\nアシストはJP1販売No.1代理店として、導入実績3,590社（2023年1月時点）と、多くのお客様向けに技術支援、サポートサービスの提供を行っています。また、開発元の株式会社日立製作所より「HITACHI Business Partner Award 2023」の「プラットフォーム部門」において表彰※されました。本部門での受賞は、今年で21年連続となります。\n※\nアシスト、統合システム運用管理ソフトウェア「JP1」の販売活動において日立製作所より21年連続アワード受賞\nJP1サポートセンターの詳細はこちら↑をクリック\n本記事では、\n95％以上\nのお客様から\n「満足」\n以上の評価をいただき、バージョン5から25年間サポートを行っているJP1サポートセンターが、お客様にご満足いただくために心がけていることや、活動内容をご紹介します。\n目次\nJP1サポートセンターの体制と心がけていること\nFAQ改善活動\nお客様訪問活動\n担当営業、フィールド技術者との情報共有活動\nJP1サポートセンターの体制と心がけていること\nJP1サポートセンターは、お客様に安心してJP1をご利用いただけるよう以下の体制を整えています。\n・30名以上のJP1サポート専任技術者で対応\n・災害／パンデミックの際でもサポートを継続できるようサポート拠点を全国に3ヵ所設置\nお客様からのお問い合わせについては、以下を心がけて対応しています。\n・質問の背景や経緯を理解し、お客様の立場に立って、分かりやすく回答\n・JP1製品の機能ではお客様のご要望が実現できない場合、回避策、代替案の提示を検討\n・回答だけではなく、類似案件や知っておくと便利なFAQ、技術資料を紹介\nJP1サポートセンターでは、お問い合わせいただいた方に感動を与えられるようなサポート提供を目標に活動しています。その一環として、アンケートレビュー活動があります。\nアンケートレビュー活動\nサポートセンターでは、サポート品質向上のためにアンケートのご協力をお願いしています。\nアンケートでは下記項目に対して、「非常に満足（7点）」～「非常に不満（1点）」の7点満点で評価いただいています。\n・背景／意図を理解した対応\n・コミュニケーション\n・進捗報告のタイミング\n・回答までにかかった時間\n・回答の正当性\n・回答のわかりやすさ\n・対応の総合的な満足度\nJP1サポートセンターでは、評価が「普通（4点）」以下の項目があった全てのアンケートをレビューし、なぜご満足いただけなかったのか、振り返りを実施しています。\nまた、評価が満足でも、コメントにご要望やご不満な点についての記載があれば、その内容についてもレビューし、次の対応で改善できるよう努めています。\nお客様にご満足いただけるようなサポートを届けたいと考えていますので、ご満足いただけない場合は、その理由をコメント欄にご記載ください。弊社として見直すべき改善点が明確になりますので、ご協力いただけると幸いです。\nFAQ改善活動\nサポートセンターへのお問い合わせの際、お客様に問い合わせ文を作成していただくことから始まり、内容によっては弊社からヒアリングするなど、どうしても解決までに一定の時間とお客様側の作業を要します。\nそのため、なるべく早くお客様ご自身で解決策にたどり着くために、FAQ（よくある問い合わせ集）をご用意しています。WEBのサポートシステム（AWSC-2）からご参照いただけるJP1製品に関するFAQは、現在\n2386\n件\nあります（2024年8月時点）。\nJP1サポートセンターには、FAQの作成・改善活動のためのワーキンググループがあり、下記の活動をしています。\n・FAQに登録するコンテンツの検討\n・既存のFAQ精査\n・FAQの利便性向上へむけた調整\n詳細は弊社のブログでご紹介していますので、是非、下記もご参照ください。\n「お客様のお困りごと、早期解決のために！FAQで「めんどくさい」をなくす！」\nFAQの作成・改善活動のためのワーキンググループでは、次のステップとして、お客様から必要とされるFAQを確実に登録するためのルールの見直しや、OSのサポート切れやパッチ情報など、問い合わせ頻度が高くなることが予想されるトレンドを見越したFAQの登録活動も実施しています。\nAWSC-2によるFAQリコメンド機能について\n2022年6月20日から弊社の問い合わせシステムであるAWSC（Ashisuto Web Support Center）が\nAWSC-2\nとしてリニューアルしました。\nAWSC-2では、FAQのリコメンド機能がつき、問い合わせ時のタイトルの文字列をもとにFAQの候補を表示します。これは、お客様の自己解決の一助となるべく設けられた機能です。\n下記画面では「ジョブ」「キューイング」といった単語から予想されるFAQがリストアップされています。\n新規ケース登録画面\nFAQ一覧画面\nFAQの内容で解決しなかった場合や内容自体が分かりづらいものがあれば、その内容をFAQのアンケートに記載いただけると内容の見直しができますので、ご協力いただけると幸いです。\nFAQアンケート画面\nお客様訪問活動\nサポートセンターの担当者は、お客様に直接お会いする機会が多くありません。顔が見えないことで、きちんと対応してくれるのか不安に感じるお客様もいらっしゃいます。少しでもサポートセンターを身近に感じていただけるよう、担当営業やフィールド技術者がお客様先へ訪問する際、サポートセンターのメンバーも同行し、下記のような内容でお客様とお話しする機会を頂いています。\n・お客様の環境情報や今後の作業予定の確認\n・現状の問い合わせに対する認識合わせ\n・サポートセンターへのご意見、ご要望のヒアリング\n・JP1ユーザーサイトやFAQシステムのご説明\nお客様とのお話から\n「JP1技術者育成で使用できる情報がないか？」\nとご相談をいただいたり、\n「初心者向けのFAQが集約されていると嬉しい」\nというご意見がありました。そこで新たにFAQ に、製品の使い始めに知っておくと便利な内容や、躓きやすい内容を集めた「ファーストステップ」というカテゴリを作成しました。\nファーストステップカテゴリ画面\nお客様にいただくご意見、ご要望には可能な限りお応えしていきたいと考えていますので、サポートセンターメンバーが訪問した際には、サポートセンターに対する忌憚ないご意見やご要望などをお聞かせください。\n担当営業、フィールド技術者との情報共有活動\nJP1サポートセンターは、営業・フィールド技術者と必要に応じてお客様情報を共有しています。例にあげると、ライセンスに関するお問い合わせやバージョンアップ時のメディア依頼は直接担当営業に依頼いただくのが早道ですが、担当営業がわからない場合でも、サポートセンターにお問い合わせいただければ担当営業に連携します。\nまた、弊社が構築した環境については、構築を担当したフィールド技術者から環境情報の連携を受け共有しています。下図のように、AWSC-2の導入環境画面にてお客様の構築時の環境が確認できるようになっています。\n導入環境画面\nアシストでは営業、フィールド技術者、サポートセンターが一丸となって超サポ※を目指して活動しています。\n※\n超サポ愉快カンパニー\nまとめ\n今回のブログでは、本ブログの執筆を担当しているJP1サポートセンターが、お客様にご満足いただくために行っている活動内容の一部をご紹介しました。\nJP1サポート技術者ブログでは、JP1をお使いいただいている方にとって有益な情報発信を心掛けています。よくあるお問い合わせやわかりづらい手順、最新機能のご紹介を通じて、JP1をより良くご活用いただけるように、執筆メンバー全員で内容を検討し執筆しています。また、JP1サポートセンターでは本記事でご紹介したように、安心と信頼を感じられるサポートを提供できるよう、様々な取り組みを実施しています。\nこれからも高品質なサポートを提供し、末永くお付き合いいただけるよう取り組んでいきます。\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n井上 勉孝\n1991年、株式会社アシスト入社。メインフレームのパフォーマンス管理製品から始まり、主に運用系製品を担当し、2017年からJP1の顧客サポートを担当。\n趣味は、ソフトバレーボールとストレッチ。\n関連している記事\nJP1全般\n2025.06.27\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2026年3月に限定サポートが終了するVersion9から、JP1の最新バージョンである Version13に移行するにあたって検討すべきことをまとめました。\nJP1全般\n2025.02.27\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\nJP1サポート技術者が、お客様によくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介します。\nJP1全般\n2024.09.30\n【JP1全般】JP1新バージョン「V 13.1」の 新機能を一挙紹介！\n2024年9月30日にリリースされたJP1の新バージョン「Version 13.1」の新機能一覧をご紹介します！\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/ajs3_da.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup][Design]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nContent:\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装に多くの工数を費やしている、ジョブ定義の帳票管理が煩雑になっているなどのお悩みはありませんか？今回は、そのようなジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品である\nJP1/Automatic Job Management System 3 - Definition Assistant（JP1/AJS3 - DA）\nの活用例をご紹介します。\nまた、JP1/AJS3 - DAを利用したことが無い方だけではなく、すでにご利用中の方向けに、JP1/AJS3 - DAを活用するためのおすすめ設定や、サポートセンターに良くいただくお問い合わせ事例もご紹介します。\n目次\nJP1/AJS3 - DA の製品概要\nJP1/AJS3 - DA の製品構成\nJP1/AJS3 - DAでジョブ定義情報を収集／反映する\nJP1/AJS3 - DAを活用するための設定\nJP1/AJS3 - DAに関してよくいただくお問い合わせ\nJP1/AJS3 - DA の製品概要\nJP1/AJS3 - DAは、Microsoft Excelを使用してジョブを一括編集および一括定義するための機能を提供する製品です。\nJP1/AJS3 - DAを使用すると、JP1/AJS3のジョブ定義情報を抜き出しMicrosoft Excel上に帳票形式で表示することができます。また、取得したジョブ定義情報をMicrosoft Excel上で修正し、JP1/AJS3へ修正内容を一括で反映することもできます。\nJP1/AJS3のジョブ定義情報を\nMicrosoft Excel上へ帳票形式で表示することを「インポート」\n、取得した情報をMicrosoft Excel上で一括修正し、\nJP1/AJS3へジョブ定義情報として反映することを、「エクスポート」\nといいます。\n利用例①：開発環境から本番環境へのジョブ定義移行\n開発環境で作成したジョブ定義を本番環境に実装する場合に、JP1/AJS3 - DAを使って一括でエクスポートすることができます。\n実装対象のジョブ定義をMicrosoft Excelのオートフィルターで絞り、実行エージェント名などを本番環境に合わせた定義に一括で変更することで、移行にかかる工数を削減できます。\nまた、ジョブ定義ごとに担当者が分かれている場合も、各担当者が担当するジョブ定義を個人のPCの\nMicrosoft Excel上で修正し、各自で実装するといった使い方も可能です。\n利用例②：ジョブ定義書兼パラメーターシートとしての利用\nJP1/AJS3 - DAでインポートした定義情報管理テンプレートを、ジョブ定義書兼パラメーターシートとして使用することができます。\nJP1/AJS3 - DAを利用することで、業務設計／システム構築時の作業用としてのジョブ定義書兼パラメーターシートを作成する手間を減らすことができます。\nJP1/AJS3 - DA の製品構成\n製品構成例を以下に記載します。\nJP1/AJS3 - Viewと同一端末へのインストールは必須ではありませんが、JP1/AJS3 - Viewと同一端末にインストールすることによって、JP1/AJS3 - View上からインポートを実施できたり、定義情報管理テンプレートからJP1/AJS3 - Viewの画面に遷移できます。（後述の「\nJP1/AJS3 - DAを活用するための設定\n」で詳しく説明しています。）\nなお、JP1/AJS3 - DAには32ビット版と64ビット版があります。\n利用するMicrosoft Excelのビット数に合わせて適切なビット数のJP1/AJS3 - DAをインストールしてください。\nJP1/AJS3 - DAでジョブ定義情報を収集／反映する\nジョブ定義情報のインポート／エクスポート手順をご紹介します。定義情報管理テンプレートを開いたときの画面例を次に示します。\n定義情報管理テンプレート画面\n画面の左上に4つの操作用のボタンが表示されます。各ボタンの利用方法をご紹介します。\n［IMPORT］ボタン\nジョブ定義情報のインポート時には、［IMPORT］ボタンをクリックします。\n[IMPORT]ボタン\n［IMPORT］ボタンをクリックすると、［ユニット定義のインポート］ダイアログボックスが表示されます。なお、［ユニット定義のインポート］ダイアログボックスはユーザー認証機能を使用しない場合と使用する場合で表示が異なります。\n［ユニット定義のインポート］ダイアログボックス\n（ユーザー認証機能を使用しない場合）\n［ユニット定義のインポート］ダイアログボックス\n（ユーザー認証機能を使用する場合）\n［ユニット定義のインポート］ダイアログボックスに、インポート対象のホスト名や、ユニット名を入力します。対象スケジューラーサービスのすべてのユニットを対象とする場合は、「/」を指定します。入力後、［OK］をクリックすると、インポートが開始します。\nインポートが完了すると、以下のメッセージが表示されます。\n［IMPORT］ボタンを使用したインポート手順は以上です。インポートしたジョブ定義情報を、定義情報管理テンプレート上で編集することができます。\n［EXPORT］ボタン\nジョブ定義情報のエクスポート時には、［EXPORT］ボタンをクリックします。エクスポートでは、一括定義、単独定義、変更、削除の4種類の操作ができます。\n区分\n概要\n一括\n定義情報管理テンプレートに設定した定義情報すべてを、一括してマネージャーホストにエクスポートします。\n単独\n定義情報管理テンプレートに入力されている情報のうち、特定のユニットの情報だけをエクスポートします。\n変更\nユニットの定義情報のうち、特定の項目だけを変更します。\n削除\nユニットを削除します。\nエクスポート対象のユニットの［区分］に、操作種別を入力します。以下は、区分「一括」でエクスポートする例です。\nエクスポートする行すべてに「一括」を入力してください。「一括」が入力されている行がエクスポートの対象になります。\n※［F5］キーを押すと、入力済みのすべての行に「一括」が入力されます。\n定義情報管理テンプレート\n［EXPORT］ボタンをクリックします。\n［EXPORT］ボタン\n［ユニット定義のエクスポート］ダイアログボックスが表示されるため、必要情報を入力し、［OK］をクリックすると、エクスポートが開始されます。以下は、ユーザー認証機能を使用する場合の例です。\n［ユニット定義のエクスポート］ダイアログボックス\nエクスポートが完了すると、以下のメッセージが表示されます。エクスポート手順は以上です。\n［CHECK］ボタン\nジョブ定義情報のチェック時には、［CHECK］ボタンをクリックします。定義情報管理テンプレートに入力した定義情報について、入力条件が満たされているかどうかをチェックします。エクスポートを実行する前に、本機能の利用をお勧めします。\nチェック項目の例は以下のとおりです。\n・ユニット種別が指定されているか。\n・「ユニット名」「上位ユニット完全名」に不正な文字が指定されていないか。\n・「ジョブグループ名」に指定したユニット完全名の先頭が「/」で始まっているか。\n［CHECK］ボタン\n不正がない場合は、以下のメッセージが表示されます。\nジョブ定義情報に不正がある場合は、以下のメッセージが表示されます。表示される行番号を参考に、ジョブ定義情報を修正します。\n［VIEW］ボタン\nジョブ定義情報をJP1/AJS3 - View上で確認する時には、［VIEW］ボタンをクリックします。\nJP1/AJS3 - DAのインストールホストに、JP1/AJS3 - Viewをインストールしている場合、定義情報管理テンプレート上からJP1/AJS3 - Viewを起動できます。\nJP1/AJS3 - Viewで表示したいユニット名を定義情報管理テンプレート上で選択した状態で、［VIEW］ボタンをクリックします。\n［VIEW］ボタン\nJP1/AJS3 - Viewのログイン画面が表示されるため、ユーザー名／パスワードを入力します。\nJP1/AJS3 - Viewログイン画面\nログインすると、JP1/AJS3 - Viewのジョブネットエディタ画面が開き、定義情報管理テンプレート上で選択したユニットが表示されます。\nジョブネットエディタ画面\nJP1/AJS3 - DAを活用するための設定\nJP1/AJS3 - DAを活用する上でのおすすめ設定を4つご紹介します。\nユーザー認証機能を使用する設定\n機能概要\nユーザー認証機能を使用することで、インポート／エクスポート時にJP1ユーザー情報の入力が必要になります。これにより、ログインするユーザーによりインポート／エクスポートできるユニットを制限することができます。\n※インポート／エクスポートを制限できるのは、ユニットとJP1ユーザーにJP1資源グループを指定している場合に限ります。\nユニット定義のインポート\n設定手順\nユーザー認証機能の有効化手順は以下のとおりです。なお、次に定義情報管理テンプレートを開いたときに変更が有効になります。\n1.以下の定義ファイルを開きます。\n定義ファイル：\n＜JP1/AJS3 - DAのインストール先フォルダ＞\\conf\\ajs2da.conf\n※JP1/AJS3 - DAのインストール先フォルダはデフォルトの場合以下のとおりです。\n・32ビット版JP1/AJS3 - DAを利用する場合：\nC:\\Program Files\\HITACHI\\JP1AJS2DA\n・64ビット版JP1/AJS3 - DAを利用する場合：\nC:\\Program Files (x86)\\HITACHI\\JP1AJS2DA\n2.以下のとおり編集します。\n*************************************************************************\nUSERCHECKLEVEL=\n0\n←下線部を2に変更します。\n*************************************************************************\n※デフォルト値は「0」です。\nユーザー認証機能を使用しない設定\n機能概要\nユーザー認証機能を使用しない場合、事前に利用ユーザーの登録が必要です。事前に利用ユーザーを登録しない場合、インポート／エクスポート時に以下のようなエラーが表示され、処理を実行できません。\nKAVZ0501-E　指定したホスト（ホスト名）でユーザー認証に失敗しました。：JP1ユーザー名\n設定手順\n利用ユーザーの登録手順は以下のとおりです。\n1.認証サーバでの設定\n1-1.JP1/AJS3 - DAをインストールしたホストで利用するOSユーザーと同じ名称のJP1ユーザーを、\nマネージャーホストが参照する認証サーバに登録します。\n1-2.マネージャーホストのOSユーザーがインポート／エクスポートの対象となるユニットの資源グループを\n操作できるように、適切な権限を与えます。\nJP1/AJS3 - DAで使用するJP1ユーザーに必要な実行権限は以下のとおりです。\n以下のいずれか一つの実行権限を持っていれば、JP1/AJS3 - DAの各機能を実行できます。\n・JP1_AJS_Admin\n・JP1_AJS_Manager\n・JP1_AJS_Editor\n※次の項目を変更する場合、JP1ユーザーの実行権限にJP1_AJS_Admin権限が必要です。\n（ユニットの所有者の場合は不要です。）\n－ユニット共通属性情報の所有者とJP1資源グループ\n－ジョブ共通属性情報の実行ユーザー種別\n2.マネージャーホストでの設定\n2-1.マネージャーホストに接続するJP1ユーザーとマネージャーホストのOSユーザーをマッピングします。\nインポート／エクスポートできるユニット数の上限値を拡張\n機能概要\nデフォルトの場合、インポート／エクスポートできるユニット数は以下のとおりです。\n※ユニット…JP1/AJS3においてジョブやジョブネット、ジョブグループの総称です。\n・32ビット版JP1/AJS3 - DAを利用する場合：5,000ユニット\n・64ビット版JP1/AJS3 - DAを利用する場合：130,000ユニット\n上記のユニット数より多くインポート／エクスポートする場合は、上限値を拡張します。指定できる値は、インポート／エクスポートともに以下のとおりです。\n・32ビット版JP1/AJS3 - DAを利用する場合：1〜65,000\n・64ビット版JP1/AJS3 - DAを利用する場合：1〜1,048,556\n設定手順\n設定手順は以下のとおりです。なお、次に定義情報管理テンプレートを開いたときに変更が有効になります。\n1.以下の定義ファイルを開きます。\n定義ファイル：\n＜JP1/AJS3 - DAのインストール先フォルダ＞\\conf\\ajs2da.conf\n2.以下のとおり編集します。\n・32ビット版JP1/AJS3 - DAを利用する場合\n*************************************************************************\nMAX-IMPORT-UNIT=\n5000\n←下線部を65000に変更します。\nMAX-EXPORT-UNIT=\n5000\n←下線部を65000に変更します。\n*************************************************************************\n・64ビット版JP1/AJS3 - DAを利用する場合\n*************************************************************************\nXLSM-MAX-IMPORT-UNIT=\n130000\n←下線部を1048556に変更します。\nXLSM-MAX-EXPORT-UNIT=\n130000\n←下線部を1048556に変更します。\n*************************************************************************\nJP1/AJS3 - View上でJP1/AJS3 - DAを呼び出して実行\n機能概要\nJP1/AJS3 - ViewとJP1/AJS3 - DAが同一サーバ／PCにインストールされている場合、JP1/AJS3 - View上から\nJP1/AJS3 - DAを起動してジョブ定義をインポートすることが可能です。\nインポートしたいユニット名を右クリックしてポップアップメニューから選択するだけなので、直感的かつ簡単にインポートすることができます。\nJP1/AJS3 - View\nJP1/AJS3 - DA\n設定手順\nJP1/AJS3 - Viewへの登録方法を以下に記載します。\n1.JP1/AJS3 - DAでインポートしたいJP1ユーザーで、JP1/AJS3 - Viewにログインします。\n2.［オプション］-［ツールの設定...］を選択します。\nJP1/AJS3 - View\n3.ウィンドウ［ツールの設定］が表示されるので、［追加...］を選択します。\nツールの設定\n4.ウィンドウ［ツールの登録］が表示されるので、下記のとおり設定して［OK］を選択します。\nツールの登録\n項目\n設定値\n登録名\n任意の設定値\n例：JP1/AJS3 - Definition Assistant\nポップアップメニューに追加\nチェックする\n起動コマンド\n（ユーザー認証機能を使用しないとき）\nwscript \"＜JP1/AJS3 - DAのインストール先フォルダ＞\\bin\\ajsdastart.vbs\" (HOST_NAME) (SERVICE_NAME) (UNIT_NAME) (CHAR_CODE)\n※()も含めて入力します。\n起動コマンド\n（ユーザー認証機能を使用するとき）\nwscript \"＜JP1/AJS3 - DAのインストール先フォルダ＞\\bin\\ajsdastart.vbs\" (HOST_NAME) (SERVICE_NAME) (UNIT_NAME) (CHAR_CODE) (USER_NAME)\n※()も含めて入力します。\n＜JP1/AJS3 - DAのインストール先フォルダ＞に指定するインストールパスのデフォルトは以下のとおりです。\n・32ビット版JP1/AJS3 - DAを利用する場合：\nC:\\Program Files\\HITACHI\\JP1AJS2DA\n・64ビット版JP1/AJS3 - DAを利用する場合：\nC:\\Program Files (x86)\\HITACHI\\JP1AJS2DA\n5.以下のメッセージが表示されるため、［はい］を選択します。\nJP1/AJS3 - DAに関してよくいただくお問い合わせ\nサポートセンターによくいただくお問い合わせを3つご紹介します。\n下記エラーが出力されてインポートができない。\n『KAVZ0515-E　接続先（ホスト名）のJP1/AJS2 - Managerでエラーが発生しました。』\n原因として以下の2つが考えられます。\n・接続先JP1/AJS3 - Managerで設定しているOSユーザーの情報が間違っている。\n接続先のJP1/AJS3 - Managerで設定しているOSユーザーのユーザー名とパスワードが正しく\n設定されていることを確認してください。OSユーザーのパスワードを変更した際には、\nJP1/Baseの環境設定でパスワード変更を行う必要があります。\n・OSユーザーのアカウントがロックアウトされている。\n何度も認証に失敗するなどで、OSユーザーのアカウントがロックアウトされていないことを\n確認してください。\n下記エラーが出力されてインポートができない。\n『KAVZ0501-E　指定したホスト（ホスト名）でユーザー認証に失敗しました。：JP1ユーザー名』\n原因として以下が考えられます。\nユーザー認証機能を使用していない場合、マネージャーホストにJP1/AJS3 - DAを起動した\nOSユーザーと同一名称のJP1ユーザーの登録、及びユーザーマッピングがされていない。\n本ブログの「\nJP1/AJS3 - DAを活用するための設定\n」の「1.ユーザー認証機能を使用する」または、「2.ユーザー認証機能を使用しない」に記載の手順を実施してください。\n実行登録状態のユニット定義のエクスポートはできるか。\n実行登録されたユニットでも、ルートジョブネットをサスペンド状態にすることで、区分「変更」でエクスポートできます。\n※サスペンド状態でない場合も区分「変更」でエクスポートは可能ですが、定義処理と実行制御処理のすれ違いなどの誤動作を防止するため、ルートジョブネットをサスペンドしてください。\nサスペンド状態にしたルートジョブネットの例\n▼区分「一括」「単独」「削除」でのエクスポートについて\nルートジョブネット配下のユニットについては、区分「一括」「単独」「削除」についても、ルートジョブネットをサスペンドすることで、エクスポートが可能です。\nルートジョブネット自体は、サスペンド状態でも区分「一括」「単独」「削除」でエクスポートすることはできません。\nなお、「実行中」のユニットについては、区分「変更」でのエクスポートのみできます。\nまとめ\n今回はJP1/AJS3 - DAとその活用例についてご紹介しました。JP1/AJS3 - DAを利用すれば、ジョブ定義の修正や移行をより簡単に、また、管理にかかる工数を大幅に削減できます。上記に関するお悩みをお持ちの場合は、一度JP1/AJS3 - DAをご検討いただければと思います。\n※記載されている会社名、製品名は、各社の商標または登録商標です。\n製品正式名称(略称表記)\nJP1/Automatic Job Management System 3 (JP1/AJS3) 11-10以降\nJP1/Automatic Job Management System 3 - Definition Assistant (JP1/AJS3 - DA) 11-10以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n中野 祐里\n2020年入社、JP1製品のフィールド技術として設計支援、環境構築などを担当。\nカメラを勉強中です。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.08.15\n【JP1/AJS3】JP1 x SAP 使い慣れたAJS3の画面からSAPジョブを一元管理！\nJP1/AJS3での、SAPのバックグラウンドジョブ制御をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/ajs3_db_setup.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup][Design]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nContent:\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の設計を正しく行わずに運用していると、組み込みDBの再セットアップが必要になることがあります。\n例えば、組み込みDBの自動増分の要否を変更したい場合や、Sサイズ（小規模）で構築したが運用後に想定よりジョブネット数が多くなった場合などです。しかし、組み込みDBの再セットアップは、コマンドが複雑であるため非常に間違えやすいです。また、誤ったコマンドを実行してしまうと、システムの運用に支障をきたす可能性があります。\nそこで本記事では、再セットアップをスムーズに行うための詳細な手順を解説します。\n目次\n組み込みDBの設定確認\n定義情報のバックアップ\nJP1/AJS3サービスの停止\n組み込みDB環境の削除\n組み込みDBの構築\n組み込みDBのセットアップ\n組み込みDBの停止\nJP1/AJS3サービスの起動\nバックアップした定義情報を回復\n状態確認\n本記事について\n・バージョン12以降を対象としています。\n・以下のマニュアルを参考に、「シングル構成」および「非クラスタ環境での論理ホスト構成」時の\n手順を記載しています。\nJP1 Version 13　JP1/Automatic Job Management System 3 構築ガイド\n23.4.1　組み込みDBの高度なセットアップの手順\n(6)　組み込みDBの再セットアップ\n・クラスタ構成時の手順の記載はありません。クラスタ構成時は、以下のマニュアルをご確認ください。\nJP1 Version 13　JP1/Automatic Job Management System 3 構築ガイド\n23.5.1　組み込みDBの高度なセットアップの手順（実行系）\n23.5.2　組み込みDBの高度なセットアップの手順（待機系）\n・組み込みDB運用ディレクトリを変更する場合の手順の記載はありません。\n・コマンドは、デフォルトのインストール先にインストールした場合のパスを使用しています。\nWindows環境へのインストール時に「JP1/AJS3 - Managerのインストール先フォルダ\\tools」への\nPATH環境変数は設定されていないため、tools配下のコマンド実行時はフォルダに移動するかもしくは\nフルパスで指定して実行してください。\n・実行例では、下記の環境を仮定しています。\n構成：非クラスタ環境での論理ホスト構成\n論理ホスト名：jp1manager-v\nスケジューラーサービス名：AJSROOT2\n組み込みDBセットアップ識別子：_JF1\n1.組み込みDBの設定確認\n現在の設定を確認します。\nコマンド\nWindowsの場合：\n> ajsembdbstatus -c -id\n組み込みDBセットアップ識別子\nLinuxの場合：\n# /opt/jp1ajs2/tools/ajsembdbstatus -c -id\n組み込みDBセットアップ識別子\n実行例\n> \"C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\tools\\ajsembdbstatus\" -c -id _JF1\nHOSTNAME=jp1manager-v\nINSTALLDIR=\"C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\embdb\\_JF1\"\nSETUPID=_JF1\nRAWFILE=\nDATADIR=\"E:\\JP1\\jp1ajs2\\embdb\\_JF1\\dbarea\"\nWORKDIR=\"C:\\Program Files (x86)\\HITACHI\\JP1AJS2\\embdb\\_JF1\\dbarea\"\nEMBDBPORT=22221\nDBMODEL=s\nPHYSICALHOST=jp1manager\nSYSLOGCNF=none\nUNLDDIR=\nEXTENDDB=no\nEXTENDLOG=no\nENHANCEDBACKUP=no\n項目説明\nHOSTNAM\n組み込みDBを構築したホスト名（論理ホストの場合のみ表示）\nINSTALLDIR\n組み込みDBのインストール先ディレクトリ（組み込みDB運用ディレクトリ）\nSETUPID\n組み込みDBセットアップ識別子\nRAWFILE\n互換性のために出力している情報\nDATADIR\n組み込みDBのデータ領域ディレクトリ\nWORKDIR\n作業領域ディレクトリ\nEMBDBPORT\n組み込みDBのポート番号\nDBMODEL\nデータベースモデル（l：大規模、m：中規模、s：小規模）\nPHYSICALHOST\n実行系の物理ホスト名（論理ホストの場合のみ表示）\nSYSLOGCNF\nシステムログ運用の設定（single：システムファイルを二重化しない、dual：システムファイルを二重化する、none：システムログ運用が無効）\nUNLDDIR\nアンロードログファイルの作成先ディレクトリ\nEXTENDDB\nデータベース領域の自動増分の設定（yes：自動増分する、no：自動増分しない）\nEXTENDLOG\nシステムログの自動増分の設定（yes：自動増分する、no：自動増分しない）\nENHANCEDBACKUP\nバックアップ強化機能の設定（yes：有効、no：無効）\nメモ\n組み込みDBのセットアップ識別子は、以下のコマンドで確認できます。\nWindowsの場合：\n> ajsembdbidlist\nLinuxの場合：\n# /opt/jp1ajs2/tools/ajsembdbidlist\n実行例\nこの例の場合、「_JF0」や「_JF1」が組み込みDBのセットアップ識別子です。\n> \"C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\tools\\ajsembdbidlist\"\n*** Embeddb setup-id list 2024/12/11 15:39:33\n_JF0 C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\embdb\\_JF0\n_JF1 C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\embdb\\_JF1\nHost-Name:JP1_DEFAULT\nAJSROOT1 _JF0 C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\embdb\\_JF0\nHost-Name:jp1manager-v\nAJSROOT2 _JF1 C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\embdb\\_JF1\n--\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\najsembdbstatus\najsembdbidlist\n2.定義情報のバックアップ\n再セットアップにより失われる各種定義情報をバックアップします。\n2-1.ユニット定義およびカレンダー定義のバックアップ\nコマンド\nWindowsの場合：\n> ajsprint -F スケジューラーサービス名 -a /* > 出力先ファイル名\n> ajsprint -F スケジューラーサービス名 -d / > 出力先ファイル名\nLinuxの場合：\n# /opt/jp1ajs2/bin/ajsprint -F スケジューラーサービス名 -a '/*' > 出力先ファイル名\n# /opt/jp1ajs2/bin/ajsprint -F スケジューラーサービス名 -d / > 出力先ファイル名\n実行例\nユニット定義\n> ajsprint -F AJSROOT2 -a /* > C:\\temp\\ajsprint.txt\nカレンダー定義\n> ajsprint -F AJSROOT2 -d / > C:\\temp\\rootcal.txt\nメモ\nスケジューラーサービスとは、JP1/AJS3-View画面上では、最上位ジョブグループ（ルートジョブグループ）として存在しています。以下の場合「AJSROOT1」や「AJSROOT2」がスケジューラーサービス名です。\n1つの組み込みDB環境に複数のスケジューラーサービスがセットアップされている場合は、組み込みDBにセットアップされているすべてのスケジューラーサービスのバックアップを実施してください。また、「jbsgetcnf [-h 論理ホスト名] > 出力先ファイル名」にて、「TABLENAMEPREFIX」の値を確認しておいてください。\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\najsprint\nJP1 Version 13　JP1/Base 運用ガイド\njbsgetcnf\n2-2.ルートジョブグループ情報のバックアップ\n最上位ジョブグループ（ルートジョブグループ）の以下の情報をデフォルトから変更している場合は、メモしておいてください。\n・コメント\n・所有者\n・JP1資源グループ\n・基準時刻\n・基準日\n・月区分\n2-3.実行エージェント情報のバックアップ\nコマンド\nWindowsの場合：\n> ajsagtprint [-h\n論理ホスト名\n] -l > 出力先ファイル名\nLinuxの場合：\n# /opt/jp1ajs2/bin/ajsagtprint  [-h\n論理ホスト名\n] -l > 出力先ファイル名\n実行例\n> ajsagtprint -h jp1manager-v -l  > C:\\temp\\ajsagtprint.txt\nメモ\nシングル構成の場合は「-h 論理ホスト名」は不要です。\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\najsagtprint\n2-4.実行登録情報のエクスポート\nコマンド\nWindowsの場合：\n> ajsrgexport -F\nスケジューラーサービス名\n-R -o 出力先ファイル名 /\nLinuxの場合：\n# /opt/jp1ajs2/bin/ajsrgexport -F\nスケジューラーサービス名\n-R -o 出力先ファイル名 /\n実行例\n> ajsrgexport -F AJSROOT2 -R -o C:\\temp\\ajsrgexport.txt /\nメモ\n登録予定情報のエクスポートとインポート機能で復旧できる情報は、登録予定情報のみです。\n実行結果情報はエクスポート情報には含まれませんのでご注意ください。\n計画実行登録されているジョブネットの場合、「計画一時変更」分の予定はエクスポートされません。そのため、インポートしたあとに「計画一時変更」をし直す必要があります。\n計画一時変更は、JP1/AJS3 - Viewの画面から確認することができます。詳細は以下のブログをご確認ください。\n【JP1/AJS3】ジョブの実行中止・保留解除などの「履歴」を確認するには？\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\najsrgexport\n3.JP1/AJS3サービスの停止\n物理ホストおよびすべての論理ホストで、マネージャーサーバーのJP1/AJS3サービスを停止します。\nWindowsの場合：\nWindowsのサービス画面から「JP1/AJS3」サービスを停止してください。\n論理ホスト環境の場合は「JP1/AJS3_論理ホスト名」サービスも停止してください。\n※JP1/AJS3 - Manager環境には、「JP1/AJS3 Database_JFn」（nの箇所には数字が入ります）サービスが存在します。「JP1/AJS3 Database_JFn」サービスは、JP1/AJS3サービスによって制御されているため、操作する必要はありません。\nLinuxの場合：\n# systemctl stop jp1_ajs3.service\n論理ホスト環境の場合は以下のコマンドも実行してください。\n# systemctl stop jp1_ajs3_論理ホスト名.service\n※自動起動の設定をしていない場合\n# /opt/jp1ajs2/bin/jajs_spmd_stop [-h\n論理ホスト名\n]\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\njajs_spmd_stop\n4.組み込みDB環境の削除\n組み込みDB環境のデータを削除します。\nコマンド\nWindowsの場合：\n> ajsembdbunset -e -id\n組み込みDBセットアップ識別子\nLinuxの場合：\n# /opt/jp1ajs2/tools/ajsembdbunset -e -id\n組み込みDBセットアップ識別子\n実行例\n>\"C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\tools\\ajsembdbunset\" -e -id _JF1\n2024/12/11 15:58:11 AJSEMBDBUNSET: _JF1 [START]\n_JF1 Embeddb DELETE?(y/n):y\n←yを入力\n2024/12/11 15:58:37 AJSEMBDBUNSET: _JF1 EmbedDB UNSET START\n2024/12/11 15:58:49 AJSEMBDBUNSET: _JF1 EmbedDB UNSET END (0)\n2024/12/11 15:58:50 AJSEMBDBUNSET: _JF1 [END]\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\najsembdbunset\n5.組み込みDBの構築\n組み込みDBの環境を構築します。\nコマンド\n【シングル構成時：Mサイズ、自動増分する環境を構築する場合】\nWindowsの場合：\n> ajsembdbbuild -m -d\nデータ領域ディレクトリ\n-p\nポート番号\n-i\n組み込みDB運用ディレクトリ\n-id\nセットアップ識別子\n-ext_db -ext_log\nLinuxの場合：\n# /opt/jp1ajs2/tools/ajsembdbbuild -m -d\nデータ領域ディレクトリ\n-p\nポート番号\n-i\n組み込みDB運用ディレクトリ\n-id\nセットアップ識別子\n-ext_db -ext_log\n【論理ホスト構成時：Mサイズ、自動増分する環境を構築する場合】\nWindowsの場合：\n> ajsembdbbuild -m -d\nデータ領域ディレクトリ\n-p\nポート番号\n-i\n組み込みDB運用ディレクトリ\n-id\nセットアップ識別子\n-mh\n論理ホスト名\n-eh\n実行系物理ホスト名\n-r -ld\n作業領域ディレクトリ\n-ext_db -ext_log\nLinuxの場合：\n# /opt/jp1ajs2/tools/ajsembdbbuild -m -d\nデータ領域ディレクトリ\n-p\nポート番号\n-i\n組み込みDB運用ディレクトリ\n-id\nセットアップ識別子\n-mh\n論理ホスト名\n-eh\n実行系物理ホスト名\n-r -ld\n作業領域ディレクトリ\n-ext_db -ext_log\nオプション\n-m\n組み込みDBのサイズ（Sサイズにする場合は「-s」を、Mサイズにする場合は「-m」を、Lサイズにする場合は「-l」を指定します。\n-d\n組み込みDBのデータ領域ディレクトリ\n-p\nポート番号\nシステム内で使用されていないポート番号を指定します。\n-i\n組み込みDB運用ディレクトリ\nほかの組み込みDBで使用しているディレクトリを指定しないでください。\n-id\nセットアップ識別子\n-mh\n論理ホスト名（論理ホスト構成の場合に指定）\n-eh\n実行系物理ホスト名（論理ホスト構成の場合に指定）\n-r\nクラスタ構成の実行系ホストの環境、非クラスタの論理ホスト環境を構築する場合に指定\n-ld\n作業領域ディレクトリを指定（論理ホスト構成の場合に指定）\n-ext_db\nデータベース領域の自動増分を適用する場合に指定\n-ext_log\nシステムログの自動増分を適用する場合に指定\n実行例\n>\"C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\tools\\ajsembdbbuild\" -m -d \"E:\\JP1\\jp1ajs2\\embdb\\_JF1\\dbarea\" -p 22221 -i \"C:\\Program Files \n(x86)\\HITACHI\\JP1AJS2\\embdb\\_JF1\" -id _JF1 -mh jp1manager-v -eh jp1manager -r -ld \"C:\\Program Files \n(x86)\\HITACHI\\JP1AJS2\\embdb\\_JF1\\dbarea\" -ext_db -ext_log\nEmbedDB SETUP START\nEmbedDB SETUP END\nメモ\nオプションは手順1で確認した情報を基に指定してください。\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\najsembdbbuild\n6.組み込みDBのセットアップ\n組み込みDBをセットアップします。\nコマンド\nWindowsの場合：\n> ajsembdbsetup -F\nスケジューラーサービス名\n-ru\nm\n-id\nセットアップ識別子\n-p\nポート番号\nLinuxの場合：\n# /opt/jp1ajs2/tools/ajsembdbsetup -F\nスケジューラーサービス名\n-ru\nm\n-id\nセットアップ識別子\n-p\nポート番号\nオプション\n-F\nスケジューラーサービス名\n-ru m\n空き領域の再利用機能を使用する場合に指定。\nl、m、sは、ajsembdbbuildコマンドで指定した規模と同じサイズのオプションを指定してください。\n（-ru l、-ru m、-ru s）\n-id\n組み込みDBのセットアップ識別子\n-p\nポート番号\najsembdbbuildコマンドで指定したポート番号を指定してください。\n-mh\n論理ホスト名\n-tp\nテーブル名プリフィックス\n1つの組み込みDB環境に複数のスケジューラーサービスがセットアップされている場合に指定。\n重複しないよう手順1で確認した「TABLENAMEPREFIX」の値を設定してください。\n実行例\n>\"C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\tools\\ajsembdbsetup\" -F AJSROOT2 -ru m -id _JF1 -p 22221 -mh jp1manager-v\n[1/7]CREATE SCHEMA OK\n[2/7]CREATE TABLES OK\n[3/7]CREATE AGENT TABLES OK\n[4/7]TABLE OPTION SET\nKFPA12000-I Processing of SQL completed\nKFPA12000-I Processing of SQL completed\nKFPA12000-I Processing of SQL completed\nKFPA12000-I Processing of SQL completed\nKFPA12000-I Processing of SQL completed\nKFPA12000-I Processing of SQL completed\nKFPA12000-I Processing of SQL completed\nKFPA12000-I Processing of SQL completed\nKFPA12000-I Processing of SQL completed\nKFPA12000-I Processing of SQL completed\nKFPA12000-I Processing of SQL completed\n[5/7]SHIFT CONFIGURATION OK\n[6/7]CONFIGURATION AGENT OK\n[7/7]BACKUP OLD ISAM FILES SKIP\nメモ\n1つの組み込みDB環境に複数のスケジューラーサービスがセットアップされていた場合は、組み込みDBにセットアップされているすべてのスケジューラーサービスのセットアップを実施してください。\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\najsembdbsetup\n7.組み込みDBの停止\n組み込みDBを停止します。\nコマンド\nWindowsの場合：\n> ajsembdbstop -id\n組み込みDBセットアップ識別子\nLinuxの場合：\n# /opt/jp1ajs2/tools/ajsembdbstop -id\n組み込みDBセットアップ識別子\n実行例\n>\"C:\\Program Files (x86)\\Hitachi\\JP1AJS2\\tools\\ajsembdbstop\" -id _JF1\n2024/12/11 18:20:26 AJSEMBDBSTOP: _JF1 [START]\n2024/12/11 18:20:26 AJSEMBDBSTOP: _JF1 EmbedDB STOP START\n2024/12/11 18:21:06 AJSEMBDBSTOP: _JF1 EmbedDB STOP END (0)\n2024/12/11 18:21:06 AJSEMBDBSTOP: _JF1 [END]\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\najsembdbstop\n8.JP1/AJS3サービスの起動\n8-1.JP1/AJS3サービスを起動する\nWindowsの場合：\nWindowsのサービス画面から「JP1/AJS3」サービスを起動してください。\n論理ホスト環境の場合は「JP1/AJS3_論理ホスト名」サービスを起動してください。\n※JP1/AJS3 - Manager環境には、「JP1/AJS3 Database_JFn」（nの箇所には数字が入ります）サービスが存在します。「JP1/AJS3 Database_JFn」サービスは、JP1/AJS3サービスによって制御されているため、操作する必要はありません。\n​Linuxの場合：\n# systemctl start jp1_ajs3.service\n論理ホスト環境の場合は以下のコマンドを実行してください。\n# systemctl start jp1_ajs3_論理ホスト名.service\n※自動起動の設定をしていない場合\n# /opt/jp1ajs2/bin/jajs_spmd [-h\n論理ホスト名\n]\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\njajs_spmd\n8-2.スケジューラーサービスをコールドスタートする\n再セットアップした組み込みDBに対応するスケジューラーサービスを一度停止し、コールドスタートします。\nコマンド\nWindowsの場合：\n> ajsstop -F\nスケジューラーサービス名\n-w\n> ajsstart -F\nスケジューラーサービス名\n-c -w\nLinuxの場合：\n# /opt/jp1ajs2/bin/ajsstop -F\nスケジューラーサービス名\n-w\n# /opt/jp1ajs2/bin/ajsstart -F\nスケジューラーサービス名\n-c -w\n実行例\n>ajsstop -F AJSROOT2 -w\n>ajsstart -F AJSROOT2 -c -w\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\najsstop\najsstart\n9.バックアップした定義情報を回復\n手順2でバックアップした各種定義情報を回復します。\n9-1.ユニット定義およびカレンダー定義の回復\nコマンド\nWindowsの場合：\n> ajsdefine -F\nスケジューラーサービス名\n取得したユニット定義ファイル名\n> ajscalendar -F\nスケジューラーサービス名\n-df\n取得したカレンダー定義ファイル名\n/\nLinuxの場合：\n# /opt/jp1ajs2/bin/ajsdefine -F\nスケジューラーサービス名\n取得したユニット定義ファイル名\n# /opt/jp1ajs2/bin/ajscalendar -F\nスケジューラーサービス名\n-df\n取得したカレンダー定義ファイル名\n/\n実行例\nユニット定義\n>  ajsdefine -F AJSROOT2 C:\\temp\\ajsprint.txt\nカレンダー定義\n> ajscalendar -F AJSROOT2 -df C:\\temp\\rootcal.txt /\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\najsdefine\najscalendar\n9-2.ルートジョブグループ情報の回復\nメモしておいた最上位ジョブグループ（ルートジョブグループ）の情報を設定してください。\nコメント\n所有者\nJP1資源グループ\n基準時刻\n基準日\n月区分\n9-3.実行エージェント情報の回復\nコマンド\nWindowsの場合：\n> ajsagtadd [-h\n論理ホスト名\n] -f\n取得した実行エージェント情報ファイル名\nLinuxの場合：\n# /opt/jp1ajs2/bin/ajsagtadd [-h\n論理ホスト名\n] -f\n取得した実行エージェント情報ファイル名\n実行例\n>  ajsagtadd -h jp1manager-v -f C:\\temp\\ajsagtprint.txt\nメモ\nシングル構成の場合は「-h 論理ホスト名」は不要です。\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\najsagtadd\n9-4.実行登録情報のインポート\nコマンド\nWindowsの場合：\n> ajsrgimport -F\nスケジューラーサービス名\n-f -c -i\n取得した実行登録情報ファイル名\nLinuxの場合：\n# /opt/jp1ajs2/bin/ajsrgimport -F\nスケジューラーサービス名\n-f -c -i\n取得した実行登録情報ファイル名\n実行例\n> ajsrgimport -F AJSROOT2 -f -c -i C:\\temp\\ajsrgexport.txt\nメモ\n-fオプションを指定すると、当日に実行予定があっても予定時刻を過ぎている場合はジョブネットが実行されません。\n計画一時変更していたジョブネットやジョブについては、「計画一時変更」の操作をしてください。\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\najsrgimport\n10.状態確認\n10-1.意図した設定であることを確認\nコマンド\nWindowsの場合：\n> ajsembdbstatus -c -id\n組み込みDBセットアップ識別子\nLinuxの場合：\n# /opt/jp1ajs2/tools/ajsembdbstatus -c -id\n組み込みDBセットアップ識別子\n10-2.ジョブ定義の表示を確認\nJP1/AJS3 - View画面でジョブ定義が表示されていることを確認します。\n10-3.統合トレースログにエラーが出ていないことを確認\n統合トレースログ格納先（デフォルト時）\nWindowsの場合：\nC:\\Program Files (x86)\\Hitachi\\HNTRLib2\\spool 配下\nLinuxの場合：\n/var/opt/hitachi/HNTRLib2/spool 配下\n10-4.プロセスがすべて起動していることを確認\nコマンド\nWindowsの場合：\n> jajs_spmd_status [-h\n論理ホスト名\n]\nLinuxの場合：\n# /opt/jp1ajs2/bin/jajs_spmd_status [-h\n論理ホスト名\n]\nメモ\n「KNAD3691-I プロセスは全て起動しています」のメッセージが出力されていることを確認してください。\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\njajs_spmd_status\nまとめ\n本記事では、再セットアップの手順を詳細に解説しました。手順に従って正確に実行することで、スムーズに作業を完了し、システムの安定運用を維持することができます。ぜひ参考にして、トラブルのない運用を実現してください。\n製品正式名称(略称表記)\nJP1/Automatic Job Management System 3 - Manager（JP1/AJS3 - Manager）\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n2022年7月に中途入社。JP1のサポートセンターにて勤務。分かりやすい回答をご案内できるように心掛けています。2023年4月より本ブログ記事を担当することになりました。\n趣味は旅行です。特に京都が好きで、よく行きます。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\nジョブ管理\n2024.08.15\n【JP1/AJS3】JP1 x SAP 使い慣れたAJS3の画面からSAPジョブを一元管理！\nJP1/AJS3での、SAPのバックグラウンドジョブ制御をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/jp1_cs.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nContent:\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n最近、クラウドへのシステムリフト／シフトされるケースが増加しています。それに伴いJP1製品もクラウドに移行したいというお問い合わせを多くいただいています。\nJP1 Cloud Service（JP1 CS）は、企業のITシステム運用管理をクラウド上で提供するサービスです。このサービスでは、従来のオンプレミス版JP1と同様のジョブ管理機能および統合管理機能をSaaS型で提供し、システムの安定稼働を支援します。\n本ブログでは、JP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\n本記事について\n・JP1 CS バージョン 02-20 の「ジョブ管理」を対象としています。\n・JP1 CSのバージョンによって、本ブログとは動作が異なる場合があります。\n・JP1 CSの製品概要やメリットについては、\nコチラ\nをご覧ください。\n・JP1 CSの接続パターンは全て記載していません。お客様環境で利用可能かなど確認される場合は、\nコチラ\nのページよりお問い合わせください。\n目次\nJP1 CSジョブ管理のシステム構成と導入製品\nJP1 CSサービスポータルについて\nオンプレミス版のJP1/AJS3 - Managerとの違い\n既存環境からのジョブ定義移行方法\nJP1 CSジョブ管理のメンテナンス\nJP1 CSジョブ管理のシステム構成と導入製品\nJP1 CSは、オンプレミス環境はもちろん、AWSやAzure上のシステムにもAWS Transit GatewayまたはVPNで接続可能です。\nJP1 Cloud Service概要図\nオンプレミス環境と接続する場合\nオンプレミス環境で稼働しているエージェント（JP1/AJS3 - Agent）とJP1 CSジョブ管理を接続する場合は、\nAWS Direct Connect経由でJP1 CSが共有するAWS Transit Gatewayに接続することで通信が可能になります。\nオンプレ環境でのシステム構成\nポイント\nオンプレミス環境との接続の場合、お客様にて下記の準備が必要です。\n・AWSアカウント\n・AWS Direct Connect\nクラウド環境と接続する場合\nクラウド環境で稼働しているエージェント（JP1/AJS3 - Agent）とJP1 CSジョブ管理を接続する場合は、利用しているクラウド環境によって接続準備が異なります。ここでは、AWSとAzureについて記載しています。\nAWS環境の場合\nAWS環境で稼働しているお客様環境とJP1 Cloud Serviceを接続する場合、JP1 Cloud Serviceが共有するAWS Transit Gatewayにお客様のVPCをアタッチすることで通信が可能になります。\nAWS環境でのシステム構成\nポイント\nAWS環境との接続の場合、お客様にてVPC設定の準備が必要です。\nAzure環境の場合\nAzure環境で稼働しているお客様環境とJP1 Cloud Serviceを接続する場合、JP1 Cloud Serviceで提供する接続用パラメータを元にして、お客様のAzure環境にインターネットVPNの接続設定をすることで通信が可能になります。\nAzure環境でのシステム構成\nポイント\nAzure環境との接続の場合、お客様にてインターネットVPN接続設定の準備が必要です。\nJP1 CSジョブ管理の導入製品\nJP1 CS V2には、V13のJP1製品が導入されています。\n製品名\n製品説明\nJP1/Base\nJP1製品の前提製品としてJP1ユーザーの管理や、ログファイル監視機能を提供。\nJP1/AJS3 - Manager\nジョブ定義情報、ジョブの実行、ジョブ実行実績を管理。\nJP1/AJS3 - Web Console\nJP1/AJS3のWebGUIを提供。\nJP1/AJS3 - Print Option Manager\nJP1/AJS3 - Managerからジョブを抽出する機能を提供。\nJP1/AJS3 for Enterprise Applications※\nJP1/AJS3 - Managerと連携して、SAPシステムのジョブ制御、SAP BWのインフォパッケージやプロセスチェーンを制御する機能を提供。\nJP1/AJS3 for Cloud Service Applications\nクラウドサービスとの連携を支援する機能を提供。\nサービス連携ジョブの定義数は 5 まで可能。6 以上定義したい場合は、別途オプション（クラウドサービス連携オプション）の追加契約が必要。\n※\nオプション製品です。ご利用いただく際には、別途ご契約が必要です。\nJP1 CSジョブ管理と接続可能な製品\n下表の製品は、JP1 CSジョブ管理と接続可能です。\n製品名\n機能\nJP1 CSジョブ管理でのソフトウェア提供有無\nJP1/AJS3 - View\nジョブ定義や実行状況監視を行うGUIを提供。\n2台分の利用権を含有。\nJP1/AJS3 - PO\nJP1/AJS3 - POMと連携して定義情報、実行予定、\n結果情報などのジョブ運用情報を印刷する機能を提供。\nJP1/AJS3 - Viewに同梱。\nJP1/AJS3 - DA\nExcelでの定義情報のImport、Export機能を提供。\n使用権は含まれていないため、別途購入が必要。\nJP1 CSジョブ管理と各製品の接続可能なバージョンは下のマニュアルをご参照ください。\n参考マニュアル\nJP1 Cloud Service ジョブ管理 利用ガイド\n1.5.1　前提ソフトウェアの準備\nJP1 CSジョブ管理マネージャーと接続可能なエージェントのバージョン\nJP1 CS V2のジョブ管理（JP1/AJS3 - Manager V13）に接続できるエージェントのバージョンは、V10以降です。これは、JP1/AJS3 - Managerのバージョン混在時の接続性と同様の考え方です。\n接続可能なバージョンの要件を満たしている場合は、既存のエージェント環境もジョブ管理の実行エージェントとして登録可能です。\nJP1 CSサービスポータルについて\nJP1 CSでは、ジョブ管理・イベント管理で必要となる定型作業（ユーザー追加、管理対象サーバー追加など）をはじめ、ライセンス管理を支援するサービスポータルを提供しています。\nJP1 CSジョブ管理で使用する実行エージェントの追加やログファイルの参照はサービスポータルで実施します。\nサービスポータルの画面\nオンプレミス版のJP1/AJS3 - Managerとの違い\nJP1 CSジョブ管理は、JP1/AJS3 - Managerを使用するためJP1/AJS3 - Viewによる操作感はJP1/AJS3 - Managerと同じです。ただ、SaaS環境の特性上、マネージャーホストのOSにはログインできないことから、これまでマネージャーホスト上で実行していたコマンドや設定ができません。\nこれらの設定は、サービスポータルか、JP1/AJS3 - ViewのUNIXジョブのコマンド文にコマンドを設定して実施する必要があります。なお、\nスーパーユーザー権限が必要なコマンドは実行できません。\nここではJP1/AJS3とJP1 CSとの相違点として、JP1/AJS3で必ず実施する作業であるJP1ユーザーの作成、実行エージェントの登録、マネージャホスト上でのコマンド実行についてご紹介します。\nJP1ユーザーの作成方法\nJP1ユーザーを作成して、操作権限を付与します。登録したJP1ユーザーは、JP1/AJS3 - Viewのログイン認証などで使用されます。\n1.サービスポータルにログインし、［JP1ユーザー一覧］→［新規作成］を押下します。\nJP1ユーザー一覧\n2.JP1ユーザー作成画面で、JP1ユーザー名、パスワード、権限を入力して「実行」を押下します。\nJP1ユーザー作成画面\nポイント\nJP1 CSジョブ管理マネージャー上のJP1ユーザーとOSユーザーのユーザーマッピングは、自動的に設定されます。マッピングされるOSユーザーは固定されていて、変更することはできません。\nジョブ実行エージェントの登録方法\nジョブを実行するエージェントホストの情報をマネージャーに登録します。\nJP1/AJS3では、マネージャーホスト上でコマンドを実行してエージェントを登録しますが、JP1 CSジョブ管理ではサービスポータル画面で設定します。\n1.サービスポータルにログインし、［ホスト情報一覧］→［新規作成］を押下します。\nホスト情報一覧\n2.ホスト情報の登録画面で、実行エージェントとして登録するエージェントのホスト名、IPアドレス、その他必要事項を入力して「実行」を押下します。\nホスト情報登録画面\n3.［実行エージェント一覧］→［新規作成］を押下します。\n実行エージェント一覧\n4.実行エージェントの登録画面で、3で登録したホストのエージェント名、実行ホスト名、ジョブ実行多重度、その他必要事項を入力して「実行」を押下します。\n実行エージェントの登録画面\nマネージャーホスト上でのコマンド実行方法\nJP1 CSジョブ管理が稼働しているOSはLinuxOSです。Linux環境のため、実行できるジョブはUNIXジョブで、PCジョブは実行できません。コマンドを実行する場合は、実行したいコマンドを記載したシェルスクリプトをJP1 CS上にアップロードする必要があります。\n1.テキストファイルに、シェルスクリプトを作成します。\n改行コードはLFに変換し、文字コードはUTF-8を指定して保存します。\n2.サービスポータルにログインし、［ユーザーファイル一覧］→［アップロード］を押下し、作成したシェルスクリプトをアップロードします。アップロードのダイアログで、シェルに対して実行権限を付与します。\nユーザーファイル一覧\n3./usrfileディレクトリ配下に配置されていることを確認し、ジョブ作成時にパスを指定し実行します。\nその他の機能差異は以下のマニュアルにも記載があります。併せてご覧ください。\n参考マニュアル\nJP1 Cloud Service ジョブ管理 利用ガイド\n付録B　機能の提供有無一覧\n※補足\nJP1イベント送信ジョブのプラットフォームで「Windows」は設定できません。「UNIX」を選ぶ必要があります。\n既存環境からのジョブ定義移行方法\nJP1/AJS3からJP1 CSジョブ管理システムに移行する際、以下の情報が移行可能です。\n実行エージェントの登録情報\nジョブ定義（ルートジョブグループ以外のユニットの定義情報）\nジョブ定義（ルートジョブグループの情報）\nジョブ定義（ルートジョブグループのカレンダー情報）\n詳細な移行手順はマニュアルをご確認ください。\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 運用ガイド\n2.1　バックアップとリカバリーの概要\nここでは、ジョブ定義を移行する場合の具体例をご紹介します。\n既存のJP1/AJS3 - ManagerからJP1 CSジョブ管理マネージャーにジョブ定義を移行する場合は、ajsprintコマンドで定義をファイルに出力し、そのファイルをサービスポータルにアップロード後、ajsdefineコマンドで定義します。\nまた、JP1/AJS3 - DAをお持ちの方は、JP1/AJS3 - DAで定義を移行することも可能です。\nここでは、ajsprint/ajsdefineで移行する方法について具体的に説明します。\nコマンドによるジョブ定義移行方法\n1.既存のJP1/AJS3 - Manager環境でajsprintコマンドを実行し、ジョブ定義をテキストファイルに出力します。\n2.サービスポータルにアクセスし、［ユーザーファイル一覧］→［アップロード］を押下します。\nユーザーファイル一覧\n3.［ファイルを選択］ボタンで手順1で出力したファイルを指定し、［実行］を押下します。\nファイル選択画面\n4.JP1/AJS3 - View でUNIXジョブを作成し、コマンド文にajsdefineコマンドを設定します。\nUNIXジョブ定義画面\nコマンド文の例\n#/opt/jp1ajs2/bin/ajsdefine -F スケジューラーサービス名 /usrfile/ファイル名\nJP1 CSジョブ管理マネージャのリソース（登録／実行できるジョブ数）は、契約によって異なります。\n基本契約（スタンダード、またはエンタープライズ）に加えて、リソース拡張オプションのLevel1、2、3のいずれか契約されている場合は、スケジューラーサービス数とジョブ実行数を拡張することができます。\n既存環境から移行する際には、運用に合わせてリソース拡張を検討ください。\n1日のジョブ実行数の限度\n1時間のジョブ実行数の限度\n（ピーク時）\nスケジューラーサービス数\n基本契約\n（オプションなし）\n5,000ジョブ/日\n2,000ジョブ/時\n1個まで\nLevel 1\n50,000ジョブ/日\n20,000ジョブ/時\n2個まで\nLevel 2\n80,000ジョブ/日\n40,000ジョブ/時\n5個まで\nLevel 3\n100,000ジョブ/日\n50,000ジョブ/時\n10個まで\nポイント\nWindowsOS上のJP1/AJS3 - Managerから出力したajsprintの結果は、SJISで出力されます。このファイルをJP1 CS ジョブ管理に移行するには、改行コードをLFに変換し、ファイルの文字コードをUTF-8に設定したうえでサポートポータルにアップロードします。ユニット定義に日本語を設定していると、UTF-8に変換しない場合、該当部分が文字化けします。\najsprint/ajsdefineコマンドの詳細はマニュアルをご確認ください。\n参考マニュアル\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\najsprint\najsdefine\nJP1 CSジョブ管理のメンテナンス\nJP1 CSジョブ管理のメンテナンスは4つのパターンがあります。\nメンテナンス種別\n実施頻度\n日時変更\n可否\n影響範囲\n説明\n保守メンテナンス\n毎月1回（デフォルト）\n〇\nジョブ管理停止\nジョブ管理マネージャーを対象にお客様が指定した日時でサーバー再起動やシステムバックアップ取得、パッチ適用などを実施する定期的なメンテナンスです。\n定期メンテナンス\n毎月第3土曜日\n0:00〜翌0:00\n×\nサービスポータル停止\nサービスポータルやJP1 Cloud Serviceのバックグラウンドサービス対象に、サーバー再起動やシステムバックアップ取得を実施する定期的なメンテナンスです。\n臨時メンテナンス\n不定期\n〇※\n・ジョブ管理停止\n・サービスポータル停止\n定期メンテナンスおよび保守メンテナンスで対応できないメンテナンスについて、お客様と個別に日程を調整して実施するメンテナンスです。\n早急な対策が必要とされる事象が発生した場合などが該当します。\n緊急メンテナンス\n不定期\n×\n・ジョブ管理停止\n・サービスポータル停止\nお客様との日程を調整せずに実施するメンテナンスです。\n重大なセキュリティ脆弱性など緊急なで対応が必要な事象が発生した場合などが該当します。\n※\n変更できない場合もあります。\nポイント\nメンテナンス中のJP1 CSジョブ管理の停止時間は、構成によって異なります。スタンダードの場合は、メンテナンス時間は1～6時間程度必要で、この間全ての操作を行えなくなります。\nエンタープライズ（クラスタ構成）の場合でも、稼働系と待機系の切替時に10分ほど運用できない時間帯があります。\n保守メンテナンスは、サービスポータルの［メンテナンス一覧］で日時変更が可能です。\nまとめ\n昨年登場したSaaS版のジョブ管理 JP1 CSは、徐々にご利用いただいている企業様も増えてきています。\n本ブログを通じて、これからJP1 CSの情報収集をされる方や導入を検討されている方に、より具体的なイメージを持っていただけることを期待しています。\nご興味のある方は、\nコチラ\nから紹介資料をダウンロードできますので、併せてご活用ください。\n製品正式名称(略称表記)\nJP1 Cloud Service/Job Management（JP1 CS ジョブ管理）02-20以降\nJP1/Automatic Job Management System 3 （JP1/AJS3） 10-00以降\nJP1/Automatic Job Management System 3 - View （JP1/AJS3 - View）10-00 以降\nJP1/Automatic Job Management System 3 - Print Option（JP1/AJS3 - PO） 10-00 以降\nJP1/Automatic Job Management System 3 - Definition Assistant（JP1/AJS3 - DA） 11-50 以降\n※\n記載されている会社名や製品名は、各社の登録商標です。\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n保木 紗知子\n2002年入社、Oracle DatabaseやWebFOCUSをサポート、2023年から\nJP1製品のサポートを担当。2024年8月より本ブログ記事を担当することになりました。神戸在住。テーマパークが好きです。\n関連している記事\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\nジョブ管理\n2024.08.15\n【JP1/AJS3】JP1 x SAP 使い慣れたAJS3の画面からSAPジョブを一元管理！\nJP1/AJS3での、SAPのバックグラウンドジョブ制御をご紹介します。\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/jp1_limited_verup.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup][Design]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\nContent:\nJP1全般\n2025.06.27\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\nはじめに\n2009年に販売が開始したJP1 Version9の限定サポート終了が\n2026年3月末\nに迫っています。\n限定サポートが終了すると、製品のサポートが受けられなくなるだけでなく、修正パッチの提供、製品のバージョンアップメディアの提供も行われなくなります。そのため、まだ Version9をご利用の場合は早めに Version10以降へのバージョンアップをご検討ください。（2025年6月現在の最新バージョンはVersion13.1です。）\n今回は Version9からJP1の最新バージョンである Version13に移行するにあたって検討すべきことをまとめました。本ブログも参考にしてバージョンアップを計画的に進めてください。\n目次\n移行にあたり検討すべきこと\n対応OSの違い\n互換性の問題\n並行稼働\n移行できない情報\nクラウドへの移行\n新機能の利用\n開発終了製品の有無\nSaaSの利用\n限定サポート期間例外製品（JP1/IM-EG for NNMi）\n参考情報\nチェックリスト\nバージョンアップセミナー\nまとめ\n移行にあたり検討すべきこと\n対応OSの違い\nJP1はバージョンによって対応しているOSが異なります。現在の最新Version13で対応しているOSは以下のWebサイトよりご確認ください。\n動作環境・対応状況・サポート範囲\nhttps://www.hitachi.co.jp/Prod/comp/soft1/jp1/product/jp1/environment/index.html\n（新しいタブで外部サイトへ遷移します）\nJP1はOSのインプレースアップグレードには対応していません。JP1がインストールされているOSのバージョンアップを行う場合は、JP1を一度アンインストールし、OSのバージョンアップ後に再インストールする必要がある点にも注意が必要です。\n※JP1がインストールされているOSのバージョンが新旧のJP1で対応している場合、JP1の上書きインストールによるバージョンアップも可能です。（上書きインストールの可否は製品によって異なるため、詳細は製品の保守先にお問い合わせください）\n互換性の問題\nマネージャー製品のみ、エージェント製品のみなど製品単体でバージョンアップした場合、システム内で複数のバージョンが混在することがあります。このような場合、バージョン間の接続の互換性についても確認が必要です。\n基本的にJP1製品は上下3バージョンまでの接続をサポートしていますが、機能面で制限事項もあるため、システム内でバージョンが混在する際は各製品マニュアルなどで制限事項の有無をご確認ください。\n参考マニュアル（JP1/AJS3の場合）\nJP1 Version 13\nJP1/Automatic Job Management System 3 設計ガイド（システム構築編）\n8.1　バージョン互換\n並行稼働\nJP1が新旧のサーバーで並行稼働する場合、実際に稼働する数などに合わせてライセンスが必要です。コールドスタンバイ状態（インストールしてサービスを停止している状態）でもライセンスが必要です。\nそのためJP1のバージョンアップを現行環境とは別の環境を用意して行う場合は、新バージョン用のJP1ライセンスを購入する必要があります。必要なライセンスについてお見積りをご希望のお客様は、アシストまでお問い合わせください。\nJP1のお見積りを依頼する\n移行できない情報\nJP1製品では移行できるファイル／データと、できないファイル／データがあります。また、IPアドレスやホスト名が同じか異なるかでも、移行可否や手順が異なる場合があります。\n移行に関する制約や手順は各製品の「移行ガイド」というドキュメントに記載されていますので、ドキュメントを入手のうえ移行可否をご確認ください。アシストのお客様は保守ユーザー専用ページ（ユーザーサイト）からダウンロードできます。\nクラウドへの移行\nオンプレミス環境で稼働しているVersion9環境を、バージョンアップに合わせてクラウド環境に移行することを検討されている場合、クラウド環境に該当のJP1製品、バージョンが対応しているかどうかの確認が必要です。クラウドでの稼働に対応している製品でも、機能によっては対応していない場合もあります。\n▼対応して\nいない\n機能（下記は一例です。詳細は保守ベンダーにご確認ください。）\nJP1/AJS3のOutlookを使用したメールシステム連携機能\nJP1/IT Desktop Management 2 のネットワークモニター機能\nまたクラウド環境でクラスタ構成を組みたい場合、オンプレミス環境と同様のスループットが発揮できるかどうかの検証も必要です。一般的に同期型のミラーリング構成ではI/Oの性能劣化が起こる場合があり、その影響を受けてJP1側の動作に遅延などの影響が出る場合があるので注意が必要です。\n事前に十分検証の上、本番移行してください。\n新機能の利用\nJP1 Version9から、最新のVersion13までの間に、様々な新機能が追加され、またデフォルト値が変わっているパラメーターも存在します。それらの新機能を利用するのか、それとも現行踏襲で移行するのか検討する必要があります。なお、Version13の新機能は本ブログでもご紹介していますので、参考にしてください。\n「V 13」の 新機能を一挙紹介！第一弾\n「V 13」の 新機能を一挙紹介！第二弾\n「V 13.1」の 新機能を一挙紹介！\n開発終了製品の有無\nJP1/PFMはVersion12を最後に開発が終了しました。\n現在JP1/PFMのVersion9をご利用の場合は、Version12に移行するか、一部の機能はJP1/IM3 Version13に移行されているため、JP1/IM3での実装をご検討ください。\nSaaSの利用\nJP1のSaaS版として「\nJP1 Cloud Service\n」がリリースされました。JP1 Version9の限定サポート終了を機に、一部の製品は「JP1 Cloud Service」に移行することもご検討ください。\n▼JP1 Cloud Serviceで提供しているサービス\nジョブ管理：JP1/AJS3-Manager機能を提供\nジョブ分析：JP1 Cloud Serviceのみで提供\nシステム管理：JP1/IM3機能を提供\n通報通知：JP1/TELstaff機能を提供\n限定サポート期間例外製品（JP1/IM-EG for NNMi）\nJP1/IM-EG for NNMiはVersion10の提供が無いため、\nVersion9の限定サポートが2029年3月末まで延長\nされています。\n例えば、Version10のJP1/NNMiとVersion9のJP1/IM-EG for NNMiの組み合わせでご利用いただいている場合、 Version9のJP1/IM-EG for NNMiは継続してご利用いただけます。\n参考情報\nチェックリスト\nバージョンアップに際して最低限検討すべきことをリストアップしました。JP1のバージョンアップ計画にお役立てください。\n項目\nチェックすべきこと\nサーバー\n□\n同じサーバーで上書きバージョンアップをするのか、他のサーバーに構築して移行するのか。\nバージョンアップ対象\n□\nVersion9だけをバージョンアップするのか、システム内のVersion10以降のJP1のバージョンアップも併せて行うのか。また、どのバージョンにするのか。\nIPアドレス／ホスト名\n□\nIPアドレスとホスト名は既存環境と同じにするのか、別にするのか。\nスケジュール\n□\n新環境のリリースに必要な時間と工数を見積もっているか。\nクラウド／SaaS利用\n□\nオンプレ環境をバージョンアップに合わせてクラウドに移行する計画はあるか。SaaSに移行するか。\n新機能利用\n□\n新バージョンで搭載されている新機能を利用するのか。\n現行踏襲\n□\n各種パラメーターは現行の設定を踏襲するのか、それともチューニングをするのか。\n開発終了製品の扱い\n□\nVersion13で製品が提供されていない場合、Version12を利用するのか他の製品に乗り換えるのか。\nバージョンアップセミナーのご紹介\nJP1ジョブ管理製品（JP1/AJS3）のバージョンアップに関するオンデマンドセミナーをご用意しています。安全にバージョンアップするためのポイントを事例を交えながらご紹介しています。\nオンデマンド配信のため、お申し込み後はいつでもご覧いただけますので、是非ご覧ください！\nまとめ\n2009年に登場したJP1Version9は、JP1/AJS2がJP1/AJS3になり、JP1/Cm2/NNMがJP1/NNMiになるなど、今のJP1に近い形に大きく変化しました。\n製品をサポートする立場からすると、一部の製品は仕様がガラっと変わり、新しい製品を習得するような状況でした。そんな中でのサポート体制立ち上げは大変で、思い入れのあるバージョンです。\n先に説明した通り、限定サポートが終了しますと、サポートを受けられなくなるだけでなく、バージョンアップ版の提供もできなくなりますので、まだVersion9をお使いのユーザー様はお早めにバージョンアップ計画を立てていただきたいと思います。\nアシストでは製品移行に関する支援メニューをご用意していますので、もし興味がございましたらお問い合わせください。\nJP1のバージョンアップについて問い合わせる\n製品正式名称（略称表記）\nJP1/Automatic Job Management System 3 (JP1/AJS3)\nJP1/Integrated Management - Manager 3 (JP1/IM3)\nJP1/Performance Management(JP1/PFM)\nJP1/Network Node Manager i (JP1/NNMi)\nJP1/Integrated Management - Event Gateway for Network Node Manager ｉ(JP1/IM-EG for NNMi)\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n居城美紀\n1999年入社。BI系のサポートを経て2003年よりJP1担当。\n2020年9月より本ブログ記事を担当することになりました。\nJP1サポートセンターの生き字引としてJP1のお役立ち情報を発信したいと思います。\n京都在住。最近は韓国コスメを色々試すことが楽しみです。\nページトップへ戻る\n関連している記事\nJP1全般\n2025.02.27\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\nJP1サポート技術者が、お客様によくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介します。\nJP1全般\n2024.09.30\n【JP1全般】JP1新バージョン「V 13.1」の 新機能を一挙紹介！\n2024年9月30日にリリースされたJP1の新バージョン「Version 13.1」の新機能一覧をご紹介します！\nJP1全般\n2024.07.01\n【JP1全般】JP1のライセンス体系について分かりやすく解説\nJP1のライセンス体系について基本的な考え方を解説します。\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/jp1cs-dashboard.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1 CS】JP1 CS ジョブ分析で、ジョブ運用の“見えない課題”を「見える化」しよう！\nContent:\nジョブ管理\n2025.08.29\n【JP1 CS】JP1 CS ジョブ分析で、ジョブ運用の“見えない課題”を「見える化」しよう！\n「JP1/AJS3のジョブ数が増えてきて、全体の状況が掴みにくくなってきた…」「将来ジョブの遅延が発生しないか不安…」「なんとなく運用はできているけれど、もっと効率化できるはずでは？」\nすでにJP1/AJS3を導入し、日々の業務を自動化している方にとって、JP1/AJS3はなくてはならない存在のはずです。しかし、ビジネスの成長と共にジョブは増え続け、その複雑性は増す一方ではないでしょうか。\n本記事では、JP1/AJS3またはJP1 CS ジョブ管理をご利用中の皆様に向けて、「ジョブ分析」がジョブの全体像の可視化や運用効率・安定性向上にどう役立つか、具体的な活用シーンと共にご紹介します。\n目次\nJP1 CS ジョブ分析とは\nジョブ分析の利用シーン\n全体のジョブ実行状況を把握\nキューイング有無と時間を確認\n実行エージェント単位に処理が集中している時間帯を確認\nジョブ作成が社内ルールに則っているかを確認\n参考\nJP1 CS ジョブ分析とは\nJP1 CS ジョブ分析は、クラウドで提供されているSaas型のサービスです。\nジョブ管理マネージャーの稼働情報を自動収集し、簡単に可視化、ジョブ運用の状態を直感的・多角的に分析し、障害の予防と対策を講じることができます。\nジョブ分析対象は、JP1/AJS3（オンプレミス）とJP1 CS ジョブ管理（SaaS）のどちらの環境でも対応できます。\nジョブ分析には3つの特長があります。\nジョブ分析サービスの3つの特長\nJP1/AJS3の稼働情報を1日1回自動収集を行い、クラウド上にデータを蓄積しています。リアルタイムでジョブ実行状況を監視する製品ではありません。\nジョブ分析の利用シーン\nジョブ分析では、運用に合わせた豊富な分析レポートが提供されています。メニューを選択するだけでレポートを開いて確認することができるため、特別なトレーニングは不要です。\n実際にどのようなシーンでジョブ分析が利用できるかをご紹介します。\n①全体のジョブ実行状況を把握\n全体のジョブ実行状況を確認して、実行回数、エラー回数、実行時間増加傾向などを把握したい！\n［ジョブ実行レポート］で全体のジョブ実行状況を把握することができます。\n［ジョブ実行レポート］のダッシュボード機能\nダッシュボード機能では、実行回数、エラー回数などの様々な観点で運用結果をグラフや数値で表示できます。\nクリックして拡大\n全体のジョブ実行状況から、問題のあるジョブを絞り込んで特定できます。例えば、［実行時間増加傾向%］をクリックすると、実行時間増加傾向にあるユニットが表示されます。\n［実行時間増加傾向%］でフィルターされた詳細情報が表示されます。レポートは、実行時間増加傾向%列が降順にソートされています。上位に表示されたユニットを確認します。\nクリックして拡大\n②キューイング有無と時間を確認\nキューイングが発生しているか、どのくらいの時間、どのジョブで発生しているかなどを確認したい！\n目的別のレポートで長時間キューイングしているジョブが確認できます。\nキューイングしているジョブを確認することで、エージェントの実行多重度やジョブの開始時間の見直しに使えます。\nクリックして拡大\n予めジョブ分析で用意されている目的別メニューから［キューイング時間の長いジョブを知りたい。］を開くと「最大キューイング時間」の長いジョブでソートされたレポートが表示されます。\nクリックして拡大\n特定のジョブの最大キューイング時間の遷移を確認する場合\nレポートの最大キューイング時間の右横に表示される四角をクリックして［ジョブ実行詳細レポート］します。\nクリックして拡大\nジョブ単位で、日々の最大キューイング時間をグラフと表で確認できます。\nクリックして拡大\nクリックして拡大\n長時間のキューイングが発生した時間帯を確認する場合\n具体的にキューイングが発生した時間帯を確認する場合は、下図の通り［ジョブスケジュールモニタリングレポート］のタイムラインで確認します。\nクリックして拡大\nタイムラインを拡大して、キューイング時間を確認できます。\n網掛け部分がキューイングしている箇所です。過去のデータも同時に表示されるので、以前と比べてキューイングが増えていないか、簡単に比較できます。\nキューイングが発生した時間帯に実行されていたジョブを確認する場合\n実行エージェントの実行多重度が原因でキューイングが発生しているか確認したいときは、キューイングが発生した時間帯をフィルターすることで確認できます。\nクリックして拡大\n時間帯を絞り込むことで、その時間帯に実行されたジョブのみ表示できます。\nクリックして拡大\n③実行エージェント単位に処理が集中している時間帯を確認\nジョブを追加するため、ジョブの実行数が少ない時間帯を確認したい！\nエージェントホストを再起動したいので、ジョブが実行されていない時間帯を確認したい！\n［エージェントジョブ実行状況レポート］を使って、実行エージェント単位でジョブが集中している時間帯を確認することができます。\n色が濃くなっている箇所は処理が集中している時間帯です。\n処理が集中していない時間帯に、スケジュールを移動・追加したり、メンテナンス時間を検討するための情報として利用できます。\nクリックして拡大\n④ジョブ作成が社内ルールに則っているかを確認\nルール違反のユニットを確認したい！\n［ジョブ定義診断レポート］で、決められたルールに沿って定義されていないユニットを確認できます。ルールが守られていないジョブがあるとエラーが発生したり、誰が作成したか、何のジョブかわからなくなって、問題が発生した時に対応に時間がかかることがあります。\nジョブ定義診断レポートの「ガイドライン順守率」で、ルールが守られていないユニットを特定するのに役立ちます。\nジョブ定義診断レポート\n［ガイドライン順守率%］をクリックするとルールが守られていないユニットを確認できます。\n守られていないルールも確認できます。\nクリックして拡大\n参考\n目的別メニュー\n目的別に用意されたメニューを選ぶだけで、必要なレポートがすぐに確認できます。自分でレポートを作成する必要はありません。\n目的別メニュー一覧\n実行時間の長いジョブが知りたい。\n遅延傾向がみられるジョブを探したい。\n使われていないジョブネットを探したい。\nエラーが発生したジョブを知りたい。\n未実行となったジョブを知りたい。\n保存世代数が不足しているジョブネットを知りたい。\nジョブネット内のどのジョブに時間がかかっているか知りたい。\nキューイング時間の長いジョブを知りたい。\n変更したジョブネットの実行時間の変化を知りたい。\n特定の時間に動作したジョブを知りたい。\n再実行したジョブの実行状況を確認したい。\nリコメンド機能\n各画面の右上に表示される［？］をクリックすることでレコメンド情報を表示できます。事象の原因や対策がまとめられていて、問題解決の参考情報として利用できます。\nクリックして拡大\nCSV出力\n各レポートでは、表示中のレポートのデータをCSV形式でダウンロードできます。ダウンロードでは、以下のいずれかを選択できます。\n・CSVでダウンロード　　　　　　 ：表示中のユニットのデータのみをダウンロード\n・CSVでダウンロード（全データ） ：すべてのユニットのデータをダウンロード\nクリックして拡大\nまとめ\nサポートセンターには、「サーバーのメンテナンスをするので、ジョブが実行されていない時間を確認したい」 や、 「特定のエージェントで実行されたジョブの一覧を出したい」 といったお問い合わせをよくいただきます。\nこれらのご要望には、ajsshow コマンドやスケジューラログの確認、ajsreport の利用をご案内しています。しかし、要件にぴったりのコマンドのオプションを考えるのに手間がかかったり、膨大なログの中から必要な情報を探すのが難しかったり、といったところが難点でした。\nJP1 CS ジョブ分析 を導入すれば、Webブラウザからいつでも実行データを簡単に確認できるため、ジョブの最適なスケジューリングやメンテナンス時間の決定など、実際のデータに基づいた迅速な判断が可能になります。\nこの機会に、ぜひJP1 CS ジョブ分析 の導入をご検討いただければと思います。\n製品正式名称（略称表記）\nJP1/Automatic Job Management System 3 （JP1/AJS3） 11-00以降\nJP1 Cloud Service/Job Management（JP1 CS ジョブ管理）02-00以降\nJP1 Cloud Service/Job Analysis（ジョブ分析）02-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n保木 紗知子\n2002年入社、Oracle DatabaseやWebFOCUSをサポート、2023年から\nJP1製品のサポートを担当。2024年8月より本ブログ記事を担当することになりました。神戸在住。テーマパークが好きです。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n次の記事 »\nカテゴリ一覧\nジョブ管理（35）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.08.29\nジョブ管理\n【JP1 CS】JP1 CS ジョブ分析で、ジョブ運用の“見えない課題”を「見える化」しよう！\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/management-portal.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/AJS3】無償利用可！V13新機能「マネジメントポータル」でJP1/AJS3の稼働状況を可視化\nContent:\nジョブ管理\n2023.12.22\n【JP1/AJS3】無償利用可！V13新機能「マネジメントポータル」でJP1/AJS3の稼働状況を可視化\nJP1/AJS3の運用業務において、「JP1/AJS3に何か問題が生じているのか確認したいが、どこから調べれば良いか分からない」という経験はありませんか？\nそのような声にお応えするために、JP1/AJS3 V13では「マネジメントポータル」機能が導入されました。「マネジメントポータル」を利用することで、JP1/AJS3システムのリアルタイムな稼働状況をWeb画面で確認できます。これにより、ジョブ実行を防ぐ要因がどこにあるか、データベースの使用状況に問題がないかなど、システムの状況をすばやく簡易的に把握することが可能です。\n本記事では、V13で新たに実装されたマネジメントポータルの機能について詳しくご紹介します。\n※マネジメントポータル機能を利用するには、JP1/AJS3 - Web Consoleのセットアップが必要です。セットアップ手順は、後述のマニュアルをご参照ください。\nマネジメントポータルの画面\nマネジメントポータルにログインすると［サマリ］画面が表示されます。\n［サマリ］画面\n［サマリ］画面の表示説明\n①\n接続先のマネージャーの稼働状況\n画面上部には、接続したマネージャーホストの稼働状況（［サマリ］画面上に表示されている情報の中で一番深刻な状態のステータス）が表示されます。上記画像では、接続先マネージャーホスト名が「localhost」、ステータス「異常」であることが分かります。\n➁\nホストサービス\nJP1/AJS3サービスのうち、ホストサービス管理機能の状態が表示されます。\n➂\nエージェントサービス\nJP1/AJS3サービスのうち、エージェントサービス管理機能の状態が表示されます。\n④\nスケジューラーサービス\nスケジューラーサービスの稼働状況が表示されます。上記画像では、正常状態のスケジューラーサービスが1つあることが分かります。\n⑤\nデータベース\nデータベースの稼働状況が表示されます。上記画像では、警告状態のデータベースが1つあることが分かります。セットアップ識別子から、警告状態のデータベース名が「_JF0」であることが分かります。\n⑥\n実行ホスト\n実行エージェントの通信状態が表示されます。上記画像では、正常状態の実行エージェントが3つ、異常状態の実行エージェントが1つあることが分かります。\n［サマリ］画面からは、下記3つの画面を起動することができます。各画面で、稼働状況の詳細を確認できます。\n・［スケジューラーサービス詳細］画面\n・［データベース詳細］画面\n・［実行ホスト詳細］画面\n続いて、各画面について説明します。\nスケジューラーサービス詳細\n［スケジューラーサービス詳細］画面では、スケジューラーサービスの状態が表示されます。対象ホストでスケジューラーサービスを多重化している場合は、各スケジューラーサービスの状態を確認することができます。\n［スケジューラーサービス詳細］画面\n①\n［運用環境］\nをクリックすると、［スケジューラーサービス運用環境］画面が開き、ajsstatusコマンドから得られた情報を確認することができます。\n［スケジューラーサービス運用環境］画面\nワンポイントアドバイス\n［スケジューラーサービス運用環境］画面では、通常、JP1/AJS3 - Managerサーバーでajsstatusコマンドを実行しなければ分からないスケジューラーサービスに関する情報を、簡単に確認することができます。例えば、スケジューラーログファイル（ジョブネットやジョブの実行開始・終了などに関するログ）の場所などをここで確かめることが可能です。\n②\n［状態］\nでは、[スケジューラーサービスの状態]、[抑止機能]、[終了制限]を確認することができます。これらの情報は、ajsstatusコマンドから得られた情報を表示しています。出力項目は下記の通りです。詳細はajsstatusのマニュアルをご参照ください。\n・スケジューラーサービスの状態：運用中 / 停止 / メンテナンス中\n・抑止機能：ジョブ実行 / なし\n・終了制限：スケジュール / ジョブネット / ジョブ / なし / 強制停止 / 停止 / 制限解除\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\n- ajsstatus\n③\n［ジョブ実行状況］\nでは、［キューイングおよび実行中状態のジョブ数］を確認することができます。表示されている数字は、稼働状況レポート（ajsreport）の「CONTENTJOB_NUM」から、過去10分間の最大値が表示されています。そのため、ここに表示されている値は、リアルタイムの値ではありません。\nCONTENTJOB_NUM\n集計間隔内で最も大きかった同時ジョブ実行数（キューイングおよび実行中状態のジョブの合計数）です。\nジョブとは、PCジョブ／UNIXジョブ（キューレスジョブを除く）、QUEUEジョブ、フレキシブルジョブ、HTTP接続ジョブ、カスタムジョブ、アクションジョブ（キューレスジョブを除く）、および引き継ぎ情報設定ジョブのことを指します。\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\n- ajsreport\n［キューイングおよび実行中状態のジョブ数］の数字をクリックすると、［ジョブ実行状況詳細］画面が開きます。ここでは「CONTENTJOB_NUM」の過去10分間分の情報を1分毎にグラフで確認することができます。\n［ジョブ実行状況詳細］画面\nワンポイントアドバイス\n［ジョブ実行状況詳細］画面では、キューイングおよび実行中状態のジョブ数が多い時間を特定できます。ジョブが遅延しているときには、実行中やキューイング状態のジョブが想定している数を超えていないかを確認することができます。\n※キューイングおよび実行中のジョブ名は、確認できません。\n※グラフ中の赤い線は「MaximumContentJob」の値です。システム内で同時に実行できるキューイング中および実行中のジョブ数を示しています。黄色い線は「AlartContentJob」の値です。警告メッセージを出すキューイング中および実行中のジョブ数を示しています。\nJP1 Version 13　JP1/Automatic Job Management System 3 構築ガイド\n20.5.2　ジョブ実行環境の環境設定パラメーターの詳細\n(12)　MaximumContentJob\n(13)　AlartContentJob\n④\n［起動条件付きジョブネットの滞留状況］\nの［実行世代数］は、起動条件付きジョブネットの実行世代数の過去10分間の滞留数の最大値を表示します。環境設定パラメーター「CONDGENWARNINT」に設定した間隔で値が更新されます。値が更新されるまでは「0」が表示される場合があります。\nJP1 Version 13　JP1/Automatic Job Management System 3 構築ガイド\n20.4.2　スケジューラーサービスの環境設定パラメーターの詳細\n(119)　CONDGENWARNNUM\n(118)　CONDGENWARNINT\nワンポイントアドバイス\n起動条件の実行世代の滞留は、システム全体の遅延やサービス起動障害などを引き起こすことがあります。滞留が発生していることが確認できた場合は、下記のブログの記事を参考に対処をご検討ください。\n【JP1/AJS3】起動条件付きジョブネットの滞留を解消する3つの方法\n⑤\n［イベントジョブの滞留状況］\nの［未通知情報数］は、スケジューラーサービスに通知できていないイベントジョブなどの通知数を確認することができます。表示されている数字は、稼働状況レポート（ajsreport）の「EVJOB_UNREPORTED_EVENT_NUM」から、過去10分間の最大値が表示されています。\nEVJOB_UNREPORTED_EVENT_NUM\nスケジューラーサービスに通知できていない次の通知の合計数が、集計間隔内で最も大きい値を示します。\n・イベントジョブの開始通知\n・起動条件の成立通知\n・イベント成立通知\n・イベント成立以外（強制終了など）の通知\nJP1 Version 13　JP1/Automatic Job Management System 3 コマンドリファレンス\n- ajsreport\n［未通知情報数］をクリックすると、［イベントジョブの滞留状況詳細］画面が開きます。24時間以内のマネージャーホストへのデータ送信頻度が高い実行ホスト名と、起動条件付きジョブネット名を上位5件まで確認することができます。\n［イベントジョブの滞留状況詳細］画面\nワンポイントアドバイス\n未通知情報とは…\nイベントジョブ（起動条件付きジョブネット内のものを含む）を実行した場合、実行したイベントジョブの定義データや、監視条件が成立した際のイベント情報などがプロセス間で通信されます。その際、通信エラーなどが発生すると、通信情報を一時ファイルに格納し、時間をおいて再試行します。JP1/AJS3ではこの一時ファイルを「未通知情報」と表現しています。\n起動条件付きジョブネットに対して予期しない大量のイベントが発生すると、未通知情報が生じる可能性があります。未通知情報数が増加すると、イベントジョブがキューイングする、イベントの検知が遅延したり検知されない、といった影響が出る可能性があります。［イベントジョブの滞留状況詳細］画面では、実行ホスト名や起動条件付きジョブネット名を確認することができるので、対象のジョブネットをすばやく特定することができます。\nデータベース詳細\n［データベース詳細］画面では、JP1/AJS3が使用している組み込みDBの領域の状態を確認することができます。円グラフで使用領域と無効領域、空き領域を確認可能なため、組み込みDBのメンテナンス時期の検討をすることができ、運用の安定化に繋がります。\n［データベース詳細］画面\n構成情報をクリックすると、［データベース構成情報］画面が開き、ajsembdbstatusコマンドから得られた構成情報を確認できます。\n［データベース構成情報］画面\nワンポイントアドバイス\nJP1/AJS3ではジョブ情報などの管理に組み込みDBを使用します。「使用領域」とは、データベースが実際に使用している領域のことです。ジョブの定義情報やジョブの実行登録情報などの管理に使用しています。\nジョブ情報などのデータの追加と削除が繰り返されると、組み込みDB内に断片化した空き領域が生じます。JP1/AJS3ではこの空き領域を「無効領域」と表現しています。無効領域には、自動メンテナンス機能やコマンドで解放しない限り新しいデータを追加することはできません。\nそのため、無効領域が増加傾向にある場合は注意が必要です。無効領域が増加すると、ジョブの遅延や、異常終了に繋がります。無効領域の解消については、下記ブログをご参照ください。\n【JP1/AJS3】組み込みDBの無効領域を解消してジョブ遅延を予防しよう\nなお、組み込みDBの自動増分が設定されている場合、自動的に領域の拡張が行われるため、円グラフの表示が100％にはなりません。自動増分の履歴は画面から確認できないため、ディスクを使い切ることが無いよう別途ディスク容量の監視をすることを推奨します。\n実行ホスト\n［実行ホスト］画面では、実行エージェントの通信状態を確認することができます。通信が取れない実行エージェントは「接続不可」と表示されるため、ジョブが実行できない原因が通信状態かどうかの確認が即座に行えます。［実行ホスト］画面で、実行エージェントの状態を確認するには、マネージャーホストでジョブ配信遅延の軽減機能を有効にしておく必要があります。\nJP1 Version 13　JP1/Automatic Job Management System 3 構築ガイド\n21.5.1　ジョブ配信遅延の軽減機能を有効にする手順\n［実行ホスト］画面\n実行ホストを選択し、［サービス状態］をクリックすると、JP1/AJS3のサービスの状態が表示されます。マネージャーやエージェントホストにログインをせずにサービスの状態を確認することができます。\n［プロセス詳細］画面\nワンポイントアドバイス\nエージェントのジョブが異常終了した場合に、GUI上から通信状態やJP1サービスを確認できるため、障害時の迅速な一次対応に繋がります。\nマネジメントポータルのセットアップ\nマネジメントポータルを使用する場合は、マネージャーホストおよびエージェントホストでセットアップが必要です。また、JP1/AJS3の状態を取得するための各機能のセットアップが必要です。下記のマニュアルを参照してセットアップをしてください。\n▼Windowsの場合\nJP1 Version 13　JP1/Automatic Job Management System 3 構築ガイド\n3.4　JP1/AJS3 - Web Consoleを使用する場合に必要なセットアップ\nJP1 Version 13　JP1/Automatic Job Management System 3 構築ガイド\n6.7　Web GUI（マネジメントポータル）に関する設定\n▼UNIXの場合\nJP1 Version 13　JP1/Automatic Job Management System 3 構築ガイド\n13.3　JP1/AJS3 - Web Consoleを使用する場合に必要なセットアップ\nJP1 Version 13　JP1/Automatic Job Management System 3 構築ガイド\n15.8　Web GUI（マネジメントポータル）に関する設定\nまとめ\n今回はV13の新機能であるマネジメントポータルについてご紹介しました。JP1/AJS3が安定して稼働しているかどうかをWeb画面で簡単に監視できるようになったことは、運用担当者、特にJP1/AJS3にあまり触れたことがない方には嬉しい機能ではないでしょうか。急ぎ問題の有無を確認したい時など、発生頻度の高い事象をいち早くチェックできるので、迅速な対応にも繋がると思います。\nしかし、マネジメントポータルで確認した事象をログとして出力できないことや、確認後に取るべきアクションの指示表示が無いことなど、開発元へ機能拡張要求を出す必要はあると考えています。今回新登場したマネジメントポータルは、機能面ではまだ改善の余地はありますが、JP1/AJS3の標準機能として様々な情報が確認できるようになった点は評価できると思います。V13を導入された際は、ぜひお試しください。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Automatic Job Management System 3（JP1/AJS3）13-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は10年連続90%以上を維持しています。\n紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、Webサポートセンター「AWSC-2」をご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n2022年7月に中途入社。JP1のサポートセンターにて勤務。分かりやすい回答をご案内できるように心掛けています。2023年4月より本ブログ記事を担当することになりました。\n趣味は旅行です。特に京都が好きで、よく行きます。\n関連している記事\nジョブ管理\n2025.04.30\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\nJP1 CSの概要からジョブ管理の基本操作、注意点を分かりやすく解説しています。JP1 CSに興味がある方や 導入を検討されている方は、本ブログを参考にJP1 CSについて理解を深めてください。\nジョブ管理\n2025.01.06\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\nJP1/AJS3の組み込みデータベースの再セットアップをスムーズに行うための、詳細な手順を解説します。\nジョブ管理\n2024.10.25\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減\nジョブ定義の実装や管理の手間を削減できる、JP1/AJS3のオプション製品であるJP1/AJS3 - DAの活用例をご紹介します。\n« 前の記事\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
{"text": "Source: https://www.ashisuto.co.jp/jp1blog/article/nnmi_word.html\nTags: [JP1/AJS][JP1/IM][JP1/PFM][AWS][Troubleshooting][Setup]\nCategory: JP1_Blog_Ashisuto\nTitle: 【JP1/NNMi】入門編！JP1の基本用語を理解しよう！\nContent:\nネットワーク管理\n2024.02.22\n【JP1/NNMi】入門編！JP1の基本用語を理解しよう！\nJP1/NNMiのヘルプやマニュアルを読んでも単語が理解できない、そんなことはありませんか？\n本ブログでは、JP1/NNMiのヘルプやマニュアルを読む上で理解しておきたい、JP1の基本用語について解説します。\nNNMiコンソールの画面構成\nJP1/NNMiコンソール画面は、次のようなエリアから構成されています。\n構成を把握しておくことで、マニュアルなどに記載されている項目がコンソール画面のどこに表示されているのか探しやすくなります。\nJP1/NNMiコンソール画面\nライセンスとユーザー管理\nライセンスキー\nJP1/NNMiの使用には、ライセンスキーの適用が必要です。使用するライセンスキーは、お客様側で直接日立パスワードサービスセンターまで申請し入手いただく必要があります。\nライセンスキーを適用しない場合、JP1/NNMiのインストール後60日間でJP1/NNMiが利用できなくなります。\nNNMiユーザーグループ（ユーザーロール）\nNNMiコンソールに対する操作権限のことです。\nユーザーアカウントにどのNNMiユーザーグループを割り当てるかによって、表示／操作できるワークスペースが異なります。NNMiユーザーグループのことをユーザーロールとも言います。\n主なNNMiユーザーグループと、アクセス可能なワークスペースは以下のとおりです。\nNNMiユーザーグループ名\nアクセスできるワークスペース\nNNMi管理者\n全てのワークスペース\nNNMiレベル2オペレータ\n・「NNMiレベル1オペレータ」でアクセスできるワークスペース\n・［管理モード］ワークスペース\nNNMiレベル1オペレータ\n・［インシデントの参照］ワークスペース\n・［トポロジマップ］ワークスペース\n・［モニタリング］ワークスペース\n・［トラブルシューティング］ワークスペース\n・［インベントリ］ワークスペース\nNNMiゲストユーザー\n「NNMiレベル1オペレータ」でアクセスできるワークスペース（読み取り専用権限）\nJP1/NNMiのインストール直後には、「system」というシステムアカウントが自動で登録されています。\n「system」は、インストールプロセスで使用する特別な管理者アカウントです。\n「system」とは別に、NNMiコンソールで「NNMi管理者」に所属するユーザーアカウントを作成してください。\n監視対象の登録・管理\nノード\nネットワークに接続されているコンピュータシステムやデバイス（サーバー、プリンタ、ルーター、ブリッジなど）のことです。\n検出シード\nJP1/NNMiのネットワーク検出を補助するノードのことです。\n［設定］ワークスペースの［検出］－［シード］ビューから、検出シードとしてノードを登録すると、そのノードがJP1/NNMiに検出され、監視対象ノードとして登録されます。\nJP1/NNMiで検出されたノードは、［インベントリ］ワークスペースの［ノード］ビューから確認できます。\nノードグループ\n検出したノードをIPアドレスやデバイス種別などの条件でグルーピングしたものです。\nノードグループを使用することで、複数のノードに対して同一のモニタリング設定を行ったり、ノードグループ単位で監視マップを作成したりできます。\nノードグループの参照や新規作成は、［モニタリング］ワークスペースの［ノードグループ］ビューから行えます。\nJP1/NNMiにはデフォルトで複数のノードグループが用意されていますが、管理者が任意のノードグループを作成することも可能です。\n管理モード／直接管理モード\nノードやインターフェイス、IPアドレスを監視対象にするかは、下記2種類のモードで指定します。\n1.管理モード\nノードには、管理モードを設定します。\n管理モードが「管理対象」の場合、そのノードはJP1/NNMiによる監視対象になります。「非管理対象」および「サービス停止中」の場合は、ノードへの監視は行いません。\nノードに設定されている管理モードは、［ノード］フォームで確認および変更できます。\n［ノード］フォームは、［インベントリ］ワークスペースの［ノード］ビューでノードをダブルクリックすると表示できます。\n[ノード]フォーム\n2.直接管理モード\nノードに紐づくインターフェイスやIPアドレスには、直接管理モードを設定します。\nインターフェイスなどが監視対象となるかどうかは、直接管理モードの値と、ノードの管理モードの値から決定されます。\nそのため、ノードの管理モードが「非管理対象」の場合、そのノードの下位に関連付けられたインターフェイスやIPアドレスだけを「管理対象」とするような設定はできません。\n[インターフェイス]フォーム\nポーリング\nステータスポーリング\nJP1/NNMiが監視対象のノード・インターフェイス・IPアドレスに対して定期的に行う死活監視です。\n設定のポーリング\nJP1/NNMiが監視対象ノードを発見したり、設定や構成の変更を検出したりするために定期的に行う監視です。\n基本的なJP1/NNMiの設定\nモニタリングの設定\n［設定］ワークスペースの［モニタリング］－［モニタリングの設定］では、ネットワーク状態を監視するときの動作を設定できます。監視対象へステータスポーリング（死活監視）を行うかどうか、その際にプロトコルとしてSNMPを使用するか、ICMP（Ping）を使用するか、などを設定します。\n［モニタリングの設定］ビュー\n通信の設定\n［設定］ワークスペースの［通信の設定］ビューでは、SNMPやICMPなどの通信プロトコルに関する設定ができます。\n監視対象SNMPエージェントのGetコミュニティ文字列や、SNMPやICMPプロトコルを使用する場合のタイムアウト時間・リトライ回数などを設定します。\n［通信の設定］ビュー\nインシデント\nJP1/NNMiでは、監視対象で発生した事象を検知した際、管理者が把握すべき事象を「インシデント」として通知します。JP1/NNMiのインシデントには下記2種類があります。\n1.管理イベント\n管理イベントとは、JP1/NNMiからの監視時に生成されるインシデントです。\n例えば、ノードの停止を検知した場合に生成される「NodeDown」インシデント（.1.3.6.1.4.1.11.2.17.19.2.0.32）は管理イベントインシデントです。\n現在定義されている管理イベントのインシデント定義は、［設定］ワークスペースの［インシデント］－［管理イベントの設定］から確認できます。\n［管理イベントの設定］ビュー\n2.SNMPトラップ\n監視対象機器からのSNMPトラップによって生成されるインシデントです。\n例えば、「SNMPLinkDown」インシデント（.1.3.6.1.6.3.1.1.5.3）はSNMPトラップによって生成されるインシデントです。\n現在定義されているSNMPトラップのインシデント定義は、［設定］ワークスペースの［インシデント］－［SNMPトラップの設定］から確認できます。\n※一部のSNMPトラップについてはあらかじめJP1/NNMiで定義されていますが、MIBファイルをロードすることで、ベンダー固有のSNMPトラップのインシデント定義を設定することもできます。\n［SNMPトラップの設定］ビュー\n※\nNNMiコンソールの画面や実際の操作は、JP1/NNMiのバージョンにより多少異なります。\nまとめ\n2024年最初のブログは、JP1製品の中でも用語がわかりづらい、または混乱しがちなJP1/NNMiに関するJP1用語を取り上げました。JP1のマニュアルやJP1/NNMiのヘルプを参照しても、用語を知らないと理解できない内容も多いかと思います。\n本ブログの用語集で「せっかくマニュアルやヘルプを調べたのに意味がわからなかった」が少しでも解消されれば幸いです。\n製品正式名称(略称表記) および機能対象バージョン\nJP1/Network Node Manager i (JP1/NNMi) 11-00以降\nJP1/Cm2/Network Node Manager i (JP1/Cm2/NNMi) 09-00以降\nJP1ブログをご覧いただいているみなさまへご案内\nいつもJP1サポート技術者ブログをご覧いただきありがとうございます。\n本ブログの執筆を担当しているアシストJP1サポートセンターは、「JP1認定技術者」の資格を持つサポート技術者の対応が支持され、お客様満足度は\n10年連続90%以上\nを維持しています。紹介サイトでは、サポートセンターが誇る3つの特徴とJP1の最新情報満載の提供サービスを、お客様の声とともにご紹介しています。是非ご覧ください。\nまた、アシストとJP1保守契約を締結されている方は、\nWebサポートセンター「AWSC-2」\nをご利用いただけます。本ブログサイトではご紹介しきれない2,000件以上のFAQを公開していますので、是非ご利用ください。詳細は、下記リンクよりご確認ください。\n執筆者情報\n松下 想\n2022年入社時よりJP1のサポートセンターにて勤務。\nJP1をご利用いただいている方向けに、わかりやすく役に立つ情報を発信してまいります。\n趣味は音楽です。学生時代はホルンという楽器を担当していました。\nページトップへ戻る\n関連している記事\nネットワーク管理\n2023.01.31\n【JP1/SSO】JP1 V12.6新機能 SSOコンソールでユーザリソースを定義するには\nJP1/SNMP System Observer（JP1/SSO） V12.6の新機能で、SSOコンソールに [ユーザリソース定義作成] 画面が追加されました。\nネットワーク管理\n2020.12.22\n【JP1/NNMi】そのアラート重要なの？！JP1/NNMiのヘルスチェック機能が出力する「NNMi稼働状態ステータス」とは\nJP1/NNMiのヘルスチェック機能が出力する「NNMi稼働状態ステータス」メッセージの確認方法をご紹介します。\nネットワーク管理\n2020.03.30\n【JP1/NNMi】不要なエラーイベント発行を「抑止」！ 定期メンテナンス時に、計画的に死活監視を停止する方法\n不要なエラーイベント発行を「抑止」！ 定期メンテナンス時に、計画的に死活監視を停止する方法をご紹介します。\n次の記事 »\nカテゴリ一覧\nジョブ管理（34）\n統合管理（11）\nパフォーマンス管理（5）\nネットワーク管理（9）\n資産管理（12）\nIT運用自動化（1）\nJP1全般（14）\nJP1ブログ\n閲覧数ランキング\n1位\n【JP1/AJS3】\n入門編！JP1の基本用語を理解しよう！\n2位\n【JP1/Base】\nユーザーマッピングの基礎知識～知っておきたい設定方法と注意点を総ざらい～\n3位\n【JP1/AJS3】\n何が原因？！ ジョブの異常終了時には、ログを確認し障害をいち早く解決！\n4位\n【JP1/AJS3】\nJP1からだとバッチが実行できない！？\n5位\n【JP1/AJS3】\n本番リリースに向けた、ジョブ定義移行方法\n最新記事\n2025.06.27\nJP1全般\n【JP1全般】移行準備はお済みですか？JP1 Version9限定サポート終了まであと9か月\n2025.04.30\nジョブ管理\n【JP1 CS】はじめてのJP1 Cloud Service: SaaS版ジョブ管理をわかりやすく解説\n2025.02.27\nJP1全般\n【JP1全般】2025年版：よくご紹介するマニュアル箇所、対応OS、ライセンス、ライフサイクルを一挙ご紹介！\n2025.01.06\nジョブ管理\n【JP1/AJS3】組み込みDB再セットアップ完全ガイド\n2024.10.25\nジョブ管理\n【JP1/AJS3】JP1/AJS3 - DAでジョブ定義変更管理の工数を大幅削減"}
